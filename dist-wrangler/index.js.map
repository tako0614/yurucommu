{
  "version": 3,
  "sources": ["../node_modules/unenv/dist/runtime/_internal/utils.mjs", "../node_modules/unenv/dist/runtime/node/internal/perf_hooks/performance.mjs", "../node_modules/unenv/dist/runtime/node/perf_hooks.mjs", "../node_modules/@cloudflare/unenv-preset/dist/runtime/polyfill/performance.mjs", "../node_modules/unenv/dist/runtime/mock/noop.mjs", "../node_modules/unenv/dist/runtime/node/console.mjs", "../node_modules/@cloudflare/unenv-preset/dist/runtime/node/console.mjs", "../node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-console", "../node_modules/unenv/dist/runtime/node/internal/process/hrtime.mjs", "../node_modules/unenv/dist/runtime/node/internal/tty/read-stream.mjs", "../node_modules/unenv/dist/runtime/node/internal/tty/write-stream.mjs", "../node_modules/unenv/dist/runtime/node/tty.mjs", "../node_modules/unenv/dist/runtime/node/internal/process/process.mjs", "../node_modules/@cloudflare/unenv-preset/dist/runtime/node/process.mjs", "../node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-process", "../node_modules/@prisma/client-runtime-utils/dist/index.js", "../src/generated/prisma/runtime/wasm-compiler-edge.js", "../src/generated/prisma/query_compiler_bg.js", "../src/generated/prisma/wasm-worker-loader.mjs", "../src/generated/prisma/edge.js", "../src/generated/prisma/default.js", "../node_modules/@prisma/debug/dist/index.mjs", "../node_modules/@prisma/driver-adapter-utils/dist/index.mjs", "../src/backend/index.ts", "../node_modules/hono/dist/index.js", "../node_modules/hono/dist/hono.js", "../node_modules/hono/dist/hono-base.js", "../node_modules/hono/dist/compose.js", "../node_modules/hono/dist/context.js", "../node_modules/hono/dist/request.js", "../node_modules/hono/dist/http-exception.js", "../node_modules/hono/dist/request/constants.js", "../node_modules/hono/dist/utils/body.js", "../node_modules/hono/dist/utils/url.js", "../node_modules/hono/dist/utils/html.js", "../node_modules/hono/dist/router.js", "../node_modules/hono/dist/utils/constants.js", "../node_modules/hono/dist/router/reg-exp-router/index.js", "../node_modules/hono/dist/router/reg-exp-router/router.js", "../node_modules/hono/dist/router/reg-exp-router/matcher.js", "../node_modules/hono/dist/router/reg-exp-router/node.js", "../node_modules/hono/dist/router/reg-exp-router/trie.js", "../node_modules/hono/dist/router/reg-exp-router/prepared-router.js", "../node_modules/hono/dist/router/smart-router/index.js", "../node_modules/hono/dist/router/smart-router/router.js", "../node_modules/hono/dist/router/trie-router/index.js", "../node_modules/hono/dist/router/trie-router/router.js", "../node_modules/hono/dist/router/trie-router/node.js", "../node_modules/hono/dist/helper/cookie/index.js", "../node_modules/hono/dist/utils/cookie.js", "../src/backend/lib/db.ts", "../node_modules/@prisma/adapter-d1/dist/index-workerd.mjs", "../node_modules/ky/source/index.ts", "../node_modules/ky/source/core/Ky.ts", "../node_modules/ky/source/errors/HTTPError.ts", "../node_modules/ky/source/errors/TimeoutError.ts", "../node_modules/ky/source/utils/merge.ts", "../node_modules/ky/source/utils/is.ts", "../node_modules/ky/source/utils/normalize.ts", "../node_modules/ky/source/core/constants.ts", "../node_modules/ky/source/utils/timeout.ts", "../node_modules/ky/source/utils/delay.ts", "../node_modules/ky/source/utils/options.ts", "../src/backend/routes/auth.ts", "../src/backend/utils.ts", "../src/backend/lib/errors.ts", "../src/backend/middleware/error-handler.ts", "../src/backend/lib/crypto.ts", "../src/backend/lib/oauth-providers.ts", "../src/backend/lib/oauth-utils.ts", "../src/backend/routes/actors.ts", "../src/backend/middleware/cache.ts", "../src/backend/routes/follow.ts", "../src/backend/routes/timeline.ts", "../src/backend/routes/posts.ts", "../src/backend/routes/posts/base.ts", "../src/backend/routes/posts/utils.ts", "../src/backend/lib/activitypub-helpers.ts", "../src/backend/routes/posts/interactions.ts", "../src/backend/routes/notifications.ts", "../src/backend/routes/stories.ts", "../src/backend/routes/stories/base.ts", "../src/backend/routes/stories/utils.ts", "../src/backend/routes/stories/interactions.ts", "../src/backend/routes/search.ts", "../src/backend/routes/communities.ts", "../src/backend/routes/communities/base.ts", "../src/backend/routes/communities/utils.ts", "../src/backend/routes/communities/membership.ts", "../src/backend/routes/communities/membership-invites.ts", "../src/backend/routes/communities/membership-shared.ts", "../src/backend/routes/communities/membership-join.ts", "../src/backend/routes/communities/membership-members.ts", "../src/backend/routes/communities/membership-requests.ts", "../src/backend/routes/communities/messages.ts", "../src/backend/routes/dm.ts", "../src/backend/routes/dm/conversations.ts", "../src/backend/routes/dm/utils.ts", "../src/backend/routes/dm/messages.ts", "../src/backend/routes/media.ts", "../src/backend/routes/activitypub.ts", "../src/backend/routes/activitypub/utils.ts", "../src/backend/routes/activitypub/inbox.ts", "../src/backend/routes/activitypub/inbox-types.ts", "../src/backend/routes/activitypub/handlers/actorInboxHandlers.ts", "../src/backend/routes/activitypub/handlers/userInboxHandlers.ts", "../src/backend/routes/activitypub/outbox.ts", "../src/backend/routes/takos-proxy.ts", "../src/backend/lib/takos-client.ts", "../src/backend/middleware/rate-limit.ts", "../src/backend/middleware/csrf.ts"],
  "sourceRoot": "dist-wrangler",
  "sourcesContent": ["/*@__NO_SIDE_EFFECTS__*/ export function rawHeaders(headers) {\n\tconst rawHeaders = [];\n\tfor (const key in headers) {\n\t\tif (Array.isArray(headers[key])) {\n\t\t\tfor (const h of headers[key]) {\n\t\t\t\trawHeaders.push(key, h);\n\t\t\t}\n\t\t} else {\n\t\t\trawHeaders.push(key, headers[key]);\n\t\t}\n\t}\n\treturn rawHeaders;\n}\n/*@__NO_SIDE_EFFECTS__*/ export function mergeFns(...functions) {\n\treturn function(...args) {\n\t\tfor (const fn of functions) {\n\t\t\tfn(...args);\n\t\t}\n\t};\n}\n/*@__NO_SIDE_EFFECTS__*/ export function createNotImplementedError(name) {\n\treturn new Error(`[unenv] ${name} is not implemented yet!`);\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplemented(name) {\n\tconst fn = () => {\n\t\tthrow createNotImplementedError(name);\n\t};\n\treturn Object.assign(fn, { __unenv__: true });\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplementedAsync(name) {\n\tconst fn = notImplemented(name);\n\tfn.__promisify__ = () => notImplemented(name + \".__promisify__\");\n\tfn.native = fn;\n\treturn fn;\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplementedClass(name) {\n\treturn class {\n\t\t__unenv__ = true;\n\t\tconstructor() {\n\t\t\tthrow new Error(`[unenv] ${name} is not implemented yet!`);\n\t\t}\n\t};\n}\n", "import { createNotImplementedError } from \"../../../_internal/utils.mjs\";\nconst _timeOrigin = globalThis.performance?.timeOrigin ?? Date.now();\nconst _performanceNow = globalThis.performance?.now ? globalThis.performance.now.bind(globalThis.performance) : () => Date.now() - _timeOrigin;\nconst nodeTiming = {\n\tname: \"node\",\n\tentryType: \"node\",\n\tstartTime: 0,\n\tduration: 0,\n\tnodeStart: 0,\n\tv8Start: 0,\n\tbootstrapComplete: 0,\n\tenvironment: 0,\n\tloopStart: 0,\n\tloopExit: 0,\n\tidleTime: 0,\n\tuvMetricsInfo: {\n\t\tloopCount: 0,\n\t\tevents: 0,\n\t\teventsWaiting: 0\n\t},\n\tdetail: undefined,\n\ttoJSON() {\n\t\treturn this;\n\t}\n};\nexport class PerformanceEntry {\n\t__unenv__ = true;\n\tdetail;\n\tentryType = \"event\";\n\tname;\n\tstartTime;\n\tconstructor(name, options) {\n\t\tthis.name = name;\n\t\tthis.startTime = options?.startTime || _performanceNow();\n\t\tthis.detail = options?.detail;\n\t}\n\tget duration() {\n\t\treturn _performanceNow() - this.startTime;\n\t}\n\ttoJSON() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tentryType: this.entryType,\n\t\t\tstartTime: this.startTime,\n\t\t\tduration: this.duration,\n\t\t\tdetail: this.detail\n\t\t};\n\t}\n}\nexport const PerformanceMark = class PerformanceMark extends PerformanceEntry {\n\tentryType = \"mark\";\n\tconstructor() {\n\t\tsuper(...arguments);\n\t}\n\tget duration() {\n\t\treturn 0;\n\t}\n};\nexport class PerformanceMeasure extends PerformanceEntry {\n\tentryType = \"measure\";\n}\nexport class PerformanceResourceTiming extends PerformanceEntry {\n\tentryType = \"resource\";\n\tserverTiming = [];\n\tconnectEnd = 0;\n\tconnectStart = 0;\n\tdecodedBodySize = 0;\n\tdomainLookupEnd = 0;\n\tdomainLookupStart = 0;\n\tencodedBodySize = 0;\n\tfetchStart = 0;\n\tinitiatorType = \"\";\n\tname = \"\";\n\tnextHopProtocol = \"\";\n\tredirectEnd = 0;\n\tredirectStart = 0;\n\trequestStart = 0;\n\tresponseEnd = 0;\n\tresponseStart = 0;\n\tsecureConnectionStart = 0;\n\tstartTime = 0;\n\ttransferSize = 0;\n\tworkerStart = 0;\n\tresponseStatus = 0;\n}\nexport class PerformanceObserverEntryList {\n\t__unenv__ = true;\n\tgetEntries() {\n\t\treturn [];\n\t}\n\tgetEntriesByName(_name, _type) {\n\t\treturn [];\n\t}\n\tgetEntriesByType(type) {\n\t\treturn [];\n\t}\n}\nexport class Performance {\n\t__unenv__ = true;\n\ttimeOrigin = _timeOrigin;\n\teventCounts = new Map();\n\t_entries = [];\n\t_resourceTimingBufferSize = 0;\n\tnavigation = undefined;\n\ttiming = undefined;\n\ttimerify(_fn, _options) {\n\t\tthrow createNotImplementedError(\"Performance.timerify\");\n\t}\n\tget nodeTiming() {\n\t\treturn nodeTiming;\n\t}\n\teventLoopUtilization() {\n\t\treturn {};\n\t}\n\tmarkResourceTiming() {\n\t\treturn new PerformanceResourceTiming(\"\");\n\t}\n\tonresourcetimingbufferfull = null;\n\tnow() {\n\t\tif (this.timeOrigin === _timeOrigin) {\n\t\t\treturn _performanceNow();\n\t\t}\n\t\treturn Date.now() - this.timeOrigin;\n\t}\n\tclearMarks(markName) {\n\t\tthis._entries = markName ? this._entries.filter((e) => e.name !== markName) : this._entries.filter((e) => e.entryType !== \"mark\");\n\t}\n\tclearMeasures(measureName) {\n\t\tthis._entries = measureName ? this._entries.filter((e) => e.name !== measureName) : this._entries.filter((e) => e.entryType !== \"measure\");\n\t}\n\tclearResourceTimings() {\n\t\tthis._entries = this._entries.filter((e) => e.entryType !== \"resource\" || e.entryType !== \"navigation\");\n\t}\n\tgetEntries() {\n\t\treturn this._entries;\n\t}\n\tgetEntriesByName(name, type) {\n\t\treturn this._entries.filter((e) => e.name === name && (!type || e.entryType === type));\n\t}\n\tgetEntriesByType(type) {\n\t\treturn this._entries.filter((e) => e.entryType === type);\n\t}\n\tmark(name, options) {\n\t\tconst entry = new PerformanceMark(name, options);\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tmeasure(measureName, startOrMeasureOptions, endMark) {\n\t\tlet start;\n\t\tlet end;\n\t\tif (typeof startOrMeasureOptions === \"string\") {\n\t\t\tstart = this.getEntriesByName(startOrMeasureOptions, \"mark\")[0]?.startTime;\n\t\t\tend = this.getEntriesByName(endMark, \"mark\")[0]?.startTime;\n\t\t} else {\n\t\t\tstart = Number.parseFloat(startOrMeasureOptions?.start) || this.now();\n\t\t\tend = Number.parseFloat(startOrMeasureOptions?.end) || this.now();\n\t\t}\n\t\tconst entry = new PerformanceMeasure(measureName, {\n\t\t\tstartTime: start,\n\t\t\tdetail: {\n\t\t\t\tstart,\n\t\t\t\tend\n\t\t\t}\n\t\t});\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tsetResourceTimingBufferSize(maxSize) {\n\t\tthis._resourceTimingBufferSize = maxSize;\n\t}\n\taddEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.addEventListener\");\n\t}\n\tremoveEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.removeEventListener\");\n\t}\n\tdispatchEvent(event) {\n\t\tthrow createNotImplementedError(\"Performance.dispatchEvent\");\n\t}\n\ttoJSON() {\n\t\treturn this;\n\t}\n}\nexport class PerformanceObserver {\n\t__unenv__ = true;\n\tstatic supportedEntryTypes = [];\n\t_callback = null;\n\tconstructor(callback) {\n\t\tthis._callback = callback;\n\t}\n\ttakeRecords() {\n\t\treturn [];\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.disconnect\");\n\t}\n\tobserve(options) {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.observe\");\n\t}\n\tbind(fn) {\n\t\treturn fn;\n\t}\n\trunInAsyncScope(fn, thisArg, ...args) {\n\t\treturn fn.call(thisArg, ...args);\n\t}\n\tasyncId() {\n\t\treturn 0;\n\t}\n\ttriggerAsyncId() {\n\t\treturn 0;\n\t}\n\temitDestroy() {\n\t\treturn this;\n\t}\n}\nexport const performance = globalThis.performance && \"addEventListener\" in globalThis.performance ? globalThis.performance : new Performance();\n", "import { IntervalHistogram, RecordableHistogram } from \"./internal/perf_hooks/histogram.mjs\";\nimport { performance, Performance, PerformanceEntry, PerformanceMark, PerformanceMeasure, PerformanceObserverEntryList, PerformanceObserver, PerformanceResourceTiming } from \"./internal/perf_hooks/performance.mjs\";\nexport * from \"./internal/perf_hooks/performance.mjs\";\nimport { NODE_PERFORMANCE_GC_MAJOR, NODE_PERFORMANCE_GC_MINOR, NODE_PERFORMANCE_GC_INCREMENTAL, NODE_PERFORMANCE_GC_WEAKCB, NODE_PERFORMANCE_GC_FLAGS_NO, NODE_PERFORMANCE_GC_FLAGS_CONSTRUCT_RETAINED, NODE_PERFORMANCE_GC_FLAGS_FORCED, NODE_PERFORMANCE_GC_FLAGS_SYNCHRONOUS_PHANTOM_PROCESSING, NODE_PERFORMANCE_GC_FLAGS_ALL_AVAILABLE_GARBAGE, NODE_PERFORMANCE_GC_FLAGS_ALL_EXTERNAL_MEMORY, NODE_PERFORMANCE_GC_FLAGS_SCHEDULE_IDLE, NODE_PERFORMANCE_ENTRY_TYPE_GC, NODE_PERFORMANCE_ENTRY_TYPE_HTTP, NODE_PERFORMANCE_ENTRY_TYPE_HTTP2, NODE_PERFORMANCE_ENTRY_TYPE_NET, NODE_PERFORMANCE_ENTRY_TYPE_DNS, NODE_PERFORMANCE_MILESTONE_TIME_ORIGIN_TIMESTAMP, NODE_PERFORMANCE_MILESTONE_TIME_ORIGIN, NODE_PERFORMANCE_MILESTONE_ENVIRONMENT, NODE_PERFORMANCE_MILESTONE_NODE_START, NODE_PERFORMANCE_MILESTONE_V8_START, NODE_PERFORMANCE_MILESTONE_LOOP_START, NODE_PERFORMANCE_MILESTONE_LOOP_EXIT, NODE_PERFORMANCE_MILESTONE_BOOTSTRAP_COMPLETE } from \"./internal/perf_hooks/constants.mjs\";\nexport const constants = {\n\tNODE_PERFORMANCE_GC_MAJOR,\n\tNODE_PERFORMANCE_GC_MINOR,\n\tNODE_PERFORMANCE_GC_INCREMENTAL,\n\tNODE_PERFORMANCE_GC_WEAKCB,\n\tNODE_PERFORMANCE_GC_FLAGS_NO,\n\tNODE_PERFORMANCE_GC_FLAGS_CONSTRUCT_RETAINED,\n\tNODE_PERFORMANCE_GC_FLAGS_FORCED,\n\tNODE_PERFORMANCE_GC_FLAGS_SYNCHRONOUS_PHANTOM_PROCESSING,\n\tNODE_PERFORMANCE_GC_FLAGS_ALL_AVAILABLE_GARBAGE,\n\tNODE_PERFORMANCE_GC_FLAGS_ALL_EXTERNAL_MEMORY,\n\tNODE_PERFORMANCE_GC_FLAGS_SCHEDULE_IDLE,\n\tNODE_PERFORMANCE_ENTRY_TYPE_GC,\n\tNODE_PERFORMANCE_ENTRY_TYPE_HTTP,\n\tNODE_PERFORMANCE_ENTRY_TYPE_HTTP2,\n\tNODE_PERFORMANCE_ENTRY_TYPE_NET,\n\tNODE_PERFORMANCE_ENTRY_TYPE_DNS,\n\tNODE_PERFORMANCE_MILESTONE_TIME_ORIGIN_TIMESTAMP,\n\tNODE_PERFORMANCE_MILESTONE_TIME_ORIGIN,\n\tNODE_PERFORMANCE_MILESTONE_ENVIRONMENT,\n\tNODE_PERFORMANCE_MILESTONE_NODE_START,\n\tNODE_PERFORMANCE_MILESTONE_V8_START,\n\tNODE_PERFORMANCE_MILESTONE_LOOP_START,\n\tNODE_PERFORMANCE_MILESTONE_LOOP_EXIT,\n\tNODE_PERFORMANCE_MILESTONE_BOOTSTRAP_COMPLETE\n};\nexport const monitorEventLoopDelay = function(_options) {\n\treturn new IntervalHistogram();\n};\nexport const createHistogram = function(_options) {\n\treturn new RecordableHistogram();\n};\nexport default {\n\tPerformance,\n\tPerformanceMark,\n\tPerformanceEntry,\n\tPerformanceMeasure,\n\tPerformanceObserverEntryList,\n\tPerformanceObserver,\n\tPerformanceResourceTiming,\n\tperformance,\n\tconstants,\n\tcreateHistogram,\n\tmonitorEventLoopDelay\n};\n", "import {\n  performance,\n  Performance,\n  PerformanceEntry,\n  PerformanceMark,\n  PerformanceMeasure,\n  PerformanceObserver,\n  PerformanceObserverEntryList,\n  PerformanceResourceTiming\n} from \"node:perf_hooks\";\nglobalThis.performance = performance;\nglobalThis.Performance = Performance;\nglobalThis.PerformanceEntry = PerformanceEntry;\nglobalThis.PerformanceMark = PerformanceMark;\nglobalThis.PerformanceMeasure = PerformanceMeasure;\nglobalThis.PerformanceObserver = PerformanceObserver;\nglobalThis.PerformanceObserverEntryList = PerformanceObserverEntryList;\nglobalThis.PerformanceResourceTiming = PerformanceResourceTiming;\n", "export default Object.assign(() => {}, { __unenv__: true });\n", "import { Writable } from \"node:stream\";\nimport noop from \"../mock/noop.mjs\";\nimport { notImplemented, notImplementedClass } from \"../_internal/utils.mjs\";\nconst _console = globalThis.console;\nexport const _ignoreErrors = true;\nexport const _stderr = new Writable();\nexport const _stdout = new Writable();\nexport const log = _console?.log ?? noop;\nexport const info = _console?.info ?? log;\nexport const trace = _console?.trace ?? info;\nexport const debug = _console?.debug ?? log;\nexport const table = _console?.table ?? log;\nexport const error = _console?.error ?? log;\nexport const warn = _console?.warn ?? error;\nexport const createTask = _console?.createTask ?? /*@__PURE__*/ notImplemented(\"console.createTask\");\nexport const assert = /*@__PURE__*/ notImplemented(\"console.assert\");\nexport const clear = _console?.clear ?? noop;\nexport const count = _console?.count ?? noop;\nexport const countReset = _console?.countReset ?? noop;\nexport const dir = _console?.dir ?? noop;\nexport const dirxml = _console?.dirxml ?? noop;\nexport const group = _console?.group ?? noop;\nexport const groupEnd = _console?.groupEnd ?? noop;\nexport const groupCollapsed = _console?.groupCollapsed ?? noop;\nexport const profile = _console?.profile ?? noop;\nexport const profileEnd = _console?.profileEnd ?? noop;\nexport const time = _console?.time ?? noop;\nexport const timeEnd = _console?.timeEnd ?? noop;\nexport const timeLog = _console?.timeLog ?? noop;\nexport const timeStamp = _console?.timeStamp ?? noop;\nexport const Console = _console?.Console ?? /*@__PURE__*/ notImplementedClass(\"console.Console\");\nexport const _times = /*@__PURE__*/ new Map();\nexport function context() {\n\treturn _console;\n}\nexport const _stdoutErrorHandler = noop;\nexport const _stderrErrorHandler = noop;\nexport default {\n\t_times,\n\t_ignoreErrors,\n\t_stdoutErrorHandler,\n\t_stderrErrorHandler,\n\t_stdout,\n\t_stderr,\n\tassert,\n\tclear,\n\tConsole,\n\tcount,\n\tcountReset,\n\tdebug,\n\tdir,\n\tdirxml,\n\terror,\n\tcontext,\n\tcreateTask,\n\tgroup,\n\tgroupEnd,\n\tgroupCollapsed,\n\tinfo,\n\tlog,\n\tprofile,\n\tprofileEnd,\n\ttable,\n\ttime,\n\ttimeEnd,\n\ttimeLog,\n\ttimeStamp,\n\ttrace,\n\twarn\n};\n", "import {\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times,\n  Console\n} from \"unenv/node/console\";\nexport {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n} from \"unenv/node/console\";\nconst workerdConsole = globalThis[\"console\"];\nexport const {\n  assert,\n  clear,\n  // @ts-expect-error undocumented public API\n  context,\n  count,\n  countReset,\n  // @ts-expect-error undocumented public API\n  createTask,\n  debug,\n  dir,\n  dirxml,\n  error,\n  group,\n  groupCollapsed,\n  groupEnd,\n  info,\n  log,\n  profile,\n  profileEnd,\n  table,\n  time,\n  timeEnd,\n  timeLog,\n  timeStamp,\n  trace,\n  warn\n} = workerdConsole;\nObject.assign(workerdConsole, {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n});\nexport default workerdConsole;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/console\";\nglobalThis.console = defaultExport;", "export const hrtime = /*@__PURE__*/ Object.assign(function hrtime(startTime) {\n\tconst now = Date.now();\n\tconst seconds = Math.trunc(now / 1e3);\n\tconst nanos = now % 1e3 * 1e6;\n\tif (startTime) {\n\t\tlet diffSeconds = seconds - startTime[0];\n\t\tlet diffNanos = nanos - startTime[0];\n\t\tif (diffNanos < 0) {\n\t\t\tdiffSeconds = diffSeconds - 1;\n\t\t\tdiffNanos = 1e9 + diffNanos;\n\t\t}\n\t\treturn [diffSeconds, diffNanos];\n\t}\n\treturn [seconds, nanos];\n}, { bigint: function bigint() {\n\treturn BigInt(Date.now() * 1e6);\n} });\n", "import { Socket } from \"node:net\";\nexport class ReadStream extends Socket {\n\tfd;\n\tconstructor(fd) {\n\t\tsuper();\n\t\tthis.fd = fd;\n\t}\n\tisRaw = false;\n\tsetRawMode(mode) {\n\t\tthis.isRaw = mode;\n\t\treturn this;\n\t}\n\tisTTY = false;\n}\n", "import { Socket } from \"node:net\";\nexport class WriteStream extends Socket {\n\tfd;\n\tconstructor(fd) {\n\t\tsuper();\n\t\tthis.fd = fd;\n\t}\n\tclearLine(dir, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tclearScreenDown(callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tcursorTo(x, y, callback) {\n\t\tcallback && typeof callback === \"function\" && callback();\n\t\treturn false;\n\t}\n\tmoveCursor(dx, dy, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tgetColorDepth(env) {\n\t\treturn 1;\n\t}\n\thasColors(count, env) {\n\t\treturn false;\n\t}\n\tgetWindowSize() {\n\t\treturn [this.columns, this.rows];\n\t}\n\tcolumns = 80;\n\trows = 24;\n\tisTTY = false;\n}\n", "import { ReadStream } from \"./internal/tty/read-stream.mjs\";\nimport { WriteStream } from \"./internal/tty/write-stream.mjs\";\nexport { ReadStream } from \"./internal/tty/read-stream.mjs\";\nexport { WriteStream } from \"./internal/tty/write-stream.mjs\";\nexport const isatty = function() {\n\treturn false;\n};\nexport default {\n\tReadStream,\n\tWriteStream,\n\tisatty\n};\n", "import { EventEmitter } from \"node:events\";\nimport { ReadStream, WriteStream } from \"node:tty\";\nimport { notImplemented, createNotImplementedError } from \"../../../_internal/utils.mjs\";\nexport class Process extends EventEmitter {\n\tenv;\n\thrtime;\n\tnextTick;\n\tconstructor(impl) {\n\t\tsuper();\n\t\tthis.env = impl.env;\n\t\tthis.hrtime = impl.hrtime;\n\t\tthis.nextTick = impl.nextTick;\n\t\tfor (const prop of [...Object.getOwnPropertyNames(Process.prototype), ...Object.getOwnPropertyNames(EventEmitter.prototype)]) {\n\t\t\tconst value = this[prop];\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tthis[prop] = value.bind(this);\n\t\t\t}\n\t\t}\n\t}\n\temitWarning(warning, type, code) {\n\t\tconsole.warn(`${code ? `[${code}] ` : \"\"}${type ? `${type}: ` : \"\"}${warning}`);\n\t}\n\temit(...args) {\n\t\treturn super.emit(...args);\n\t}\n\tlisteners(eventName) {\n\t\treturn super.listeners(eventName);\n\t}\n\t#stdin;\n\t#stdout;\n\t#stderr;\n\tget stdin() {\n\t\treturn this.#stdin ??= new ReadStream(0);\n\t}\n\tget stdout() {\n\t\treturn this.#stdout ??= new WriteStream(1);\n\t}\n\tget stderr() {\n\t\treturn this.#stderr ??= new WriteStream(2);\n\t}\n\t#cwd = \"/\";\n\tchdir(cwd) {\n\t\tthis.#cwd = cwd;\n\t}\n\tcwd() {\n\t\treturn this.#cwd;\n\t}\n\tarch = \"\";\n\tplatform = \"\";\n\targv = [];\n\targv0 = \"\";\n\texecArgv = [];\n\texecPath = \"\";\n\ttitle = \"\";\n\tpid = 200;\n\tppid = 100;\n\tget version() {\n\t\treturn \"\";\n\t}\n\tget versions() {\n\t\treturn {};\n\t}\n\tget allowedNodeEnvironmentFlags() {\n\t\treturn new Set();\n\t}\n\tget sourceMapsEnabled() {\n\t\treturn false;\n\t}\n\tget debugPort() {\n\t\treturn 0;\n\t}\n\tget throwDeprecation() {\n\t\treturn false;\n\t}\n\tget traceDeprecation() {\n\t\treturn false;\n\t}\n\tget features() {\n\t\treturn {};\n\t}\n\tget release() {\n\t\treturn {};\n\t}\n\tget connected() {\n\t\treturn false;\n\t}\n\tget config() {\n\t\treturn {};\n\t}\n\tget moduleLoadList() {\n\t\treturn [];\n\t}\n\tconstrainedMemory() {\n\t\treturn 0;\n\t}\n\tavailableMemory() {\n\t\treturn 0;\n\t}\n\tuptime() {\n\t\treturn 0;\n\t}\n\tresourceUsage() {\n\t\treturn {};\n\t}\n\tref() {}\n\tunref() {}\n\tumask() {\n\t\tthrow createNotImplementedError(\"process.umask\");\n\t}\n\tgetBuiltinModule() {\n\t\treturn undefined;\n\t}\n\tgetActiveResourcesInfo() {\n\t\tthrow createNotImplementedError(\"process.getActiveResourcesInfo\");\n\t}\n\texit() {\n\t\tthrow createNotImplementedError(\"process.exit\");\n\t}\n\treallyExit() {\n\t\tthrow createNotImplementedError(\"process.reallyExit\");\n\t}\n\tkill() {\n\t\tthrow createNotImplementedError(\"process.kill\");\n\t}\n\tabort() {\n\t\tthrow createNotImplementedError(\"process.abort\");\n\t}\n\tdlopen() {\n\t\tthrow createNotImplementedError(\"process.dlopen\");\n\t}\n\tsetSourceMapsEnabled() {\n\t\tthrow createNotImplementedError(\"process.setSourceMapsEnabled\");\n\t}\n\tloadEnvFile() {\n\t\tthrow createNotImplementedError(\"process.loadEnvFile\");\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"process.disconnect\");\n\t}\n\tcpuUsage() {\n\t\tthrow createNotImplementedError(\"process.cpuUsage\");\n\t}\n\tsetUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.setUncaughtExceptionCaptureCallback\");\n\t}\n\thasUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.hasUncaughtExceptionCaptureCallback\");\n\t}\n\tinitgroups() {\n\t\tthrow createNotImplementedError(\"process.initgroups\");\n\t}\n\topenStdin() {\n\t\tthrow createNotImplementedError(\"process.openStdin\");\n\t}\n\tassert() {\n\t\tthrow createNotImplementedError(\"process.assert\");\n\t}\n\tbinding() {\n\t\tthrow createNotImplementedError(\"process.binding\");\n\t}\n\tpermission = { has: /*@__PURE__*/ notImplemented(\"process.permission.has\") };\n\treport = {\n\t\tdirectory: \"\",\n\t\tfilename: \"\",\n\t\tsignal: \"SIGUSR2\",\n\t\tcompact: false,\n\t\treportOnFatalError: false,\n\t\treportOnSignal: false,\n\t\treportOnUncaughtException: false,\n\t\tgetReport: /*@__PURE__*/ notImplemented(\"process.report.getReport\"),\n\t\twriteReport: /*@__PURE__*/ notImplemented(\"process.report.writeReport\")\n\t};\n\tfinalization = {\n\t\tregister: /*@__PURE__*/ notImplemented(\"process.finalization.register\"),\n\t\tunregister: /*@__PURE__*/ notImplemented(\"process.finalization.unregister\"),\n\t\tregisterBeforeExit: /*@__PURE__*/ notImplemented(\"process.finalization.registerBeforeExit\")\n\t};\n\tmemoryUsage = Object.assign(() => ({\n\t\tarrayBuffers: 0,\n\t\trss: 0,\n\t\texternal: 0,\n\t\theapTotal: 0,\n\t\theapUsed: 0\n\t}), { rss: () => 0 });\n\tmainModule = undefined;\n\tdomain = undefined;\n\tsend = undefined;\n\texitCode = undefined;\n\tchannel = undefined;\n\tgetegid = undefined;\n\tgeteuid = undefined;\n\tgetgid = undefined;\n\tgetgroups = undefined;\n\tgetuid = undefined;\n\tsetegid = undefined;\n\tseteuid = undefined;\n\tsetgid = undefined;\n\tsetgroups = undefined;\n\tsetuid = undefined;\n\t_events = undefined;\n\t_eventsCount = undefined;\n\t_exiting = undefined;\n\t_maxListeners = undefined;\n\t_debugEnd = undefined;\n\t_debugProcess = undefined;\n\t_fatalException = undefined;\n\t_getActiveHandles = undefined;\n\t_getActiveRequests = undefined;\n\t_kill = undefined;\n\t_preload_modules = undefined;\n\t_rawDebug = undefined;\n\t_startProfilerIdleNotifier = undefined;\n\t_stopProfilerIdleNotifier = undefined;\n\t_tickCallback = undefined;\n\t_disconnect = undefined;\n\t_handleQueue = undefined;\n\t_pendingMessage = undefined;\n\t_channel = undefined;\n\t_send = undefined;\n\t_linkedBinding = undefined;\n}\n", "import { hrtime as UnenvHrTime } from \"unenv/node/internal/process/hrtime\";\nimport { Process as UnenvProcess } from \"unenv/node/internal/process/process\";\nconst globalProcess = globalThis[\"process\"];\nexport const getBuiltinModule = globalProcess.getBuiltinModule;\nexport const { exit, platform, nextTick } = getBuiltinModule(\n  \"node:process\"\n);\nconst unenvProcess = new UnenvProcess({\n  env: globalProcess.env,\n  hrtime: UnenvHrTime,\n  nextTick\n});\nexport const {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  finalization,\n  features,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  on,\n  off,\n  once,\n  pid,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n} = unenvProcess;\nconst _process = {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  exit,\n  finalization,\n  features,\n  getBuiltinModule,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  nextTick,\n  on,\n  off,\n  once,\n  pid,\n  platform,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  // @ts-expect-error old API\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n};\nexport default _process;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/process\";\nglobalThis.process = defaultExport;", "\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod2) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod2);\n\n// src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  AnyNull: () => AnyNull,\n  AnyNullClass: () => AnyNullClass,\n  DbNull: () => DbNull,\n  DbNullClass: () => DbNullClass,\n  Decimal: () => Decimal,\n  JsonNull: () => JsonNull,\n  JsonNullClass: () => JsonNullClass,\n  NullTypes: () => NullTypes,\n  ObjectEnumValue: () => ObjectEnumValue,\n  PrismaClientInitializationError: () => PrismaClientInitializationError,\n  PrismaClientKnownRequestError: () => PrismaClientKnownRequestError,\n  PrismaClientRustError: () => PrismaClientRustError,\n  PrismaClientRustPanicError: () => PrismaClientRustPanicError,\n  PrismaClientUnknownRequestError: () => PrismaClientUnknownRequestError,\n  PrismaClientValidationError: () => PrismaClientValidationError,\n  Sql: () => Sql,\n  empty: () => empty,\n  hasBatchIndex: () => hasBatchIndex,\n  isAnyNull: () => isAnyNull,\n  isDbNull: () => isDbNull,\n  isJsonNull: () => isJsonNull,\n  join: () => join,\n  raw: () => raw,\n  sql: () => sql\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// src/errors/ErrorWithBatchIndex.ts\nfunction hasBatchIndex(value) {\n  return typeof value[\"batchRequestIdx\"] === \"number\";\n}\n\n// src/errors/setClassName.ts\nfunction setClassName(classObject, name) {\n  Object.defineProperty(classObject, \"name\", {\n    value: name,\n    configurable: true\n  });\n}\n\n// src/errors/PrismaClientInitializationError.ts\nvar PrismaClientInitializationError = class _PrismaClientInitializationError extends Error {\n  clientVersion;\n  errorCode;\n  retryable;\n  constructor(message, clientVersion, errorCode) {\n    super(message);\n    this.name = \"PrismaClientInitializationError\";\n    this.clientVersion = clientVersion;\n    this.errorCode = errorCode;\n    Error.captureStackTrace(_PrismaClientInitializationError);\n  }\n  get [Symbol.toStringTag]() {\n    return \"PrismaClientInitializationError\";\n  }\n};\nsetClassName(PrismaClientInitializationError, \"PrismaClientInitializationError\");\n\n// src/errors/PrismaClientKnownRequestError.ts\nvar PrismaClientKnownRequestError = class extends Error {\n  code;\n  meta;\n  clientVersion;\n  batchRequestIdx;\n  constructor(message, { code, clientVersion, meta, batchRequestIdx }) {\n    super(message);\n    this.name = \"PrismaClientKnownRequestError\";\n    this.code = code;\n    this.clientVersion = clientVersion;\n    this.meta = meta;\n    Object.defineProperty(this, \"batchRequestIdx\", {\n      value: batchRequestIdx,\n      enumerable: false,\n      writable: true\n    });\n  }\n  get [Symbol.toStringTag]() {\n    return \"PrismaClientKnownRequestError\";\n  }\n};\nsetClassName(PrismaClientKnownRequestError, \"PrismaClientKnownRequestError\");\n\n// src/errors/log.ts\nfunction getBacktrace(log3) {\n  if (log3.fields?.message) {\n    let str = log3.fields?.message;\n    if (log3.fields?.file) {\n      str += ` in ${log3.fields.file}`;\n      if (log3.fields?.line) {\n        str += `:${log3.fields.line}`;\n      }\n      if (log3.fields?.column) {\n        str += `:${log3.fields.column}`;\n      }\n    }\n    if (log3.fields?.reason) {\n      str += `\n${log3.fields?.reason}`;\n    }\n    return str;\n  }\n  return \"Unknown error\";\n}\nfunction isPanic(err) {\n  return err.fields?.message === \"PANIC\";\n}\n\n// src/errors/PrismaClientRustError.ts\nvar PrismaClientRustError = class extends Error {\n  clientVersion;\n  _isPanic;\n  constructor({ clientVersion, error }) {\n    const backtrace = getBacktrace(error);\n    super(backtrace ?? \"Unknown error\");\n    this._isPanic = isPanic(error);\n    this.clientVersion = clientVersion;\n  }\n  get [Symbol.toStringTag]() {\n    return \"PrismaClientRustError\";\n  }\n  isPanic() {\n    return this._isPanic;\n  }\n};\nsetClassName(PrismaClientRustError, \"PrismaClientRustError\");\n\n// src/errors/PrismaClientRustPanicError.ts\nvar PrismaClientRustPanicError = class extends Error {\n  clientVersion;\n  constructor(message, clientVersion) {\n    super(message);\n    this.name = \"PrismaClientRustPanicError\";\n    this.clientVersion = clientVersion;\n  }\n  get [Symbol.toStringTag]() {\n    return \"PrismaClientRustPanicError\";\n  }\n};\nsetClassName(PrismaClientRustPanicError, \"PrismaClientRustPanicError\");\n\n// src/errors/PrismaClientUnknownRequestError.ts\nvar PrismaClientUnknownRequestError = class extends Error {\n  clientVersion;\n  batchRequestIdx;\n  constructor(message, { clientVersion, batchRequestIdx }) {\n    super(message);\n    this.name = \"PrismaClientUnknownRequestError\";\n    this.clientVersion = clientVersion;\n    Object.defineProperty(this, \"batchRequestIdx\", {\n      value: batchRequestIdx,\n      writable: true,\n      enumerable: false\n    });\n  }\n  get [Symbol.toStringTag]() {\n    return \"PrismaClientUnknownRequestError\";\n  }\n};\nsetClassName(PrismaClientUnknownRequestError, \"PrismaClientUnknownRequestError\");\n\n// src/errors/PrismaClientValidationError.ts\nvar PrismaClientValidationError = class extends Error {\n  name = \"PrismaClientValidationError\";\n  clientVersion;\n  constructor(message, { clientVersion }) {\n    super(message);\n    this.clientVersion = clientVersion;\n  }\n  get [Symbol.toStringTag]() {\n    return \"PrismaClientValidationError\";\n  }\n};\nsetClassName(PrismaClientValidationError, \"PrismaClientValidationError\");\n\n// src/nullTypes.ts\nvar secret = Symbol();\nvar representations = /* @__PURE__ */ new WeakMap();\nvar ObjectEnumValue = class {\n  constructor(arg) {\n    if (arg === secret) {\n      representations.set(this, `Prisma.${this._getName()}`);\n    } else {\n      representations.set(this, `new Prisma.${this._getNamespace()}.${this._getName()}()`);\n    }\n  }\n  _getName() {\n    return this.constructor.name;\n  }\n  toString() {\n    return representations.get(this);\n  }\n};\nfunction setClassName2(classObject, name) {\n  Object.defineProperty(classObject, \"name\", {\n    value: name,\n    configurable: true\n  });\n}\nvar NullTypesEnumValue = class extends ObjectEnumValue {\n  _getNamespace() {\n    return \"NullTypes\";\n  }\n};\nvar DbNullClass = class extends NullTypesEnumValue {\n  // Phantom private property to prevent structural type equality\n  // eslint-disable-next-line no-unused-private-class-members\n  #_brand_DbNull;\n};\nsetClassName2(DbNullClass, \"DbNull\");\nvar JsonNullClass = class extends NullTypesEnumValue {\n  // Phantom private property to prevent structural type equality\n  // eslint-disable-next-line no-unused-private-class-members\n  #_brand_JsonNull;\n};\nsetClassName2(JsonNullClass, \"JsonNull\");\nvar AnyNullClass = class extends NullTypesEnumValue {\n  // Phantom private property to prevent structural type equality\n  // eslint-disable-next-line no-unused-private-class-members\n  #_brand_AnyNull;\n};\nsetClassName2(AnyNullClass, \"AnyNull\");\nvar NullTypes = {\n  DbNull: DbNullClass,\n  JsonNull: JsonNullClass,\n  AnyNull: AnyNullClass\n};\nvar DbNull = new DbNullClass(secret);\nvar JsonNull = new JsonNullClass(secret);\nvar AnyNull = new AnyNullClass(secret);\nfunction isDbNull(value) {\n  return value === DbNull;\n}\nfunction isJsonNull(value) {\n  return value === JsonNull;\n}\nfunction isAnyNull(value) {\n  return value === AnyNull;\n}\n\n// ../../node_modules/.pnpm/decimal.js@10.5.0/node_modules/decimal.js/decimal.mjs\nvar EXP_LIMIT = 9e15;\nvar MAX_DIGITS = 1e9;\nvar NUMERALS = \"0123456789abcdef\";\nvar LN10 = \"2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058\";\nvar PI = \"3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789\";\nvar DEFAULTS = {\n  // These values must be integers within the stated ranges (inclusive).\n  // Most of these values can be changed at run-time using the `Decimal.config` method.\n  // The maximum number of significant digits of the result of a calculation or base conversion.\n  // E.g. `Decimal.config({ precision: 20 });`\n  precision: 20,\n  // 1 to MAX_DIGITS\n  // The rounding mode used when rounding to `precision`.\n  //\n  // ROUND_UP         0 Away from zero.\n  // ROUND_DOWN       1 Towards zero.\n  // ROUND_CEIL       2 Towards +Infinity.\n  // ROUND_FLOOR      3 Towards -Infinity.\n  // ROUND_HALF_UP    4 Towards nearest neighbour. If equidistant, up.\n  // ROUND_HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\n  // ROUND_HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\n  // ROUND_HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\n  // ROUND_HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\n  //\n  // E.g.\n  // `Decimal.rounding = 4;`\n  // `Decimal.rounding = Decimal.ROUND_HALF_UP;`\n  rounding: 4,\n  // 0 to 8\n  // The modulo mode used when calculating the modulus: a mod n.\n  // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\n  // The remainder (r) is calculated as: r = a - n * q.\n  //\n  // UP         0 The remainder is positive if the dividend is negative, else is negative.\n  // DOWN       1 The remainder has the same sign as the dividend (JavaScript %).\n  // FLOOR      3 The remainder has the same sign as the divisor (Python %).\n  // HALF_EVEN  6 The IEEE 754 remainder function.\n  // EUCLID     9 Euclidian division. q = sign(n) * floor(a / abs(n)). Always positive.\n  //\n  // Truncated division (1), floored division (3), the IEEE 754 remainder (6), and Euclidian\n  // division (9) are commonly used for the modulus operation. The other rounding modes can also\n  // be used, but they may not give useful results.\n  modulo: 1,\n  // 0 to 9\n  // The exponent value at and beneath which `toString` returns exponential notation.\n  // JavaScript numbers: -7\n  toExpNeg: -7,\n  // 0 to -EXP_LIMIT\n  // The exponent value at and above which `toString` returns exponential notation.\n  // JavaScript numbers: 21\n  toExpPos: 21,\n  // 0 to EXP_LIMIT\n  // The minimum exponent value, beneath which underflow to zero occurs.\n  // JavaScript numbers: -324  (5e-324)\n  minE: -EXP_LIMIT,\n  // -1 to -EXP_LIMIT\n  // The maximum exponent value, above which overflow to Infinity occurs.\n  // JavaScript numbers: 308  (1.7976931348623157e+308)\n  maxE: EXP_LIMIT,\n  // 1 to EXP_LIMIT\n  // Whether to use cryptographically-secure random number generation, if available.\n  crypto: false\n  // true/false\n};\nvar inexact;\nvar quadrant;\nvar external = true;\nvar decimalError = \"[DecimalError] \";\nvar invalidArgument = decimalError + \"Invalid argument: \";\nvar precisionLimitExceeded = decimalError + \"Precision limit exceeded\";\nvar cryptoUnavailable = decimalError + \"crypto unavailable\";\nvar tag = \"[object Decimal]\";\nvar mathfloor = Math.floor;\nvar mathpow = Math.pow;\nvar isBinary = /^0b([01]+(\\.[01]*)?|\\.[01]+)(p[+-]?\\d+)?$/i;\nvar isHex = /^0x([0-9a-f]+(\\.[0-9a-f]*)?|\\.[0-9a-f]+)(p[+-]?\\d+)?$/i;\nvar isOctal = /^0o([0-7]+(\\.[0-7]*)?|\\.[0-7]+)(p[+-]?\\d+)?$/i;\nvar isDecimal = /^(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\nvar BASE = 1e7;\nvar LOG_BASE = 7;\nvar MAX_SAFE_INTEGER = 9007199254740991;\nvar LN10_PRECISION = LN10.length - 1;\nvar PI_PRECISION = PI.length - 1;\nvar P = { toStringTag: tag };\nP.absoluteValue = P.abs = function() {\n  var x = new this.constructor(this);\n  if (x.s < 0) x.s = 1;\n  return finalise(x);\n};\nP.ceil = function() {\n  return finalise(new this.constructor(this), this.e + 1, 2);\n};\nP.clampedTo = P.clamp = function(min2, max2) {\n  var k, x = this, Ctor = x.constructor;\n  min2 = new Ctor(min2);\n  max2 = new Ctor(max2);\n  if (!min2.s || !max2.s) return new Ctor(NaN);\n  if (min2.gt(max2)) throw Error(invalidArgument + max2);\n  k = x.cmp(min2);\n  return k < 0 ? min2 : x.cmp(max2) > 0 ? max2 : new Ctor(x);\n};\nP.comparedTo = P.cmp = function(y) {\n  var i, j, xdL, ydL, x = this, xd = x.d, yd = (y = new x.constructor(y)).d, xs = x.s, ys = y.s;\n  if (!xd || !yd) {\n    return !xs || !ys ? NaN : xs !== ys ? xs : xd === yd ? 0 : !xd ^ xs < 0 ? 1 : -1;\n  }\n  if (!xd[0] || !yd[0]) return xd[0] ? xs : yd[0] ? -ys : 0;\n  if (xs !== ys) return xs;\n  if (x.e !== y.e) return x.e > y.e ^ xs < 0 ? 1 : -1;\n  xdL = xd.length;\n  ydL = yd.length;\n  for (i = 0, j = xdL < ydL ? xdL : ydL; i < j; ++i) {\n    if (xd[i] !== yd[i]) return xd[i] > yd[i] ^ xs < 0 ? 1 : -1;\n  }\n  return xdL === ydL ? 0 : xdL > ydL ^ xs < 0 ? 1 : -1;\n};\nP.cosine = P.cos = function() {\n  var pr, rm, x = this, Ctor = x.constructor;\n  if (!x.d) return new Ctor(NaN);\n  if (!x.d[0]) return new Ctor(1);\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  Ctor.precision = pr + Math.max(x.e, x.sd()) + LOG_BASE;\n  Ctor.rounding = 1;\n  x = cosine(Ctor, toLessThanHalfPi(Ctor, x));\n  Ctor.precision = pr;\n  Ctor.rounding = rm;\n  return finalise(quadrant == 2 || quadrant == 3 ? x.neg() : x, pr, rm, true);\n};\nP.cubeRoot = P.cbrt = function() {\n  var e, m, n, r, rep, s, sd, t, t3, t3plusx, x = this, Ctor = x.constructor;\n  if (!x.isFinite() || x.isZero()) return new Ctor(x);\n  external = false;\n  s = x.s * mathpow(x.s * x, 1 / 3);\n  if (!s || Math.abs(s) == 1 / 0) {\n    n = digitsToString(x.d);\n    e = x.e;\n    if (s = (e - n.length + 1) % 3) n += s == 1 || s == -2 ? \"0\" : \"00\";\n    s = mathpow(n, 1 / 3);\n    e = mathfloor((e + 1) / 3) - (e % 3 == (e < 0 ? -1 : 2));\n    if (s == 1 / 0) {\n      n = \"5e\" + e;\n    } else {\n      n = s.toExponential();\n      n = n.slice(0, n.indexOf(\"e\") + 1) + e;\n    }\n    r = new Ctor(n);\n    r.s = x.s;\n  } else {\n    r = new Ctor(s.toString());\n  }\n  sd = (e = Ctor.precision) + 3;\n  for (; ; ) {\n    t = r;\n    t3 = t.times(t).times(t);\n    t3plusx = t3.plus(x);\n    r = divide(t3plusx.plus(x).times(t), t3plusx.plus(t3), sd + 2, 1);\n    if (digitsToString(t.d).slice(0, sd) === (n = digitsToString(r.d)).slice(0, sd)) {\n      n = n.slice(sd - 3, sd + 1);\n      if (n == \"9999\" || !rep && n == \"4999\") {\n        if (!rep) {\n          finalise(t, e + 1, 0);\n          if (t.times(t).times(t).eq(x)) {\n            r = t;\n            break;\n          }\n        }\n        sd += 4;\n        rep = 1;\n      } else {\n        if (!+n || !+n.slice(1) && n.charAt(0) == \"5\") {\n          finalise(r, e + 1, 1);\n          m = !r.times(r).times(r).eq(x);\n        }\n        break;\n      }\n    }\n  }\n  external = true;\n  return finalise(r, e, Ctor.rounding, m);\n};\nP.decimalPlaces = P.dp = function() {\n  var w, d = this.d, n = NaN;\n  if (d) {\n    w = d.length - 1;\n    n = (w - mathfloor(this.e / LOG_BASE)) * LOG_BASE;\n    w = d[w];\n    if (w) for (; w % 10 == 0; w /= 10) n--;\n    if (n < 0) n = 0;\n  }\n  return n;\n};\nP.dividedBy = P.div = function(y) {\n  return divide(this, new this.constructor(y));\n};\nP.dividedToIntegerBy = P.divToInt = function(y) {\n  var x = this, Ctor = x.constructor;\n  return finalise(divide(x, new Ctor(y), 0, 1, 1), Ctor.precision, Ctor.rounding);\n};\nP.equals = P.eq = function(y) {\n  return this.cmp(y) === 0;\n};\nP.floor = function() {\n  return finalise(new this.constructor(this), this.e + 1, 3);\n};\nP.greaterThan = P.gt = function(y) {\n  return this.cmp(y) > 0;\n};\nP.greaterThanOrEqualTo = P.gte = function(y) {\n  var k = this.cmp(y);\n  return k == 1 || k === 0;\n};\nP.hyperbolicCosine = P.cosh = function() {\n  var k, n, pr, rm, len, x = this, Ctor = x.constructor, one = new Ctor(1);\n  if (!x.isFinite()) return new Ctor(x.s ? 1 / 0 : NaN);\n  if (x.isZero()) return one;\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  Ctor.precision = pr + Math.max(x.e, x.sd()) + 4;\n  Ctor.rounding = 1;\n  len = x.d.length;\n  if (len < 32) {\n    k = Math.ceil(len / 3);\n    n = (1 / tinyPow(4, k)).toString();\n  } else {\n    k = 16;\n    n = \"2.3283064365386962890625e-10\";\n  }\n  x = taylorSeries(Ctor, 1, x.times(n), new Ctor(1), true);\n  var cosh2_x, i = k, d8 = new Ctor(8);\n  for (; i--; ) {\n    cosh2_x = x.times(x);\n    x = one.minus(cosh2_x.times(d8.minus(cosh2_x.times(d8))));\n  }\n  return finalise(x, Ctor.precision = pr, Ctor.rounding = rm, true);\n};\nP.hyperbolicSine = P.sinh = function() {\n  var k, pr, rm, len, x = this, Ctor = x.constructor;\n  if (!x.isFinite() || x.isZero()) return new Ctor(x);\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  Ctor.precision = pr + Math.max(x.e, x.sd()) + 4;\n  Ctor.rounding = 1;\n  len = x.d.length;\n  if (len < 3) {\n    x = taylorSeries(Ctor, 2, x, x, true);\n  } else {\n    k = 1.4 * Math.sqrt(len);\n    k = k > 16 ? 16 : k | 0;\n    x = x.times(1 / tinyPow(5, k));\n    x = taylorSeries(Ctor, 2, x, x, true);\n    var sinh2_x, d5 = new Ctor(5), d16 = new Ctor(16), d20 = new Ctor(20);\n    for (; k--; ) {\n      sinh2_x = x.times(x);\n      x = x.times(d5.plus(sinh2_x.times(d16.times(sinh2_x).plus(d20))));\n    }\n  }\n  Ctor.precision = pr;\n  Ctor.rounding = rm;\n  return finalise(x, pr, rm, true);\n};\nP.hyperbolicTangent = P.tanh = function() {\n  var pr, rm, x = this, Ctor = x.constructor;\n  if (!x.isFinite()) return new Ctor(x.s);\n  if (x.isZero()) return new Ctor(x);\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  Ctor.precision = pr + 7;\n  Ctor.rounding = 1;\n  return divide(x.sinh(), x.cosh(), Ctor.precision = pr, Ctor.rounding = rm);\n};\nP.inverseCosine = P.acos = function() {\n  var x = this, Ctor = x.constructor, k = x.abs().cmp(1), pr = Ctor.precision, rm = Ctor.rounding;\n  if (k !== -1) {\n    return k === 0 ? x.isNeg() ? getPi(Ctor, pr, rm) : new Ctor(0) : new Ctor(NaN);\n  }\n  if (x.isZero()) return getPi(Ctor, pr + 4, rm).times(0.5);\n  Ctor.precision = pr + 6;\n  Ctor.rounding = 1;\n  x = new Ctor(1).minus(x).div(x.plus(1)).sqrt().atan();\n  Ctor.precision = pr;\n  Ctor.rounding = rm;\n  return x.times(2);\n};\nP.inverseHyperbolicCosine = P.acosh = function() {\n  var pr, rm, x = this, Ctor = x.constructor;\n  if (x.lte(1)) return new Ctor(x.eq(1) ? 0 : NaN);\n  if (!x.isFinite()) return new Ctor(x);\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  Ctor.precision = pr + Math.max(Math.abs(x.e), x.sd()) + 4;\n  Ctor.rounding = 1;\n  external = false;\n  x = x.times(x).minus(1).sqrt().plus(x);\n  external = true;\n  Ctor.precision = pr;\n  Ctor.rounding = rm;\n  return x.ln();\n};\nP.inverseHyperbolicSine = P.asinh = function() {\n  var pr, rm, x = this, Ctor = x.constructor;\n  if (!x.isFinite() || x.isZero()) return new Ctor(x);\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  Ctor.precision = pr + 2 * Math.max(Math.abs(x.e), x.sd()) + 6;\n  Ctor.rounding = 1;\n  external = false;\n  x = x.times(x).plus(1).sqrt().plus(x);\n  external = true;\n  Ctor.precision = pr;\n  Ctor.rounding = rm;\n  return x.ln();\n};\nP.inverseHyperbolicTangent = P.atanh = function() {\n  var pr, rm, wpr, xsd, x = this, Ctor = x.constructor;\n  if (!x.isFinite()) return new Ctor(NaN);\n  if (x.e >= 0) return new Ctor(x.abs().eq(1) ? x.s / 0 : x.isZero() ? x : NaN);\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  xsd = x.sd();\n  if (Math.max(xsd, pr) < 2 * -x.e - 1) return finalise(new Ctor(x), pr, rm, true);\n  Ctor.precision = wpr = xsd - x.e;\n  x = divide(x.plus(1), new Ctor(1).minus(x), wpr + pr, 1);\n  Ctor.precision = pr + 4;\n  Ctor.rounding = 1;\n  x = x.ln();\n  Ctor.precision = pr;\n  Ctor.rounding = rm;\n  return x.times(0.5);\n};\nP.inverseSine = P.asin = function() {\n  var halfPi, k, pr, rm, x = this, Ctor = x.constructor;\n  if (x.isZero()) return new Ctor(x);\n  k = x.abs().cmp(1);\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  if (k !== -1) {\n    if (k === 0) {\n      halfPi = getPi(Ctor, pr + 4, rm).times(0.5);\n      halfPi.s = x.s;\n      return halfPi;\n    }\n    return new Ctor(NaN);\n  }\n  Ctor.precision = pr + 6;\n  Ctor.rounding = 1;\n  x = x.div(new Ctor(1).minus(x.times(x)).sqrt().plus(1)).atan();\n  Ctor.precision = pr;\n  Ctor.rounding = rm;\n  return x.times(2);\n};\nP.inverseTangent = P.atan = function() {\n  var i, j, k, n, px, t, r, wpr, x2, x = this, Ctor = x.constructor, pr = Ctor.precision, rm = Ctor.rounding;\n  if (!x.isFinite()) {\n    if (!x.s) return new Ctor(NaN);\n    if (pr + 4 <= PI_PRECISION) {\n      r = getPi(Ctor, pr + 4, rm).times(0.5);\n      r.s = x.s;\n      return r;\n    }\n  } else if (x.isZero()) {\n    return new Ctor(x);\n  } else if (x.abs().eq(1) && pr + 4 <= PI_PRECISION) {\n    r = getPi(Ctor, pr + 4, rm).times(0.25);\n    r.s = x.s;\n    return r;\n  }\n  Ctor.precision = wpr = pr + 10;\n  Ctor.rounding = 1;\n  k = Math.min(28, wpr / LOG_BASE + 2 | 0);\n  for (i = k; i; --i) x = x.div(x.times(x).plus(1).sqrt().plus(1));\n  external = false;\n  j = Math.ceil(wpr / LOG_BASE);\n  n = 1;\n  x2 = x.times(x);\n  r = new Ctor(x);\n  px = x;\n  for (; i !== -1; ) {\n    px = px.times(x2);\n    t = r.minus(px.div(n += 2));\n    px = px.times(x2);\n    r = t.plus(px.div(n += 2));\n    if (r.d[j] !== void 0) for (i = j; r.d[i] === t.d[i] && i--; ) ;\n  }\n  if (k) r = r.times(2 << k - 1);\n  external = true;\n  return finalise(r, Ctor.precision = pr, Ctor.rounding = rm, true);\n};\nP.isFinite = function() {\n  return !!this.d;\n};\nP.isInteger = P.isInt = function() {\n  return !!this.d && mathfloor(this.e / LOG_BASE) > this.d.length - 2;\n};\nP.isNaN = function() {\n  return !this.s;\n};\nP.isNegative = P.isNeg = function() {\n  return this.s < 0;\n};\nP.isPositive = P.isPos = function() {\n  return this.s > 0;\n};\nP.isZero = function() {\n  return !!this.d && this.d[0] === 0;\n};\nP.lessThan = P.lt = function(y) {\n  return this.cmp(y) < 0;\n};\nP.lessThanOrEqualTo = P.lte = function(y) {\n  return this.cmp(y) < 1;\n};\nP.logarithm = P.log = function(base) {\n  var isBase10, d, denominator, k, inf, num, sd, r, arg = this, Ctor = arg.constructor, pr = Ctor.precision, rm = Ctor.rounding, guard = 5;\n  if (base == null) {\n    base = new Ctor(10);\n    isBase10 = true;\n  } else {\n    base = new Ctor(base);\n    d = base.d;\n    if (base.s < 0 || !d || !d[0] || base.eq(1)) return new Ctor(NaN);\n    isBase10 = base.eq(10);\n  }\n  d = arg.d;\n  if (arg.s < 0 || !d || !d[0] || arg.eq(1)) {\n    return new Ctor(d && !d[0] ? -1 / 0 : arg.s != 1 ? NaN : d ? 0 : 1 / 0);\n  }\n  if (isBase10) {\n    if (d.length > 1) {\n      inf = true;\n    } else {\n      for (k = d[0]; k % 10 === 0; ) k /= 10;\n      inf = k !== 1;\n    }\n  }\n  external = false;\n  sd = pr + guard;\n  num = naturalLogarithm(arg, sd);\n  denominator = isBase10 ? getLn10(Ctor, sd + 10) : naturalLogarithm(base, sd);\n  r = divide(num, denominator, sd, 1);\n  if (checkRoundingDigits(r.d, k = pr, rm)) {\n    do {\n      sd += 10;\n      num = naturalLogarithm(arg, sd);\n      denominator = isBase10 ? getLn10(Ctor, sd + 10) : naturalLogarithm(base, sd);\n      r = divide(num, denominator, sd, 1);\n      if (!inf) {\n        if (+digitsToString(r.d).slice(k + 1, k + 15) + 1 == 1e14) {\n          r = finalise(r, pr + 1, 0);\n        }\n        break;\n      }\n    } while (checkRoundingDigits(r.d, k += 10, rm));\n  }\n  external = true;\n  return finalise(r, pr, rm);\n};\nP.minus = P.sub = function(y) {\n  var d, e, i, j, k, len, pr, rm, xd, xe, xLTy, yd, x = this, Ctor = x.constructor;\n  y = new Ctor(y);\n  if (!x.d || !y.d) {\n    if (!x.s || !y.s) y = new Ctor(NaN);\n    else if (x.d) y.s = -y.s;\n    else y = new Ctor(y.d || x.s !== y.s ? x : NaN);\n    return y;\n  }\n  if (x.s != y.s) {\n    y.s = -y.s;\n    return x.plus(y);\n  }\n  xd = x.d;\n  yd = y.d;\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  if (!xd[0] || !yd[0]) {\n    if (yd[0]) y.s = -y.s;\n    else if (xd[0]) y = new Ctor(x);\n    else return new Ctor(rm === 3 ? -0 : 0);\n    return external ? finalise(y, pr, rm) : y;\n  }\n  e = mathfloor(y.e / LOG_BASE);\n  xe = mathfloor(x.e / LOG_BASE);\n  xd = xd.slice();\n  k = xe - e;\n  if (k) {\n    xLTy = k < 0;\n    if (xLTy) {\n      d = xd;\n      k = -k;\n      len = yd.length;\n    } else {\n      d = yd;\n      e = xe;\n      len = xd.length;\n    }\n    i = Math.max(Math.ceil(pr / LOG_BASE), len) + 2;\n    if (k > i) {\n      k = i;\n      d.length = 1;\n    }\n    d.reverse();\n    for (i = k; i--; ) d.push(0);\n    d.reverse();\n  } else {\n    i = xd.length;\n    len = yd.length;\n    xLTy = i < len;\n    if (xLTy) len = i;\n    for (i = 0; i < len; i++) {\n      if (xd[i] != yd[i]) {\n        xLTy = xd[i] < yd[i];\n        break;\n      }\n    }\n    k = 0;\n  }\n  if (xLTy) {\n    d = xd;\n    xd = yd;\n    yd = d;\n    y.s = -y.s;\n  }\n  len = xd.length;\n  for (i = yd.length - len; i > 0; --i) xd[len++] = 0;\n  for (i = yd.length; i > k; ) {\n    if (xd[--i] < yd[i]) {\n      for (j = i; j && xd[--j] === 0; ) xd[j] = BASE - 1;\n      --xd[j];\n      xd[i] += BASE;\n    }\n    xd[i] -= yd[i];\n  }\n  for (; xd[--len] === 0; ) xd.pop();\n  for (; xd[0] === 0; xd.shift()) --e;\n  if (!xd[0]) return new Ctor(rm === 3 ? -0 : 0);\n  y.d = xd;\n  y.e = getBase10Exponent(xd, e);\n  return external ? finalise(y, pr, rm) : y;\n};\nP.modulo = P.mod = function(y) {\n  var q, x = this, Ctor = x.constructor;\n  y = new Ctor(y);\n  if (!x.d || !y.s || y.d && !y.d[0]) return new Ctor(NaN);\n  if (!y.d || x.d && !x.d[0]) {\n    return finalise(new Ctor(x), Ctor.precision, Ctor.rounding);\n  }\n  external = false;\n  if (Ctor.modulo == 9) {\n    q = divide(x, y.abs(), 0, 3, 1);\n    q.s *= y.s;\n  } else {\n    q = divide(x, y, 0, Ctor.modulo, 1);\n  }\n  q = q.times(y);\n  external = true;\n  return x.minus(q);\n};\nP.naturalExponential = P.exp = function() {\n  return naturalExponential(this);\n};\nP.naturalLogarithm = P.ln = function() {\n  return naturalLogarithm(this);\n};\nP.negated = P.neg = function() {\n  var x = new this.constructor(this);\n  x.s = -x.s;\n  return finalise(x);\n};\nP.plus = P.add = function(y) {\n  var carry, d, e, i, k, len, pr, rm, xd, yd, x = this, Ctor = x.constructor;\n  y = new Ctor(y);\n  if (!x.d || !y.d) {\n    if (!x.s || !y.s) y = new Ctor(NaN);\n    else if (!x.d) y = new Ctor(y.d || x.s === y.s ? x : NaN);\n    return y;\n  }\n  if (x.s != y.s) {\n    y.s = -y.s;\n    return x.minus(y);\n  }\n  xd = x.d;\n  yd = y.d;\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  if (!xd[0] || !yd[0]) {\n    if (!yd[0]) y = new Ctor(x);\n    return external ? finalise(y, pr, rm) : y;\n  }\n  k = mathfloor(x.e / LOG_BASE);\n  e = mathfloor(y.e / LOG_BASE);\n  xd = xd.slice();\n  i = k - e;\n  if (i) {\n    if (i < 0) {\n      d = xd;\n      i = -i;\n      len = yd.length;\n    } else {\n      d = yd;\n      e = k;\n      len = xd.length;\n    }\n    k = Math.ceil(pr / LOG_BASE);\n    len = k > len ? k + 1 : len + 1;\n    if (i > len) {\n      i = len;\n      d.length = 1;\n    }\n    d.reverse();\n    for (; i--; ) d.push(0);\n    d.reverse();\n  }\n  len = xd.length;\n  i = yd.length;\n  if (len - i < 0) {\n    i = len;\n    d = yd;\n    yd = xd;\n    xd = d;\n  }\n  for (carry = 0; i; ) {\n    carry = (xd[--i] = xd[i] + yd[i] + carry) / BASE | 0;\n    xd[i] %= BASE;\n  }\n  if (carry) {\n    xd.unshift(carry);\n    ++e;\n  }\n  for (len = xd.length; xd[--len] == 0; ) xd.pop();\n  y.d = xd;\n  y.e = getBase10Exponent(xd, e);\n  return external ? finalise(y, pr, rm) : y;\n};\nP.precision = P.sd = function(z) {\n  var k, x = this;\n  if (z !== void 0 && z !== !!z && z !== 1 && z !== 0) throw Error(invalidArgument + z);\n  if (x.d) {\n    k = getPrecision(x.d);\n    if (z && x.e + 1 > k) k = x.e + 1;\n  } else {\n    k = NaN;\n  }\n  return k;\n};\nP.round = function() {\n  var x = this, Ctor = x.constructor;\n  return finalise(new Ctor(x), x.e + 1, Ctor.rounding);\n};\nP.sine = P.sin = function() {\n  var pr, rm, x = this, Ctor = x.constructor;\n  if (!x.isFinite()) return new Ctor(NaN);\n  if (x.isZero()) return new Ctor(x);\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  Ctor.precision = pr + Math.max(x.e, x.sd()) + LOG_BASE;\n  Ctor.rounding = 1;\n  x = sine(Ctor, toLessThanHalfPi(Ctor, x));\n  Ctor.precision = pr;\n  Ctor.rounding = rm;\n  return finalise(quadrant > 2 ? x.neg() : x, pr, rm, true);\n};\nP.squareRoot = P.sqrt = function() {\n  var m, n, sd, r, rep, t, x = this, d = x.d, e = x.e, s = x.s, Ctor = x.constructor;\n  if (s !== 1 || !d || !d[0]) {\n    return new Ctor(!s || s < 0 && (!d || d[0]) ? NaN : d ? x : 1 / 0);\n  }\n  external = false;\n  s = Math.sqrt(+x);\n  if (s == 0 || s == 1 / 0) {\n    n = digitsToString(d);\n    if ((n.length + e) % 2 == 0) n += \"0\";\n    s = Math.sqrt(n);\n    e = mathfloor((e + 1) / 2) - (e < 0 || e % 2);\n    if (s == 1 / 0) {\n      n = \"5e\" + e;\n    } else {\n      n = s.toExponential();\n      n = n.slice(0, n.indexOf(\"e\") + 1) + e;\n    }\n    r = new Ctor(n);\n  } else {\n    r = new Ctor(s.toString());\n  }\n  sd = (e = Ctor.precision) + 3;\n  for (; ; ) {\n    t = r;\n    r = t.plus(divide(x, t, sd + 2, 1)).times(0.5);\n    if (digitsToString(t.d).slice(0, sd) === (n = digitsToString(r.d)).slice(0, sd)) {\n      n = n.slice(sd - 3, sd + 1);\n      if (n == \"9999\" || !rep && n == \"4999\") {\n        if (!rep) {\n          finalise(t, e + 1, 0);\n          if (t.times(t).eq(x)) {\n            r = t;\n            break;\n          }\n        }\n        sd += 4;\n        rep = 1;\n      } else {\n        if (!+n || !+n.slice(1) && n.charAt(0) == \"5\") {\n          finalise(r, e + 1, 1);\n          m = !r.times(r).eq(x);\n        }\n        break;\n      }\n    }\n  }\n  external = true;\n  return finalise(r, e, Ctor.rounding, m);\n};\nP.tangent = P.tan = function() {\n  var pr, rm, x = this, Ctor = x.constructor;\n  if (!x.isFinite()) return new Ctor(NaN);\n  if (x.isZero()) return new Ctor(x);\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  Ctor.precision = pr + 10;\n  Ctor.rounding = 1;\n  x = x.sin();\n  x.s = 1;\n  x = divide(x, new Ctor(1).minus(x.times(x)).sqrt(), pr + 10, 0);\n  Ctor.precision = pr;\n  Ctor.rounding = rm;\n  return finalise(quadrant == 2 || quadrant == 4 ? x.neg() : x, pr, rm, true);\n};\nP.times = P.mul = function(y) {\n  var carry, e, i, k, r, rL, t, xdL, ydL, x = this, Ctor = x.constructor, xd = x.d, yd = (y = new Ctor(y)).d;\n  y.s *= x.s;\n  if (!xd || !xd[0] || !yd || !yd[0]) {\n    return new Ctor(!y.s || xd && !xd[0] && !yd || yd && !yd[0] && !xd ? NaN : !xd || !yd ? y.s / 0 : y.s * 0);\n  }\n  e = mathfloor(x.e / LOG_BASE) + mathfloor(y.e / LOG_BASE);\n  xdL = xd.length;\n  ydL = yd.length;\n  if (xdL < ydL) {\n    r = xd;\n    xd = yd;\n    yd = r;\n    rL = xdL;\n    xdL = ydL;\n    ydL = rL;\n  }\n  r = [];\n  rL = xdL + ydL;\n  for (i = rL; i--; ) r.push(0);\n  for (i = ydL; --i >= 0; ) {\n    carry = 0;\n    for (k = xdL + i; k > i; ) {\n      t = r[k] + yd[i] * xd[k - i - 1] + carry;\n      r[k--] = t % BASE | 0;\n      carry = t / BASE | 0;\n    }\n    r[k] = (r[k] + carry) % BASE | 0;\n  }\n  for (; !r[--rL]; ) r.pop();\n  if (carry) ++e;\n  else r.shift();\n  y.d = r;\n  y.e = getBase10Exponent(r, e);\n  return external ? finalise(y, Ctor.precision, Ctor.rounding) : y;\n};\nP.toBinary = function(sd, rm) {\n  return toStringBinary(this, 2, sd, rm);\n};\nP.toDecimalPlaces = P.toDP = function(dp, rm) {\n  var x = this, Ctor = x.constructor;\n  x = new Ctor(x);\n  if (dp === void 0) return x;\n  checkInt32(dp, 0, MAX_DIGITS);\n  if (rm === void 0) rm = Ctor.rounding;\n  else checkInt32(rm, 0, 8);\n  return finalise(x, dp + x.e + 1, rm);\n};\nP.toExponential = function(dp, rm) {\n  var str, x = this, Ctor = x.constructor;\n  if (dp === void 0) {\n    str = finiteToString(x, true);\n  } else {\n    checkInt32(dp, 0, MAX_DIGITS);\n    if (rm === void 0) rm = Ctor.rounding;\n    else checkInt32(rm, 0, 8);\n    x = finalise(new Ctor(x), dp + 1, rm);\n    str = finiteToString(x, true, dp + 1);\n  }\n  return x.isNeg() && !x.isZero() ? \"-\" + str : str;\n};\nP.toFixed = function(dp, rm) {\n  var str, y, x = this, Ctor = x.constructor;\n  if (dp === void 0) {\n    str = finiteToString(x);\n  } else {\n    checkInt32(dp, 0, MAX_DIGITS);\n    if (rm === void 0) rm = Ctor.rounding;\n    else checkInt32(rm, 0, 8);\n    y = finalise(new Ctor(x), dp + x.e + 1, rm);\n    str = finiteToString(y, false, dp + y.e + 1);\n  }\n  return x.isNeg() && !x.isZero() ? \"-\" + str : str;\n};\nP.toFraction = function(maxD) {\n  var d, d0, d1, d2, e, k, n, n0, n1, pr, q, r, x = this, xd = x.d, Ctor = x.constructor;\n  if (!xd) return new Ctor(x);\n  n1 = d0 = new Ctor(1);\n  d1 = n0 = new Ctor(0);\n  d = new Ctor(d1);\n  e = d.e = getPrecision(xd) - x.e - 1;\n  k = e % LOG_BASE;\n  d.d[0] = mathpow(10, k < 0 ? LOG_BASE + k : k);\n  if (maxD == null) {\n    maxD = e > 0 ? d : n1;\n  } else {\n    n = new Ctor(maxD);\n    if (!n.isInt() || n.lt(n1)) throw Error(invalidArgument + n);\n    maxD = n.gt(d) ? e > 0 ? d : n1 : n;\n  }\n  external = false;\n  n = new Ctor(digitsToString(xd));\n  pr = Ctor.precision;\n  Ctor.precision = e = xd.length * LOG_BASE * 2;\n  for (; ; ) {\n    q = divide(n, d, 0, 1, 1);\n    d2 = d0.plus(q.times(d1));\n    if (d2.cmp(maxD) == 1) break;\n    d0 = d1;\n    d1 = d2;\n    d2 = n1;\n    n1 = n0.plus(q.times(d2));\n    n0 = d2;\n    d2 = d;\n    d = n.minus(q.times(d2));\n    n = d2;\n  }\n  d2 = divide(maxD.minus(d0), d1, 0, 1, 1);\n  n0 = n0.plus(d2.times(n1));\n  d0 = d0.plus(d2.times(d1));\n  n0.s = n1.s = x.s;\n  r = divide(n1, d1, e, 1).minus(x).abs().cmp(divide(n0, d0, e, 1).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\n  Ctor.precision = pr;\n  external = true;\n  return r;\n};\nP.toHexadecimal = P.toHex = function(sd, rm) {\n  return toStringBinary(this, 16, sd, rm);\n};\nP.toNearest = function(y, rm) {\n  var x = this, Ctor = x.constructor;\n  x = new Ctor(x);\n  if (y == null) {\n    if (!x.d) return x;\n    y = new Ctor(1);\n    rm = Ctor.rounding;\n  } else {\n    y = new Ctor(y);\n    if (rm === void 0) {\n      rm = Ctor.rounding;\n    } else {\n      checkInt32(rm, 0, 8);\n    }\n    if (!x.d) return y.s ? x : y;\n    if (!y.d) {\n      if (y.s) y.s = x.s;\n      return y;\n    }\n  }\n  if (y.d[0]) {\n    external = false;\n    x = divide(x, y, 0, rm, 1).times(y);\n    external = true;\n    finalise(x);\n  } else {\n    y.s = x.s;\n    x = y;\n  }\n  return x;\n};\nP.toNumber = function() {\n  return +this;\n};\nP.toOctal = function(sd, rm) {\n  return toStringBinary(this, 8, sd, rm);\n};\nP.toPower = P.pow = function(y) {\n  var e, k, pr, r, rm, s, x = this, Ctor = x.constructor, yn = +(y = new Ctor(y));\n  if (!x.d || !y.d || !x.d[0] || !y.d[0]) return new Ctor(mathpow(+x, yn));\n  x = new Ctor(x);\n  if (x.eq(1)) return x;\n  pr = Ctor.precision;\n  rm = Ctor.rounding;\n  if (y.eq(1)) return finalise(x, pr, rm);\n  e = mathfloor(y.e / LOG_BASE);\n  if (e >= y.d.length - 1 && (k = yn < 0 ? -yn : yn) <= MAX_SAFE_INTEGER) {\n    r = intPow(Ctor, x, k, pr);\n    return y.s < 0 ? new Ctor(1).div(r) : finalise(r, pr, rm);\n  }\n  s = x.s;\n  if (s < 0) {\n    if (e < y.d.length - 1) return new Ctor(NaN);\n    if ((y.d[e] & 1) == 0) s = 1;\n    if (x.e == 0 && x.d[0] == 1 && x.d.length == 1) {\n      x.s = s;\n      return x;\n    }\n  }\n  k = mathpow(+x, yn);\n  e = k == 0 || !isFinite(k) ? mathfloor(yn * (Math.log(\"0.\" + digitsToString(x.d)) / Math.LN10 + x.e + 1)) : new Ctor(k + \"\").e;\n  if (e > Ctor.maxE + 1 || e < Ctor.minE - 1) return new Ctor(e > 0 ? s / 0 : 0);\n  external = false;\n  Ctor.rounding = x.s = 1;\n  k = Math.min(12, (e + \"\").length);\n  r = naturalExponential(y.times(naturalLogarithm(x, pr + k)), pr);\n  if (r.d) {\n    r = finalise(r, pr + 5, 1);\n    if (checkRoundingDigits(r.d, pr, rm)) {\n      e = pr + 10;\n      r = finalise(naturalExponential(y.times(naturalLogarithm(x, e + k)), e), e + 5, 1);\n      if (+digitsToString(r.d).slice(pr + 1, pr + 15) + 1 == 1e14) {\n        r = finalise(r, pr + 1, 0);\n      }\n    }\n  }\n  r.s = s;\n  external = true;\n  Ctor.rounding = rm;\n  return finalise(r, pr, rm);\n};\nP.toPrecision = function(sd, rm) {\n  var str, x = this, Ctor = x.constructor;\n  if (sd === void 0) {\n    str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);\n  } else {\n    checkInt32(sd, 1, MAX_DIGITS);\n    if (rm === void 0) rm = Ctor.rounding;\n    else checkInt32(rm, 0, 8);\n    x = finalise(new Ctor(x), sd, rm);\n    str = finiteToString(x, sd <= x.e || x.e <= Ctor.toExpNeg, sd);\n  }\n  return x.isNeg() && !x.isZero() ? \"-\" + str : str;\n};\nP.toSignificantDigits = P.toSD = function(sd, rm) {\n  var x = this, Ctor = x.constructor;\n  if (sd === void 0) {\n    sd = Ctor.precision;\n    rm = Ctor.rounding;\n  } else {\n    checkInt32(sd, 1, MAX_DIGITS);\n    if (rm === void 0) rm = Ctor.rounding;\n    else checkInt32(rm, 0, 8);\n  }\n  return finalise(new Ctor(x), sd, rm);\n};\nP.toString = function() {\n  var x = this, Ctor = x.constructor, str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);\n  return x.isNeg() && !x.isZero() ? \"-\" + str : str;\n};\nP.truncated = P.trunc = function() {\n  return finalise(new this.constructor(this), this.e + 1, 1);\n};\nP.valueOf = P.toJSON = function() {\n  var x = this, Ctor = x.constructor, str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);\n  return x.isNeg() ? \"-\" + str : str;\n};\nfunction digitsToString(d) {\n  var i, k, ws, indexOfLastWord = d.length - 1, str = \"\", w = d[0];\n  if (indexOfLastWord > 0) {\n    str += w;\n    for (i = 1; i < indexOfLastWord; i++) {\n      ws = d[i] + \"\";\n      k = LOG_BASE - ws.length;\n      if (k) str += getZeroString(k);\n      str += ws;\n    }\n    w = d[i];\n    ws = w + \"\";\n    k = LOG_BASE - ws.length;\n    if (k) str += getZeroString(k);\n  } else if (w === 0) {\n    return \"0\";\n  }\n  for (; w % 10 === 0; ) w /= 10;\n  return str + w;\n}\nfunction checkInt32(i, min2, max2) {\n  if (i !== ~~i || i < min2 || i > max2) {\n    throw Error(invalidArgument + i);\n  }\n}\nfunction checkRoundingDigits(d, i, rm, repeating) {\n  var di, k, r, rd;\n  for (k = d[0]; k >= 10; k /= 10) --i;\n  if (--i < 0) {\n    i += LOG_BASE;\n    di = 0;\n  } else {\n    di = Math.ceil((i + 1) / LOG_BASE);\n    i %= LOG_BASE;\n  }\n  k = mathpow(10, LOG_BASE - i);\n  rd = d[di] % k | 0;\n  if (repeating == null) {\n    if (i < 3) {\n      if (i == 0) rd = rd / 100 | 0;\n      else if (i == 1) rd = rd / 10 | 0;\n      r = rm < 4 && rd == 99999 || rm > 3 && rd == 49999 || rd == 5e4 || rd == 0;\n    } else {\n      r = (rm < 4 && rd + 1 == k || rm > 3 && rd + 1 == k / 2) && (d[di + 1] / k / 100 | 0) == mathpow(10, i - 2) - 1 || (rd == k / 2 || rd == 0) && (d[di + 1] / k / 100 | 0) == 0;\n    }\n  } else {\n    if (i < 4) {\n      if (i == 0) rd = rd / 1e3 | 0;\n      else if (i == 1) rd = rd / 100 | 0;\n      else if (i == 2) rd = rd / 10 | 0;\n      r = (repeating || rm < 4) && rd == 9999 || !repeating && rm > 3 && rd == 4999;\n    } else {\n      r = ((repeating || rm < 4) && rd + 1 == k || !repeating && rm > 3 && rd + 1 == k / 2) && (d[di + 1] / k / 1e3 | 0) == mathpow(10, i - 3) - 1;\n    }\n  }\n  return r;\n}\nfunction convertBase(str, baseIn, baseOut) {\n  var j, arr = [0], arrL, i = 0, strL = str.length;\n  for (; i < strL; ) {\n    for (arrL = arr.length; arrL--; ) arr[arrL] *= baseIn;\n    arr[0] += NUMERALS.indexOf(str.charAt(i++));\n    for (j = 0; j < arr.length; j++) {\n      if (arr[j] > baseOut - 1) {\n        if (arr[j + 1] === void 0) arr[j + 1] = 0;\n        arr[j + 1] += arr[j] / baseOut | 0;\n        arr[j] %= baseOut;\n      }\n    }\n  }\n  return arr.reverse();\n}\nfunction cosine(Ctor, x) {\n  var k, len, y;\n  if (x.isZero()) return x;\n  len = x.d.length;\n  if (len < 32) {\n    k = Math.ceil(len / 3);\n    y = (1 / tinyPow(4, k)).toString();\n  } else {\n    k = 16;\n    y = \"2.3283064365386962890625e-10\";\n  }\n  Ctor.precision += k;\n  x = taylorSeries(Ctor, 1, x.times(y), new Ctor(1));\n  for (var i = k; i--; ) {\n    var cos2x = x.times(x);\n    x = cos2x.times(cos2x).minus(cos2x).times(8).plus(1);\n  }\n  Ctor.precision -= k;\n  return x;\n}\nvar divide = /* @__PURE__ */ function() {\n  function multiplyInteger(x, k, base) {\n    var temp, carry = 0, i = x.length;\n    for (x = x.slice(); i--; ) {\n      temp = x[i] * k + carry;\n      x[i] = temp % base | 0;\n      carry = temp / base | 0;\n    }\n    if (carry) x.unshift(carry);\n    return x;\n  }\n  function compare(a, b, aL, bL) {\n    var i, r;\n    if (aL != bL) {\n      r = aL > bL ? 1 : -1;\n    } else {\n      for (i = r = 0; i < aL; i++) {\n        if (a[i] != b[i]) {\n          r = a[i] > b[i] ? 1 : -1;\n          break;\n        }\n      }\n    }\n    return r;\n  }\n  function subtract(a, b, aL, base) {\n    var i = 0;\n    for (; aL--; ) {\n      a[aL] -= i;\n      i = a[aL] < b[aL] ? 1 : 0;\n      a[aL] = i * base + a[aL] - b[aL];\n    }\n    for (; !a[0] && a.length > 1; ) a.shift();\n  }\n  return function(x, y, pr, rm, dp, base) {\n    var cmp, e, i, k, logBase, more, prod, prodL, q, qd, rem, remL, rem0, sd, t, xi, xL, yd0, yL, yz, Ctor = x.constructor, sign2 = x.s == y.s ? 1 : -1, xd = x.d, yd = y.d;\n    if (!xd || !xd[0] || !yd || !yd[0]) {\n      return new Ctor(\n        // Return NaN if either NaN, or both Infinity or 0.\n        !x.s || !y.s || (xd ? yd && xd[0] == yd[0] : !yd) ? NaN : (\n          // Return \u00B10 if x is 0 or y is \u00B1Infinity, or return \u00B1Infinity as y is 0.\n          xd && xd[0] == 0 || !yd ? sign2 * 0 : sign2 / 0\n        )\n      );\n    }\n    if (base) {\n      logBase = 1;\n      e = x.e - y.e;\n    } else {\n      base = BASE;\n      logBase = LOG_BASE;\n      e = mathfloor(x.e / logBase) - mathfloor(y.e / logBase);\n    }\n    yL = yd.length;\n    xL = xd.length;\n    q = new Ctor(sign2);\n    qd = q.d = [];\n    for (i = 0; yd[i] == (xd[i] || 0); i++) ;\n    if (yd[i] > (xd[i] || 0)) e--;\n    if (pr == null) {\n      sd = pr = Ctor.precision;\n      rm = Ctor.rounding;\n    } else if (dp) {\n      sd = pr + (x.e - y.e) + 1;\n    } else {\n      sd = pr;\n    }\n    if (sd < 0) {\n      qd.push(1);\n      more = true;\n    } else {\n      sd = sd / logBase + 2 | 0;\n      i = 0;\n      if (yL == 1) {\n        k = 0;\n        yd = yd[0];\n        sd++;\n        for (; (i < xL || k) && sd--; i++) {\n          t = k * base + (xd[i] || 0);\n          qd[i] = t / yd | 0;\n          k = t % yd | 0;\n        }\n        more = k || i < xL;\n      } else {\n        k = base / (yd[0] + 1) | 0;\n        if (k > 1) {\n          yd = multiplyInteger(yd, k, base);\n          xd = multiplyInteger(xd, k, base);\n          yL = yd.length;\n          xL = xd.length;\n        }\n        xi = yL;\n        rem = xd.slice(0, yL);\n        remL = rem.length;\n        for (; remL < yL; ) rem[remL++] = 0;\n        yz = yd.slice();\n        yz.unshift(0);\n        yd0 = yd[0];\n        if (yd[1] >= base / 2) ++yd0;\n        do {\n          k = 0;\n          cmp = compare(yd, rem, yL, remL);\n          if (cmp < 0) {\n            rem0 = rem[0];\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\n            k = rem0 / yd0 | 0;\n            if (k > 1) {\n              if (k >= base) k = base - 1;\n              prod = multiplyInteger(yd, k, base);\n              prodL = prod.length;\n              remL = rem.length;\n              cmp = compare(prod, rem, prodL, remL);\n              if (cmp == 1) {\n                k--;\n                subtract(prod, yL < prodL ? yz : yd, prodL, base);\n              }\n            } else {\n              if (k == 0) cmp = k = 1;\n              prod = yd.slice();\n            }\n            prodL = prod.length;\n            if (prodL < remL) prod.unshift(0);\n            subtract(rem, prod, remL, base);\n            if (cmp == -1) {\n              remL = rem.length;\n              cmp = compare(yd, rem, yL, remL);\n              if (cmp < 1) {\n                k++;\n                subtract(rem, yL < remL ? yz : yd, remL, base);\n              }\n            }\n            remL = rem.length;\n          } else if (cmp === 0) {\n            k++;\n            rem = [0];\n          }\n          qd[i++] = k;\n          if (cmp && rem[0]) {\n            rem[remL++] = xd[xi] || 0;\n          } else {\n            rem = [xd[xi]];\n            remL = 1;\n          }\n        } while ((xi++ < xL || rem[0] !== void 0) && sd--);\n        more = rem[0] !== void 0;\n      }\n      if (!qd[0]) qd.shift();\n    }\n    if (logBase == 1) {\n      q.e = e;\n      inexact = more;\n    } else {\n      for (i = 1, k = qd[0]; k >= 10; k /= 10) i++;\n      q.e = i + e * logBase - 1;\n      finalise(q, dp ? pr + q.e + 1 : pr, rm, more);\n    }\n    return q;\n  };\n}();\nfunction finalise(x, sd, rm, isTruncated) {\n  var digits, i, j, k, rd, roundUp, w, xd, xdi, Ctor = x.constructor;\n  out: if (sd != null) {\n    xd = x.d;\n    if (!xd) return x;\n    for (digits = 1, k = xd[0]; k >= 10; k /= 10) digits++;\n    i = sd - digits;\n    if (i < 0) {\n      i += LOG_BASE;\n      j = sd;\n      w = xd[xdi = 0];\n      rd = w / mathpow(10, digits - j - 1) % 10 | 0;\n    } else {\n      xdi = Math.ceil((i + 1) / LOG_BASE);\n      k = xd.length;\n      if (xdi >= k) {\n        if (isTruncated) {\n          for (; k++ <= xdi; ) xd.push(0);\n          w = rd = 0;\n          digits = 1;\n          i %= LOG_BASE;\n          j = i - LOG_BASE + 1;\n        } else {\n          break out;\n        }\n      } else {\n        w = k = xd[xdi];\n        for (digits = 1; k >= 10; k /= 10) digits++;\n        i %= LOG_BASE;\n        j = i - LOG_BASE + digits;\n        rd = j < 0 ? 0 : w / mathpow(10, digits - j - 1) % 10 | 0;\n      }\n    }\n    isTruncated = isTruncated || sd < 0 || xd[xdi + 1] !== void 0 || (j < 0 ? w : w % mathpow(10, digits - j - 1));\n    roundUp = rm < 4 ? (rd || isTruncated) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : rd > 5 || rd == 5 && (rm == 4 || isTruncated || rm == 6 && // Check whether the digit to the left of the rounding digit is odd.\n    (i > 0 ? j > 0 ? w / mathpow(10, digits - j) : 0 : xd[xdi - 1]) % 10 & 1 || rm == (x.s < 0 ? 8 : 7));\n    if (sd < 1 || !xd[0]) {\n      xd.length = 0;\n      if (roundUp) {\n        sd -= x.e + 1;\n        xd[0] = mathpow(10, (LOG_BASE - sd % LOG_BASE) % LOG_BASE);\n        x.e = -sd || 0;\n      } else {\n        xd[0] = x.e = 0;\n      }\n      return x;\n    }\n    if (i == 0) {\n      xd.length = xdi;\n      k = 1;\n      xdi--;\n    } else {\n      xd.length = xdi + 1;\n      k = mathpow(10, LOG_BASE - i);\n      xd[xdi] = j > 0 ? (w / mathpow(10, digits - j) % mathpow(10, j) | 0) * k : 0;\n    }\n    if (roundUp) {\n      for (; ; ) {\n        if (xdi == 0) {\n          for (i = 1, j = xd[0]; j >= 10; j /= 10) i++;\n          j = xd[0] += k;\n          for (k = 1; j >= 10; j /= 10) k++;\n          if (i != k) {\n            x.e++;\n            if (xd[0] == BASE) xd[0] = 1;\n          }\n          break;\n        } else {\n          xd[xdi] += k;\n          if (xd[xdi] != BASE) break;\n          xd[xdi--] = 0;\n          k = 1;\n        }\n      }\n    }\n    for (i = xd.length; xd[--i] === 0; ) xd.pop();\n  }\n  if (external) {\n    if (x.e > Ctor.maxE) {\n      x.d = null;\n      x.e = NaN;\n    } else if (x.e < Ctor.minE) {\n      x.e = 0;\n      x.d = [0];\n    }\n  }\n  return x;\n}\nfunction finiteToString(x, isExp, sd) {\n  if (!x.isFinite()) return nonFiniteToString(x);\n  var k, e = x.e, str = digitsToString(x.d), len = str.length;\n  if (isExp) {\n    if (sd && (k = sd - len) > 0) {\n      str = str.charAt(0) + \".\" + str.slice(1) + getZeroString(k);\n    } else if (len > 1) {\n      str = str.charAt(0) + \".\" + str.slice(1);\n    }\n    str = str + (x.e < 0 ? \"e\" : \"e+\") + x.e;\n  } else if (e < 0) {\n    str = \"0.\" + getZeroString(-e - 1) + str;\n    if (sd && (k = sd - len) > 0) str += getZeroString(k);\n  } else if (e >= len) {\n    str += getZeroString(e + 1 - len);\n    if (sd && (k = sd - e - 1) > 0) str = str + \".\" + getZeroString(k);\n  } else {\n    if ((k = e + 1) < len) str = str.slice(0, k) + \".\" + str.slice(k);\n    if (sd && (k = sd - len) > 0) {\n      if (e + 1 === len) str += \".\";\n      str += getZeroString(k);\n    }\n  }\n  return str;\n}\nfunction getBase10Exponent(digits, e) {\n  var w = digits[0];\n  for (e *= LOG_BASE; w >= 10; w /= 10) e++;\n  return e;\n}\nfunction getLn10(Ctor, sd, pr) {\n  if (sd > LN10_PRECISION) {\n    external = true;\n    if (pr) Ctor.precision = pr;\n    throw Error(precisionLimitExceeded);\n  }\n  return finalise(new Ctor(LN10), sd, 1, true);\n}\nfunction getPi(Ctor, sd, rm) {\n  if (sd > PI_PRECISION) throw Error(precisionLimitExceeded);\n  return finalise(new Ctor(PI), sd, rm, true);\n}\nfunction getPrecision(digits) {\n  var w = digits.length - 1, len = w * LOG_BASE + 1;\n  w = digits[w];\n  if (w) {\n    for (; w % 10 == 0; w /= 10) len--;\n    for (w = digits[0]; w >= 10; w /= 10) len++;\n  }\n  return len;\n}\nfunction getZeroString(k) {\n  var zs = \"\";\n  for (; k--; ) zs += \"0\";\n  return zs;\n}\nfunction intPow(Ctor, x, n, pr) {\n  var isTruncated, r = new Ctor(1), k = Math.ceil(pr / LOG_BASE + 4);\n  external = false;\n  for (; ; ) {\n    if (n % 2) {\n      r = r.times(x);\n      if (truncate(r.d, k)) isTruncated = true;\n    }\n    n = mathfloor(n / 2);\n    if (n === 0) {\n      n = r.d.length - 1;\n      if (isTruncated && r.d[n] === 0) ++r.d[n];\n      break;\n    }\n    x = x.times(x);\n    truncate(x.d, k);\n  }\n  external = true;\n  return r;\n}\nfunction isOdd(n) {\n  return n.d[n.d.length - 1] & 1;\n}\nfunction maxOrMin(Ctor, args, n) {\n  var k, y, x = new Ctor(args[0]), i = 0;\n  for (; ++i < args.length; ) {\n    y = new Ctor(args[i]);\n    if (!y.s) {\n      x = y;\n      break;\n    }\n    k = x.cmp(y);\n    if (k === n || k === 0 && x.s === n) {\n      x = y;\n    }\n  }\n  return x;\n}\nfunction naturalExponential(x, sd) {\n  var denominator, guard, j, pow2, sum2, t, wpr, rep = 0, i = 0, k = 0, Ctor = x.constructor, rm = Ctor.rounding, pr = Ctor.precision;\n  if (!x.d || !x.d[0] || x.e > 17) {\n    return new Ctor(x.d ? !x.d[0] ? 1 : x.s < 0 ? 0 : 1 / 0 : x.s ? x.s < 0 ? 0 : x : 0 / 0);\n  }\n  if (sd == null) {\n    external = false;\n    wpr = pr;\n  } else {\n    wpr = sd;\n  }\n  t = new Ctor(0.03125);\n  while (x.e > -2) {\n    x = x.times(t);\n    k += 5;\n  }\n  guard = Math.log(mathpow(2, k)) / Math.LN10 * 2 + 5 | 0;\n  wpr += guard;\n  denominator = pow2 = sum2 = new Ctor(1);\n  Ctor.precision = wpr;\n  for (; ; ) {\n    pow2 = finalise(pow2.times(x), wpr, 1);\n    denominator = denominator.times(++i);\n    t = sum2.plus(divide(pow2, denominator, wpr, 1));\n    if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum2.d).slice(0, wpr)) {\n      j = k;\n      while (j--) sum2 = finalise(sum2.times(sum2), wpr, 1);\n      if (sd == null) {\n        if (rep < 3 && checkRoundingDigits(sum2.d, wpr - guard, rm, rep)) {\n          Ctor.precision = wpr += 10;\n          denominator = pow2 = t = new Ctor(1);\n          i = 0;\n          rep++;\n        } else {\n          return finalise(sum2, Ctor.precision = pr, rm, external = true);\n        }\n      } else {\n        Ctor.precision = pr;\n        return sum2;\n      }\n    }\n    sum2 = t;\n  }\n}\nfunction naturalLogarithm(y, sd) {\n  var c, c0, denominator, e, numerator, rep, sum2, t, wpr, x1, x2, n = 1, guard = 10, x = y, xd = x.d, Ctor = x.constructor, rm = Ctor.rounding, pr = Ctor.precision;\n  if (x.s < 0 || !xd || !xd[0] || !x.e && xd[0] == 1 && xd.length == 1) {\n    return new Ctor(xd && !xd[0] ? -1 / 0 : x.s != 1 ? NaN : xd ? 0 : x);\n  }\n  if (sd == null) {\n    external = false;\n    wpr = pr;\n  } else {\n    wpr = sd;\n  }\n  Ctor.precision = wpr += guard;\n  c = digitsToString(xd);\n  c0 = c.charAt(0);\n  if (Math.abs(e = x.e) < 15e14) {\n    while (c0 < 7 && c0 != 1 || c0 == 1 && c.charAt(1) > 3) {\n      x = x.times(y);\n      c = digitsToString(x.d);\n      c0 = c.charAt(0);\n      n++;\n    }\n    e = x.e;\n    if (c0 > 1) {\n      x = new Ctor(\"0.\" + c);\n      e++;\n    } else {\n      x = new Ctor(c0 + \".\" + c.slice(1));\n    }\n  } else {\n    t = getLn10(Ctor, wpr + 2, pr).times(e + \"\");\n    x = naturalLogarithm(new Ctor(c0 + \".\" + c.slice(1)), wpr - guard).plus(t);\n    Ctor.precision = pr;\n    return sd == null ? finalise(x, pr, rm, external = true) : x;\n  }\n  x1 = x;\n  sum2 = numerator = x = divide(x.minus(1), x.plus(1), wpr, 1);\n  x2 = finalise(x.times(x), wpr, 1);\n  denominator = 3;\n  for (; ; ) {\n    numerator = finalise(numerator.times(x2), wpr, 1);\n    t = sum2.plus(divide(numerator, new Ctor(denominator), wpr, 1));\n    if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum2.d).slice(0, wpr)) {\n      sum2 = sum2.times(2);\n      if (e !== 0) sum2 = sum2.plus(getLn10(Ctor, wpr + 2, pr).times(e + \"\"));\n      sum2 = divide(sum2, new Ctor(n), wpr, 1);\n      if (sd == null) {\n        if (checkRoundingDigits(sum2.d, wpr - guard, rm, rep)) {\n          Ctor.precision = wpr += guard;\n          t = numerator = x = divide(x1.minus(1), x1.plus(1), wpr, 1);\n          x2 = finalise(x.times(x), wpr, 1);\n          denominator = rep = 1;\n        } else {\n          return finalise(sum2, Ctor.precision = pr, rm, external = true);\n        }\n      } else {\n        Ctor.precision = pr;\n        return sum2;\n      }\n    }\n    sum2 = t;\n    denominator += 2;\n  }\n}\nfunction nonFiniteToString(x) {\n  return String(x.s * x.s / 0);\n}\nfunction parseDecimal(x, str) {\n  var e, i, len;\n  if ((e = str.indexOf(\".\")) > -1) str = str.replace(\".\", \"\");\n  if ((i = str.search(/e/i)) > 0) {\n    if (e < 0) e = i;\n    e += +str.slice(i + 1);\n    str = str.substring(0, i);\n  } else if (e < 0) {\n    e = str.length;\n  }\n  for (i = 0; str.charCodeAt(i) === 48; i++) ;\n  for (len = str.length; str.charCodeAt(len - 1) === 48; --len) ;\n  str = str.slice(i, len);\n  if (str) {\n    len -= i;\n    x.e = e = e - i - 1;\n    x.d = [];\n    i = (e + 1) % LOG_BASE;\n    if (e < 0) i += LOG_BASE;\n    if (i < len) {\n      if (i) x.d.push(+str.slice(0, i));\n      for (len -= LOG_BASE; i < len; ) x.d.push(+str.slice(i, i += LOG_BASE));\n      str = str.slice(i);\n      i = LOG_BASE - str.length;\n    } else {\n      i -= len;\n    }\n    for (; i--; ) str += \"0\";\n    x.d.push(+str);\n    if (external) {\n      if (x.e > x.constructor.maxE) {\n        x.d = null;\n        x.e = NaN;\n      } else if (x.e < x.constructor.minE) {\n        x.e = 0;\n        x.d = [0];\n      }\n    }\n  } else {\n    x.e = 0;\n    x.d = [0];\n  }\n  return x;\n}\nfunction parseOther(x, str) {\n  var base, Ctor, divisor, i, isFloat, len, p, xd, xe;\n  if (str.indexOf(\"_\") > -1) {\n    str = str.replace(/(\\d)_(?=\\d)/g, \"$1\");\n    if (isDecimal.test(str)) return parseDecimal(x, str);\n  } else if (str === \"Infinity\" || str === \"NaN\") {\n    if (!+str) x.s = NaN;\n    x.e = NaN;\n    x.d = null;\n    return x;\n  }\n  if (isHex.test(str)) {\n    base = 16;\n    str = str.toLowerCase();\n  } else if (isBinary.test(str)) {\n    base = 2;\n  } else if (isOctal.test(str)) {\n    base = 8;\n  } else {\n    throw Error(invalidArgument + str);\n  }\n  i = str.search(/p/i);\n  if (i > 0) {\n    p = +str.slice(i + 1);\n    str = str.substring(2, i);\n  } else {\n    str = str.slice(2);\n  }\n  i = str.indexOf(\".\");\n  isFloat = i >= 0;\n  Ctor = x.constructor;\n  if (isFloat) {\n    str = str.replace(\".\", \"\");\n    len = str.length;\n    i = len - i;\n    divisor = intPow(Ctor, new Ctor(base), i, i * 2);\n  }\n  xd = convertBase(str, base, BASE);\n  xe = xd.length - 1;\n  for (i = xe; xd[i] === 0; --i) xd.pop();\n  if (i < 0) return new Ctor(x.s * 0);\n  x.e = getBase10Exponent(xd, xe);\n  x.d = xd;\n  external = false;\n  if (isFloat) x = divide(x, divisor, len * 4);\n  if (p) x = x.times(Math.abs(p) < 54 ? mathpow(2, p) : Decimal.pow(2, p));\n  external = true;\n  return x;\n}\nfunction sine(Ctor, x) {\n  var k, len = x.d.length;\n  if (len < 3) {\n    return x.isZero() ? x : taylorSeries(Ctor, 2, x, x);\n  }\n  k = 1.4 * Math.sqrt(len);\n  k = k > 16 ? 16 : k | 0;\n  x = x.times(1 / tinyPow(5, k));\n  x = taylorSeries(Ctor, 2, x, x);\n  var sin2_x, d5 = new Ctor(5), d16 = new Ctor(16), d20 = new Ctor(20);\n  for (; k--; ) {\n    sin2_x = x.times(x);\n    x = x.times(d5.plus(sin2_x.times(d16.times(sin2_x).minus(d20))));\n  }\n  return x;\n}\nfunction taylorSeries(Ctor, n, x, y, isHyperbolic) {\n  var j, t, u, x2, i = 1, pr = Ctor.precision, k = Math.ceil(pr / LOG_BASE);\n  external = false;\n  x2 = x.times(x);\n  u = new Ctor(y);\n  for (; ; ) {\n    t = divide(u.times(x2), new Ctor(n++ * n++), pr, 1);\n    u = isHyperbolic ? y.plus(t) : y.minus(t);\n    y = divide(t.times(x2), new Ctor(n++ * n++), pr, 1);\n    t = u.plus(y);\n    if (t.d[k] !== void 0) {\n      for (j = k; t.d[j] === u.d[j] && j--; ) ;\n      if (j == -1) break;\n    }\n    j = u;\n    u = y;\n    y = t;\n    t = j;\n    i++;\n  }\n  external = true;\n  t.d.length = k + 1;\n  return t;\n}\nfunction tinyPow(b, e) {\n  var n = b;\n  while (--e) n *= b;\n  return n;\n}\nfunction toLessThanHalfPi(Ctor, x) {\n  var t, isNeg = x.s < 0, pi = getPi(Ctor, Ctor.precision, 1), halfPi = pi.times(0.5);\n  x = x.abs();\n  if (x.lte(halfPi)) {\n    quadrant = isNeg ? 4 : 1;\n    return x;\n  }\n  t = x.divToInt(pi);\n  if (t.isZero()) {\n    quadrant = isNeg ? 3 : 2;\n  } else {\n    x = x.minus(t.times(pi));\n    if (x.lte(halfPi)) {\n      quadrant = isOdd(t) ? isNeg ? 2 : 3 : isNeg ? 4 : 1;\n      return x;\n    }\n    quadrant = isOdd(t) ? isNeg ? 1 : 4 : isNeg ? 3 : 2;\n  }\n  return x.minus(pi).abs();\n}\nfunction toStringBinary(x, baseOut, sd, rm) {\n  var base, e, i, k, len, roundUp, str, xd, y, Ctor = x.constructor, isExp = sd !== void 0;\n  if (isExp) {\n    checkInt32(sd, 1, MAX_DIGITS);\n    if (rm === void 0) rm = Ctor.rounding;\n    else checkInt32(rm, 0, 8);\n  } else {\n    sd = Ctor.precision;\n    rm = Ctor.rounding;\n  }\n  if (!x.isFinite()) {\n    str = nonFiniteToString(x);\n  } else {\n    str = finiteToString(x);\n    i = str.indexOf(\".\");\n    if (isExp) {\n      base = 2;\n      if (baseOut == 16) {\n        sd = sd * 4 - 3;\n      } else if (baseOut == 8) {\n        sd = sd * 3 - 2;\n      }\n    } else {\n      base = baseOut;\n    }\n    if (i >= 0) {\n      str = str.replace(\".\", \"\");\n      y = new Ctor(1);\n      y.e = str.length - i;\n      y.d = convertBase(finiteToString(y), 10, base);\n      y.e = y.d.length;\n    }\n    xd = convertBase(str, 10, base);\n    e = len = xd.length;\n    for (; xd[--len] == 0; ) xd.pop();\n    if (!xd[0]) {\n      str = isExp ? \"0p+0\" : \"0\";\n    } else {\n      if (i < 0) {\n        e--;\n      } else {\n        x = new Ctor(x);\n        x.d = xd;\n        x.e = e;\n        x = divide(x, y, sd, rm, 0, base);\n        xd = x.d;\n        e = x.e;\n        roundUp = inexact;\n      }\n      i = xd[sd];\n      k = base / 2;\n      roundUp = roundUp || xd[sd + 1] !== void 0;\n      roundUp = rm < 4 ? (i !== void 0 || roundUp) && (rm === 0 || rm === (x.s < 0 ? 3 : 2)) : i > k || i === k && (rm === 4 || roundUp || rm === 6 && xd[sd - 1] & 1 || rm === (x.s < 0 ? 8 : 7));\n      xd.length = sd;\n      if (roundUp) {\n        for (; ++xd[--sd] > base - 1; ) {\n          xd[sd] = 0;\n          if (!sd) {\n            ++e;\n            xd.unshift(1);\n          }\n        }\n      }\n      for (len = xd.length; !xd[len - 1]; --len) ;\n      for (i = 0, str = \"\"; i < len; i++) str += NUMERALS.charAt(xd[i]);\n      if (isExp) {\n        if (len > 1) {\n          if (baseOut == 16 || baseOut == 8) {\n            i = baseOut == 16 ? 4 : 3;\n            for (--len; len % i; len++) str += \"0\";\n            xd = convertBase(str, base, baseOut);\n            for (len = xd.length; !xd[len - 1]; --len) ;\n            for (i = 1, str = \"1.\"; i < len; i++) str += NUMERALS.charAt(xd[i]);\n          } else {\n            str = str.charAt(0) + \".\" + str.slice(1);\n          }\n        }\n        str = str + (e < 0 ? \"p\" : \"p+\") + e;\n      } else if (e < 0) {\n        for (; ++e; ) str = \"0\" + str;\n        str = \"0.\" + str;\n      } else {\n        if (++e > len) for (e -= len; e--; ) str += \"0\";\n        else if (e < len) str = str.slice(0, e) + \".\" + str.slice(e);\n      }\n    }\n    str = (baseOut == 16 ? \"0x\" : baseOut == 2 ? \"0b\" : baseOut == 8 ? \"0o\" : \"\") + str;\n  }\n  return x.s < 0 ? \"-\" + str : str;\n}\nfunction truncate(arr, len) {\n  if (arr.length > len) {\n    arr.length = len;\n    return true;\n  }\n}\nfunction abs(x) {\n  return new this(x).abs();\n}\nfunction acos(x) {\n  return new this(x).acos();\n}\nfunction acosh(x) {\n  return new this(x).acosh();\n}\nfunction add(x, y) {\n  return new this(x).plus(y);\n}\nfunction asin(x) {\n  return new this(x).asin();\n}\nfunction asinh(x) {\n  return new this(x).asinh();\n}\nfunction atan(x) {\n  return new this(x).atan();\n}\nfunction atanh(x) {\n  return new this(x).atanh();\n}\nfunction atan2(y, x) {\n  y = new this(y);\n  x = new this(x);\n  var r, pr = this.precision, rm = this.rounding, wpr = pr + 4;\n  if (!y.s || !x.s) {\n    r = new this(NaN);\n  } else if (!y.d && !x.d) {\n    r = getPi(this, wpr, 1).times(x.s > 0 ? 0.25 : 0.75);\n    r.s = y.s;\n  } else if (!x.d || y.isZero()) {\n    r = x.s < 0 ? getPi(this, pr, rm) : new this(0);\n    r.s = y.s;\n  } else if (!y.d || x.isZero()) {\n    r = getPi(this, wpr, 1).times(0.5);\n    r.s = y.s;\n  } else if (x.s < 0) {\n    this.precision = wpr;\n    this.rounding = 1;\n    r = this.atan(divide(y, x, wpr, 1));\n    x = getPi(this, wpr, 1);\n    this.precision = pr;\n    this.rounding = rm;\n    r = y.s < 0 ? r.minus(x) : r.plus(x);\n  } else {\n    r = this.atan(divide(y, x, wpr, 1));\n  }\n  return r;\n}\nfunction cbrt(x) {\n  return new this(x).cbrt();\n}\nfunction ceil(x) {\n  return finalise(x = new this(x), x.e + 1, 2);\n}\nfunction clamp(x, min2, max2) {\n  return new this(x).clamp(min2, max2);\n}\nfunction config(obj) {\n  if (!obj || typeof obj !== \"object\") throw Error(decimalError + \"Object expected\");\n  var i, p, v, useDefaults = obj.defaults === true, ps = [\n    \"precision\",\n    1,\n    MAX_DIGITS,\n    \"rounding\",\n    0,\n    8,\n    \"toExpNeg\",\n    -EXP_LIMIT,\n    0,\n    \"toExpPos\",\n    0,\n    EXP_LIMIT,\n    \"maxE\",\n    0,\n    EXP_LIMIT,\n    \"minE\",\n    -EXP_LIMIT,\n    0,\n    \"modulo\",\n    0,\n    9\n  ];\n  for (i = 0; i < ps.length; i += 3) {\n    if (p = ps[i], useDefaults) this[p] = DEFAULTS[p];\n    if ((v = obj[p]) !== void 0) {\n      if (mathfloor(v) === v && v >= ps[i + 1] && v <= ps[i + 2]) this[p] = v;\n      else throw Error(invalidArgument + p + \": \" + v);\n    }\n  }\n  if (p = \"crypto\", useDefaults) this[p] = DEFAULTS[p];\n  if ((v = obj[p]) !== void 0) {\n    if (v === true || v === false || v === 0 || v === 1) {\n      if (v) {\n        if (typeof crypto != \"undefined\" && crypto && (crypto.getRandomValues || crypto.randomBytes)) {\n          this[p] = true;\n        } else {\n          throw Error(cryptoUnavailable);\n        }\n      } else {\n        this[p] = false;\n      }\n    } else {\n      throw Error(invalidArgument + p + \": \" + v);\n    }\n  }\n  return this;\n}\nfunction cos(x) {\n  return new this(x).cos();\n}\nfunction cosh(x) {\n  return new this(x).cosh();\n}\nfunction clone(obj) {\n  var i, p, ps;\n  function Decimal2(v) {\n    var e, i2, t, x = this;\n    if (!(x instanceof Decimal2)) return new Decimal2(v);\n    x.constructor = Decimal2;\n    if (isDecimalInstance(v)) {\n      x.s = v.s;\n      if (external) {\n        if (!v.d || v.e > Decimal2.maxE) {\n          x.e = NaN;\n          x.d = null;\n        } else if (v.e < Decimal2.minE) {\n          x.e = 0;\n          x.d = [0];\n        } else {\n          x.e = v.e;\n          x.d = v.d.slice();\n        }\n      } else {\n        x.e = v.e;\n        x.d = v.d ? v.d.slice() : v.d;\n      }\n      return;\n    }\n    t = typeof v;\n    if (t === \"number\") {\n      if (v === 0) {\n        x.s = 1 / v < 0 ? -1 : 1;\n        x.e = 0;\n        x.d = [0];\n        return;\n      }\n      if (v < 0) {\n        v = -v;\n        x.s = -1;\n      } else {\n        x.s = 1;\n      }\n      if (v === ~~v && v < 1e7) {\n        for (e = 0, i2 = v; i2 >= 10; i2 /= 10) e++;\n        if (external) {\n          if (e > Decimal2.maxE) {\n            x.e = NaN;\n            x.d = null;\n          } else if (e < Decimal2.minE) {\n            x.e = 0;\n            x.d = [0];\n          } else {\n            x.e = e;\n            x.d = [v];\n          }\n        } else {\n          x.e = e;\n          x.d = [v];\n        }\n        return;\n      }\n      if (v * 0 !== 0) {\n        if (!v) x.s = NaN;\n        x.e = NaN;\n        x.d = null;\n        return;\n      }\n      return parseDecimal(x, v.toString());\n    }\n    if (t === \"string\") {\n      if ((i2 = v.charCodeAt(0)) === 45) {\n        v = v.slice(1);\n        x.s = -1;\n      } else {\n        if (i2 === 43) v = v.slice(1);\n        x.s = 1;\n      }\n      return isDecimal.test(v) ? parseDecimal(x, v) : parseOther(x, v);\n    }\n    if (t === \"bigint\") {\n      if (v < 0) {\n        v = -v;\n        x.s = -1;\n      } else {\n        x.s = 1;\n      }\n      return parseDecimal(x, v.toString());\n    }\n    throw Error(invalidArgument + v);\n  }\n  Decimal2.prototype = P;\n  Decimal2.ROUND_UP = 0;\n  Decimal2.ROUND_DOWN = 1;\n  Decimal2.ROUND_CEIL = 2;\n  Decimal2.ROUND_FLOOR = 3;\n  Decimal2.ROUND_HALF_UP = 4;\n  Decimal2.ROUND_HALF_DOWN = 5;\n  Decimal2.ROUND_HALF_EVEN = 6;\n  Decimal2.ROUND_HALF_CEIL = 7;\n  Decimal2.ROUND_HALF_FLOOR = 8;\n  Decimal2.EUCLID = 9;\n  Decimal2.config = Decimal2.set = config;\n  Decimal2.clone = clone;\n  Decimal2.isDecimal = isDecimalInstance;\n  Decimal2.abs = abs;\n  Decimal2.acos = acos;\n  Decimal2.acosh = acosh;\n  Decimal2.add = add;\n  Decimal2.asin = asin;\n  Decimal2.asinh = asinh;\n  Decimal2.atan = atan;\n  Decimal2.atanh = atanh;\n  Decimal2.atan2 = atan2;\n  Decimal2.cbrt = cbrt;\n  Decimal2.ceil = ceil;\n  Decimal2.clamp = clamp;\n  Decimal2.cos = cos;\n  Decimal2.cosh = cosh;\n  Decimal2.div = div;\n  Decimal2.exp = exp;\n  Decimal2.floor = floor;\n  Decimal2.hypot = hypot;\n  Decimal2.ln = ln;\n  Decimal2.log = log;\n  Decimal2.log10 = log10;\n  Decimal2.log2 = log2;\n  Decimal2.max = max;\n  Decimal2.min = min;\n  Decimal2.mod = mod;\n  Decimal2.mul = mul;\n  Decimal2.pow = pow;\n  Decimal2.random = random;\n  Decimal2.round = round;\n  Decimal2.sign = sign;\n  Decimal2.sin = sin;\n  Decimal2.sinh = sinh;\n  Decimal2.sqrt = sqrt;\n  Decimal2.sub = sub;\n  Decimal2.sum = sum;\n  Decimal2.tan = tan;\n  Decimal2.tanh = tanh;\n  Decimal2.trunc = trunc;\n  if (obj === void 0) obj = {};\n  if (obj) {\n    if (obj.defaults !== true) {\n      ps = [\"precision\", \"rounding\", \"toExpNeg\", \"toExpPos\", \"maxE\", \"minE\", \"modulo\", \"crypto\"];\n      for (i = 0; i < ps.length; ) if (!obj.hasOwnProperty(p = ps[i++])) obj[p] = this[p];\n    }\n  }\n  Decimal2.config(obj);\n  return Decimal2;\n}\nfunction div(x, y) {\n  return new this(x).div(y);\n}\nfunction exp(x) {\n  return new this(x).exp();\n}\nfunction floor(x) {\n  return finalise(x = new this(x), x.e + 1, 3);\n}\nfunction hypot() {\n  var i, n, t = new this(0);\n  external = false;\n  for (i = 0; i < arguments.length; ) {\n    n = new this(arguments[i++]);\n    if (!n.d) {\n      if (n.s) {\n        external = true;\n        return new this(1 / 0);\n      }\n      t = n;\n    } else if (t.d) {\n      t = t.plus(n.times(n));\n    }\n  }\n  external = true;\n  return t.sqrt();\n}\nfunction isDecimalInstance(obj) {\n  return obj instanceof Decimal || obj && obj.toStringTag === tag || false;\n}\nfunction ln(x) {\n  return new this(x).ln();\n}\nfunction log(x, y) {\n  return new this(x).log(y);\n}\nfunction log2(x) {\n  return new this(x).log(2);\n}\nfunction log10(x) {\n  return new this(x).log(10);\n}\nfunction max() {\n  return maxOrMin(this, arguments, -1);\n}\nfunction min() {\n  return maxOrMin(this, arguments, 1);\n}\nfunction mod(x, y) {\n  return new this(x).mod(y);\n}\nfunction mul(x, y) {\n  return new this(x).mul(y);\n}\nfunction pow(x, y) {\n  return new this(x).pow(y);\n}\nfunction random(sd) {\n  var d, e, k, n, i = 0, r = new this(1), rd = [];\n  if (sd === void 0) sd = this.precision;\n  else checkInt32(sd, 1, MAX_DIGITS);\n  k = Math.ceil(sd / LOG_BASE);\n  if (!this.crypto) {\n    for (; i < k; ) rd[i++] = Math.random() * 1e7 | 0;\n  } else if (crypto.getRandomValues) {\n    d = crypto.getRandomValues(new Uint32Array(k));\n    for (; i < k; ) {\n      n = d[i];\n      if (n >= 429e7) {\n        d[i] = crypto.getRandomValues(new Uint32Array(1))[0];\n      } else {\n        rd[i++] = n % 1e7;\n      }\n    }\n  } else if (crypto.randomBytes) {\n    d = crypto.randomBytes(k *= 4);\n    for (; i < k; ) {\n      n = d[i] + (d[i + 1] << 8) + (d[i + 2] << 16) + ((d[i + 3] & 127) << 24);\n      if (n >= 214e7) {\n        crypto.randomBytes(4).copy(d, i);\n      } else {\n        rd.push(n % 1e7);\n        i += 4;\n      }\n    }\n    i = k / 4;\n  } else {\n    throw Error(cryptoUnavailable);\n  }\n  k = rd[--i];\n  sd %= LOG_BASE;\n  if (k && sd) {\n    n = mathpow(10, LOG_BASE - sd);\n    rd[i] = (k / n | 0) * n;\n  }\n  for (; rd[i] === 0; i--) rd.pop();\n  if (i < 0) {\n    e = 0;\n    rd = [0];\n  } else {\n    e = -1;\n    for (; rd[0] === 0; e -= LOG_BASE) rd.shift();\n    for (k = 1, n = rd[0]; n >= 10; n /= 10) k++;\n    if (k < LOG_BASE) e -= LOG_BASE - k;\n  }\n  r.e = e;\n  r.d = rd;\n  return r;\n}\nfunction round(x) {\n  return finalise(x = new this(x), x.e + 1, this.rounding);\n}\nfunction sign(x) {\n  x = new this(x);\n  return x.d ? x.d[0] ? x.s : 0 * x.s : x.s || NaN;\n}\nfunction sin(x) {\n  return new this(x).sin();\n}\nfunction sinh(x) {\n  return new this(x).sinh();\n}\nfunction sqrt(x) {\n  return new this(x).sqrt();\n}\nfunction sub(x, y) {\n  return new this(x).sub(y);\n}\nfunction sum() {\n  var i = 0, args = arguments, x = new this(args[i]);\n  external = false;\n  for (; x.s && ++i < args.length; ) x = x.plus(args[i]);\n  external = true;\n  return finalise(x, this.precision, this.rounding);\n}\nfunction tan(x) {\n  return new this(x).tan();\n}\nfunction tanh(x) {\n  return new this(x).tanh();\n}\nfunction trunc(x) {\n  return finalise(x = new this(x), x.e + 1, 1);\n}\nP[Symbol.for(\"nodejs.util.inspect.custom\")] = P.toString;\nP[Symbol.toStringTag] = \"Decimal\";\nvar Decimal = P.constructor = clone(DEFAULTS);\nLN10 = new Decimal(LN10);\nPI = new Decimal(PI);\n\n// ../../node_modules/.pnpm/sql-template-tag@5.2.1/node_modules/sql-template-tag/dist/index.js\nvar Sql = class _Sql {\n  constructor(rawStrings, rawValues) {\n    if (rawStrings.length - 1 !== rawValues.length) {\n      if (rawStrings.length === 0) {\n        throw new TypeError(\"Expected at least 1 string\");\n      }\n      throw new TypeError(`Expected ${rawStrings.length} strings to have ${rawStrings.length - 1} values`);\n    }\n    const valuesLength = rawValues.reduce((len, value) => len + (value instanceof _Sql ? value.values.length : 1), 0);\n    this.values = new Array(valuesLength);\n    this.strings = new Array(valuesLength + 1);\n    this.strings[0] = rawStrings[0];\n    let i = 0, pos = 0;\n    while (i < rawValues.length) {\n      const child = rawValues[i++];\n      const rawString = rawStrings[i];\n      if (child instanceof _Sql) {\n        this.strings[pos] += child.strings[0];\n        let childIndex = 0;\n        while (childIndex < child.values.length) {\n          this.values[pos++] = child.values[childIndex++];\n          this.strings[pos] = child.strings[childIndex];\n        }\n        this.strings[pos] += rawString;\n      } else {\n        this.values[pos++] = child;\n        this.strings[pos] = rawString;\n      }\n    }\n  }\n  get sql() {\n    const len = this.strings.length;\n    let i = 1;\n    let value = this.strings[0];\n    while (i < len)\n      value += `?${this.strings[i++]}`;\n    return value;\n  }\n  get statement() {\n    const len = this.strings.length;\n    let i = 1;\n    let value = this.strings[0];\n    while (i < len)\n      value += `:${i}${this.strings[i++]}`;\n    return value;\n  }\n  get text() {\n    const len = this.strings.length;\n    let i = 1;\n    let value = this.strings[0];\n    while (i < len)\n      value += `$${i}${this.strings[i++]}`;\n    return value;\n  }\n  inspect() {\n    return {\n      sql: this.sql,\n      statement: this.statement,\n      text: this.text,\n      values: this.values\n    };\n  }\n};\nfunction join(values, separator = \",\", prefix = \"\", suffix = \"\") {\n  if (values.length === 0) {\n    throw new TypeError(\"Expected `join([])` to be called with an array of multiple elements, but got an empty array\");\n  }\n  return new Sql([prefix, ...Array(values.length - 1).fill(separator), suffix], values);\n}\nfunction raw(value) {\n  return new Sql([value], []);\n}\nvar empty = raw(\"\");\nfunction sql(strings, ...values) {\n  return new Sql(strings, values);\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  AnyNull,\n  AnyNullClass,\n  DbNull,\n  DbNullClass,\n  Decimal,\n  JsonNull,\n  JsonNullClass,\n  NullTypes,\n  ObjectEnumValue,\n  PrismaClientInitializationError,\n  PrismaClientKnownRequestError,\n  PrismaClientRustError,\n  PrismaClientRustPanicError,\n  PrismaClientUnknownRequestError,\n  PrismaClientValidationError,\n  Sql,\n  empty,\n  hasBatchIndex,\n  isAnyNull,\n  isDbNull,\n  isJsonNull,\n  join,\n  raw,\n  sql\n});\n/*! Bundled license information:\n\ndecimal.js/decimal.mjs:\n  (*!\n   *  decimal.js v10.5.0\n   *  An arbitrary-precision Decimal type for JavaScript.\n   *  https://github.com/MikeMcl/decimal.js\n   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>\n   *  MIT Licence\n   *)\n*/\n", "\n/* !!! This is code generated by Prisma. Do not edit directly. !!!\n/* eslint-disable */\n// biome-ignore-all lint: generated file\n\"use strict\";var nu=Object.create;var pr=Object.defineProperty;var iu=Object.getOwnPropertyDescriptor;var ou=Object.getOwnPropertyNames;var su=Object.getPrototypeOf,au=Object.prototype.hasOwnProperty;var fe=(e,t)=>()=>(e&&(t=e(e=0)),t);var oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ye=(e,t)=>{for(var r in t)pr(e,r,{get:t[r],enumerable:!0})},Ui=(e,t,r,n)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let i of ou(t))!au.call(e,i)&&i!==r&&pr(e,i,{get:()=>t[i],enumerable:!(n=iu(t,i))||n.enumerable});return e};var Ue=(e,t,r)=>(r=e!=null?nu(su(e)):{},Ui(t||!e||!e.__esModule?pr(r,\"default\",{value:e,enumerable:!0}):r,e)),$i=e=>Ui(pr({},\"__esModule\",{value:!0}),e);function xn(e,t){if(t=t.toLowerCase(),t===\"utf8\"||t===\"utf-8\")return new h(pu.encode(e));if(t===\"base64\"||t===\"base64url\")return e=e.replace(/-/g,\"+\").replace(/_/g,\"/\"),e=e.replace(/[^A-Za-z0-9+/]/g,\"\"),new h([...atob(e)].map(r=>r.charCodeAt(0)));if(t===\"binary\"||t===\"ascii\"||t===\"latin1\"||t===\"latin-1\")return new h([...e].map(r=>r.charCodeAt(0)));if(t===\"ucs2\"||t===\"ucs-2\"||t===\"utf16le\"||t===\"utf-16le\"){let r=new h(e.length*2),n=new DataView(r.buffer);for(let i=0;i<e.length;i++)n.setUint16(i*2,e.charCodeAt(i),!0);return r}if(t===\"hex\"){let r=new h(e.length/2);for(let n=0,i=0;i<e.length;i+=2,n++)r[n]=parseInt(e.slice(i,i+2),16);return r}Vi(`encoding \"${t}\"`)}function lu(e){let r=Object.getOwnPropertyNames(DataView.prototype).filter(a=>a.startsWith(\"get\")||a.startsWith(\"set\")),n=r.map(a=>a.replace(\"get\",\"read\").replace(\"set\",\"write\")),i=(a,d)=>function(f=0){return H(f,\"offset\"),ie(f,\"offset\"),W(f,\"offset\",this.length-1),new DataView(this.buffer)[r[a]](f,d)},o=(a,d)=>function(f,P=0){let v=r[a].match(/set(\\w+\\d+)/)[1].toLowerCase(),S=cu[v];return H(P,\"offset\"),ie(P,\"offset\"),W(P,\"offset\",this.length-1),uu(f,\"value\",S[0],S[1]),new DataView(this.buffer)[r[a]](P,f,d),P+parseInt(r[a].match(/\\d+/)[0])/8},s=a=>{a.forEach(d=>{d.includes(\"Uint\")&&(e[d.replace(\"Uint\",\"UInt\")]=e[d]),d.includes(\"Float64\")&&(e[d.replace(\"Float64\",\"Double\")]=e[d]),d.includes(\"Float32\")&&(e[d.replace(\"Float32\",\"Float\")]=e[d])})};n.forEach((a,d)=>{a.startsWith(\"read\")&&(e[a]=i(d,!1),e[a+\"LE\"]=i(d,!0),e[a+\"BE\"]=i(d,!1)),a.startsWith(\"write\")&&(e[a]=o(d,!1),e[a+\"LE\"]=o(d,!0),e[a+\"BE\"]=o(d,!1)),s([a,a+\"LE\",a+\"BE\"])})}function Vi(e){throw new Error(`Buffer polyfill does not implement \"${e}\"`)}function mr(e,t){if(!(e instanceof Uint8Array))throw new TypeError(`The \"${t}\" argument must be an instance of Buffer or Uint8Array`)}function W(e,t,r=fu+1){if(e<0||e>r){let n=new RangeError(`The value of \"${t}\" is out of range. It must be >= 0 && <= ${r}. Received ${e}`);throw n.code=\"ERR_OUT_OF_RANGE\",n}}function H(e,t){if(typeof e!=\"number\"){let r=new TypeError(`The \"${t}\" argument must be of type number. Received type ${typeof e}.`);throw r.code=\"ERR_INVALID_ARG_TYPE\",r}}function ie(e,t){if(!Number.isInteger(e)||Number.isNaN(e)){let r=new RangeError(`The value of \"${t}\" is out of range. It must be an integer. Received ${e}`);throw r.code=\"ERR_OUT_OF_RANGE\",r}}function uu(e,t,r,n){if(e<r||e>n){let i=new RangeError(`The value of \"${t}\" is out of range. It must be >= ${r} and <= ${n}. Received ${e}`);throw i.code=\"ERR_OUT_OF_RANGE\",i}}function qi(e,t){if(typeof e!=\"string\"){let r=new TypeError(`The \"${t}\" argument must be of type string. Received type ${typeof e}`);throw r.code=\"ERR_INVALID_ARG_TYPE\",r}}function gu(e,t=\"utf8\"){return h.from(e,t)}var h,cu,pu,mu,du,fu,y,En,l=fe(()=>{\"use strict\";h=class e extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(t,r=0,n=\"utf8\"){return qi(n,\"encoding\"),e.allocUnsafe(t).fill(r,n)}static allocUnsafe(t){return e.from(t)}static allocUnsafeSlow(t){return e.from(t)}static isBuffer(t){return t&&!!t._isBuffer}static byteLength(t,r=\"utf8\"){if(typeof t==\"string\")return xn(t,r).byteLength;if(t&&t.byteLength)return t.byteLength;let n=new TypeError('The \"string\" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw n.code=\"ERR_INVALID_ARG_TYPE\",n}static isEncoding(t){return du.includes(t)}static compare(t,r){mr(t,\"buff1\"),mr(r,\"buff2\");for(let n=0;n<t.length;n++){if(t[n]<r[n])return-1;if(t[n]>r[n])return 1}return t.length===r.length?0:t.length>r.length?1:-1}static from(t,r=\"utf8\"){if(t&&typeof t==\"object\"&&t.type===\"Buffer\")return new e(t.data);if(typeof t==\"number\")return new e(new Uint8Array(t));if(typeof t==\"string\")return xn(t,r);if(ArrayBuffer.isView(t)){let{byteOffset:n,byteLength:i,buffer:o}=t;return\"map\"in t&&typeof t.map==\"function\"?new e(t.map(s=>s%256),n,i):new e(o,n,i)}if(t&&typeof t==\"object\"&&(\"length\"in t||\"byteLength\"in t||\"buffer\"in t))return new e(t);throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}static concat(t,r){if(t.length===0)return e.alloc(0);let n=[].concat(...t.map(o=>[...o])),i=e.alloc(r!==void 0?r:n.length);return i.set(r!==void 0?n.slice(0,r):n),i}slice(t=0,r=this.length){return this.subarray(t,r)}subarray(t=0,r=this.length){return Object.setPrototypeOf(super.subarray(t,r),e.prototype)}reverse(){return super.reverse(),this}readIntBE(t,r){H(t,\"offset\"),ie(t,\"offset\"),W(t,\"offset\",this.length-1),H(r,\"byteLength\"),ie(r,\"byteLength\");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return n.getUint8(0)&128&&(i-=Math.pow(256,r)),i}readIntLE(t,r){H(t,\"offset\"),ie(t,\"offset\"),W(t,\"offset\",this.length-1),H(r,\"byteLength\"),ie(r,\"byteLength\");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return n.getUint8(r-1)&128&&(i-=Math.pow(256,r)),i}readUIntBE(t,r){H(t,\"offset\"),ie(t,\"offset\"),W(t,\"offset\",this.length-1),H(r,\"byteLength\"),ie(r,\"byteLength\");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return i}readUintBE(t,r){return this.readUIntBE(t,r)}readUIntLE(t,r){H(t,\"offset\"),ie(t,\"offset\"),W(t,\"offset\",this.length-1),H(r,\"byteLength\"),ie(r,\"byteLength\");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return i}readUintLE(t,r){return this.readUIntLE(t,r)}writeIntBE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntBE(t,r,n)}writeIntLE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntLE(t,r,n)}writeUIntBE(t,r,n){H(r,\"offset\"),ie(r,\"offset\"),W(r,\"offset\",this.length-1),H(n,\"byteLength\"),ie(n,\"byteLength\");let i=new DataView(this.buffer,r,n);for(let o=n-1;o>=0;o--)i.setUint8(o,t&255),t=t/256;return r+n}writeUintBE(t,r,n){return this.writeUIntBE(t,r,n)}writeUIntLE(t,r,n){H(r,\"offset\"),ie(r,\"offset\"),W(r,\"offset\",this.length-1),H(n,\"byteLength\"),ie(n,\"byteLength\");let i=new DataView(this.buffer,r,n);for(let o=0;o<n;o++)i.setUint8(o,t&255),t=t/256;return r+n}writeUintLE(t,r,n){return this.writeUIntLE(t,r,n)}toJSON(){return{type:\"Buffer\",data:Array.from(this)}}swap16(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=2)t.setUint16(r,t.getUint16(r,!0),!1);return this}swap32(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=4)t.setUint32(r,t.getUint32(r,!0),!1);return this}swap64(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=8)t.setBigUint64(r,t.getBigUint64(r,!0),!1);return this}compare(t,r=0,n=t.length,i=0,o=this.length){return mr(t,\"target\"),H(r,\"targetStart\"),H(n,\"targetEnd\"),H(i,\"sourceStart\"),H(o,\"sourceEnd\"),W(r,\"targetStart\"),W(n,\"targetEnd\",t.length),W(i,\"sourceStart\"),W(o,\"sourceEnd\",this.length),e.compare(this.slice(i,o),t.slice(r,n))}equals(t){return mr(t,\"otherBuffer\"),this.length===t.length&&this.every((r,n)=>r===t[n])}copy(t,r=0,n=0,i=this.length){W(r,\"targetStart\"),W(n,\"sourceStart\",this.length),W(i,\"sourceEnd\"),r>>>=0,n>>>=0,i>>>=0;let o=0;for(;n<i&&!(this[n]===void 0||t[r]===void 0);)t[r]=this[n],o++,n++,r++;return o}write(t,r,n,i=\"utf8\"){let o=typeof r==\"string\"?0:r??0,s=typeof n==\"string\"?this.length-o:n??this.length-o;return i=typeof r==\"string\"?r:typeof n==\"string\"?n:i,H(o,\"offset\"),H(s,\"length\"),W(o,\"offset\",this.length),W(s,\"length\",this.length),(i===\"ucs2\"||i===\"ucs-2\"||i===\"utf16le\"||i===\"utf-16le\")&&(s=s-s%2),xn(t,i).copy(this,o,0,s)}fill(t=0,r=0,n=this.length,i=\"utf-8\"){let o=typeof r==\"string\"?0:r,s=typeof n==\"string\"?this.length:n;if(i=typeof r==\"string\"?r:typeof n==\"string\"?n:i,t=e.from(typeof t==\"number\"?[t]:t??[],i),qi(i,\"encoding\"),W(o,\"offset\",this.length),W(s,\"end\",this.length),t.length!==0)for(let a=o;a<s;a+=t.length)super.set(t.slice(0,t.length+a>=this.length?this.length-a:t.length),a);return this}includes(t,r=null,n=\"utf-8\"){return this.indexOf(t,r,n)!==-1}lastIndexOf(t,r=null,n=\"utf-8\"){return this.indexOf(t,r,n,!0)}indexOf(t,r=null,n=\"utf-8\",i=!1){let o=i?this.findLastIndex.bind(this):this.findIndex.bind(this);n=typeof r==\"string\"?r:n;let s=e.from(typeof t==\"number\"?[t]:t,n),a=typeof r==\"string\"?0:r;return a=typeof r==\"number\"?a:null,a=Number.isNaN(a)?null:a,a??=i?this.length:0,a=a<0?this.length+a:a,s.length===0&&i===!1?a>=this.length?this.length:a:s.length===0&&i===!0?(a>=this.length?this.length:a)||this.length:o((d,f)=>(i?f<=a:f>=a)&&this[f]===s[0]&&s.every((v,S)=>this[f+S]===v))}toString(t=\"utf8\",r=0,n=this.length){if(r=r<0?0:r,t=t.toString().toLowerCase(),n<=0)return\"\";if(t===\"utf8\"||t===\"utf-8\")return mu.decode(this.slice(r,n));if(t===\"base64\"||t===\"base64url\"){let i=btoa(this.reduce((o,s)=>o+En(s),\"\"));return t===\"base64url\"?i.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=+$/,\"\"):i}if(t===\"binary\"||t===\"ascii\"||t===\"latin1\"||t===\"latin-1\")return this.slice(r,n).reduce((i,o)=>i+En(o&(t===\"ascii\"?127:255)),\"\");if(t===\"ucs2\"||t===\"ucs-2\"||t===\"utf16le\"||t===\"utf-16le\"){let i=new DataView(this.buffer.slice(r,n));return Array.from({length:i.byteLength/2},(o,s)=>s*2+1<i.byteLength?En(i.getUint16(s*2,!0)):\"\").join(\"\")}if(t===\"hex\")return this.slice(r,n).reduce((i,o)=>i+o.toString(16).padStart(2,\"0\"),\"\");Vi(`encoding \"${t}\"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString(\"hex\").match(/.{1,2}/g).join(\" \")}>`}};cu={int8:[-128,127],int16:[-32768,32767],int32:[-2147483648,2147483647],uint8:[0,255],uint16:[0,65535],uint32:[0,4294967295],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},pu=new TextEncoder,mu=new TextDecoder,du=[\"utf8\",\"utf-8\",\"hex\",\"base64\",\"ascii\",\"binary\",\"base64url\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"latin1\",\"latin-1\"],fu=4294967295;lu(h.prototype);y=new Proxy(gu,{construct(e,[t,r]){return h.from(t,r)},get(e,t){return h[t]}}),En=String.fromCodePoint});var g,x,u=fe(()=>{\"use strict\";g={nextTick:(e,...t)=>{setTimeout(()=>{e(...t)},0)},env:{},version:\"\",cwd:()=>\"/\",stderr:{},argv:[\"/bin/node\"],pid:1e4},{cwd:x}=g});var w,c=fe(()=>{\"use strict\";w=globalThis.performance??(()=>{let e=Date.now();return{now:()=>Date.now()-e}})()});var b,p=fe(()=>{\"use strict\";b=()=>{};b.prototype=b});function Hi(e,t){var r,n,i,o,s,a,d,f,P=e.constructor,v=P.precision;if(!e.s||!t.s)return t.s||(t=new P(e)),B?_(t,v):t;if(d=e.d,f=t.d,s=e.e,i=t.e,d=d.slice(),o=s-i,o){for(o<0?(n=d,o=-o,a=f.length):(n=f,i=s,a=d.length),s=Math.ceil(v/$),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=d.length,o=f.length,a-o<0&&(o=a,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/G|0,d[o]%=G;for(r&&(d.unshift(r),++i),a=d.length;d[--a]==0;)d.pop();return t.d=d,t.e=i,B?_(t,v):t}function ye(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qe+e)}function ge(e){var t,r,n,i=e.length-1,o=\"\",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+\"\",r=$-n.length,r&&(o+=Re(r)),o+=n;s=e[t],n=s+\"\",r=$-n.length,r&&(o+=Re(r))}else if(s===0)return\"0\";for(;s%10===0;)s/=10;return o+s}function Ji(e,t){var r,n,i,o,s,a,d=0,f=0,P=e.constructor,v=P.precision;if(J(e)>16)throw Error(Pn+J(e));if(!e.s)return new P(se);for(t==null?(B=!1,a=v):a=t,s=new P(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log($e(2,f))/Math.LN10*2+5|0,a+=n,r=i=o=new P(se),P.precision=a;;){if(i=_(i.times(e),a),r=r.times(++d),s=o.plus(ve(i,r,a)),ge(s.d).slice(0,a)===ge(o.d).slice(0,a)){for(;f--;)o=_(o.times(o),a);return P.precision=v,t==null?(B=!0,_(o,v)):o}o=s}}function J(e){for(var t=e.e*$,r=e.d[0];r>=10;r/=10)t++;return t}function Tn(e,t,r){if(t>e.LN10.sd())throw B=!0,r&&(e.precision=r),Error(le+\"LN10 precision limit exceeded\");return _(new e(e.LN10),t)}function Re(e){for(var t=\"\";e--;)t+=\"0\";return t}function Ct(e,t){var r,n,i,o,s,a,d,f,P,v=1,S=10,C=e,M=C.d,R=C.constructor,k=R.precision;if(C.s<1)throw Error(le+(C.s?\"NaN\":\"-Infinity\"));if(C.eq(se))return new R(0);if(t==null?(B=!1,f=k):f=t,C.eq(10))return t==null&&(B=!0),Tn(R,f);if(f+=S,R.precision=f,r=ge(M),n=r.charAt(0),o=J(C),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)C=C.times(e),r=ge(C.d),n=r.charAt(0),v++;o=J(C),n>1?(C=new R(\"0.\"+r),o++):C=new R(n+\".\"+r.slice(1))}else return d=Tn(R,f+2,k).times(o+\"\"),C=Ct(new R(n+\".\"+r.slice(1)),f-S).plus(d),R.precision=k,t==null?(B=!0,_(C,k)):C;for(a=s=C=ve(C.minus(se),C.plus(se),f),P=_(C.times(C),f),i=3;;){if(s=_(s.times(P),f),d=a.plus(ve(s,new R(i),f)),ge(d.d).slice(0,f)===ge(a.d).slice(0,f))return a=a.times(2),o!==0&&(a=a.plus(Tn(R,f+2,k).times(o+\"\"))),a=ve(a,new R(v),f),R.precision=k,t==null?(B=!0,_(a,k)):a;a=d,i+=2}}function Bi(e,t){var r,n,i;for((r=t.indexOf(\".\"))>-1&&(t=t.replace(\".\",\"\")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=et(r/$),e.d=[],n=(r+1)%$,r<0&&(n+=$),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=$;n<i;)e.d.push(+t.slice(n,n+=$));t=t.slice(n),n=$-t.length}else n-=i;for(;n--;)t+=\"0\";if(e.d.push(+t),B&&(e.e>dr||e.e<-dr))throw Error(Pn+r)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,r){var n,i,o,s,a,d,f,P,v=e.d;for(s=1,o=v[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=$,i=t,f=v[P=0];else{if(P=Math.ceil((n+1)/$),o=v.length,P>=o)return e;for(f=o=v[P],s=1;o>=10;o/=10)s++;n%=$,i=n-$+s}if(r!==void 0&&(o=$e(10,s-i-1),a=f/o%10|0,d=t<0||v[P+1]!==void 0||f%o,d=r<4?(a||d)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||d||r==6&&(n>0?i>0?f/$e(10,s-i):0:v[P-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return d?(o=J(e),v.length=1,t=t-o-1,v[0]=$e(10,($-t%$)%$),e.e=et(-t/$)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=P,o=1,P--):(v.length=P+1,o=$e(10,$-n),v[P]=i>0?(f/$e(10,s-i)%$e(10,i)|0)*o:0),d)for(;;)if(P==0){(v[0]+=o)==G&&(v[0]=1,++e.e);break}else{if(v[P]+=o,v[P]!=G)break;v[P--]=0,o=1}for(n=v.length;v[--n]===0;)v.pop();if(B&&(e.e>dr||e.e<-dr))throw Error(Pn+J(e));return e}function Wi(e,t){var r,n,i,o,s,a,d,f,P,v,S=e.constructor,C=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),B?_(t,C):t;if(d=e.d,v=t.d,n=t.e,f=e.e,d=d.slice(),s=f-n,s){for(P=s<0,P?(r=d,s=-s,a=v.length):(r=v,n=f,a=d.length),i=Math.max(Math.ceil(C/$),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,a=v.length,P=i<a,P&&(a=i),i=0;i<a;i++)if(d[i]!=v[i]){P=d[i]<v[i];break}s=0}for(P&&(r=d,d=v,v=r,t.s=-t.s),a=d.length,i=v.length-a;i>0;--i)d[a++]=0;for(i=v.length;i>s;){if(d[--i]<v[i]){for(o=i;o&&d[--o]===0;)d[o]=G-1;--d[o],d[i]+=G}d[i]-=v[i]}for(;d[--a]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,B?_(t,C):t):new S(0)}function Ve(e,t,r){var n,i=J(e),o=ge(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+\".\"+o.slice(1)+Re(n):s>1&&(o=o.charAt(0)+\".\"+o.slice(1)),o=o+(i<0?\"e\":\"e+\")+i):i<0?(o=\"0.\"+Re(-i-1)+o,r&&(n=r-s)>0&&(o+=Re(n))):i>=s?(o+=Re(i+1-s),r&&(n=r-i-1)>0&&(o=o+\".\"+Re(n))):((n=i+1)<s&&(o=o.slice(0,n)+\".\"+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+=\".\"),o+=Re(n))),e.s<0?\"-\"+o:o}function ji(e,t){if(e.length>t)return e.length=t,!0}function Gi(e){var t,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o==\"number\"){if(o*0!==0)throw Error(qe+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Bi(s,o.toString())}else if(typeof o!=\"string\")throw Error(qe+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,hu.test(o))Bi(s,o);else throw Error(qe+o)}if(i.prototype=A,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Gi,i.config=i.set=wu,e===void 0&&(e={}),e)for(n=[\"precision\",\"rounding\",\"toExpNeg\",\"toExpPos\",\"LN10\"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function wu(e){if(!e||typeof e!=\"object\")throw Error(le+\"Object expected\");var t,r,n,i=[\"precision\",1,Xe,\"rounding\",0,8,\"toExpNeg\",-1/0,0,\"toExpPos\",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(et(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(qe+r+\": \"+n);if((n=e[r=\"LN10\"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qe+r+\": \"+n);return this}var Xe,yu,Ki,B,le,qe,Pn,et,$e,hu,se,G,$,Qi,dr,A,ve,Ki,zi=fe(()=>{\"use strict\";l();u();c();p();m();Xe=1e9,yu={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:\"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286\"},B=!0,le=\"[DecimalError] \",qe=le+\"Invalid argument: \",Pn=le+\"Exponent out of range: \",et=Math.floor,$e=Math.pow,hu=/^(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i,G=1e7,$=7,Qi=9007199254740991,dr=et(Qi/$),A={};A.absoluteValue=A.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};A.comparedTo=A.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};A.decimalPlaces=A.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};A.dividedBy=A.div=function(e){return ve(this,new this.constructor(e))};A.dividedToIntegerBy=A.idiv=function(e){var t=this,r=t.constructor;return _(ve(t,new r(e),0,1),r.precision)};A.equals=A.eq=function(e){return!this.cmp(e)};A.exponent=function(){return J(this)};A.greaterThan=A.gt=function(e){return this.cmp(e)>0};A.greaterThanOrEqualTo=A.gte=function(e){return this.cmp(e)>=0};A.isInteger=A.isint=function(){return this.e>this.d.length-2};A.isNegative=A.isneg=function(){return this.s<0};A.isPositive=A.ispos=function(){return this.s>0};A.isZero=function(){return this.s===0};A.lessThan=A.lt=function(e){return this.cmp(e)<0};A.lessThanOrEqualTo=A.lte=function(e){return this.cmp(e)<1};A.logarithm=A.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(se))throw Error(le+\"NaN\");if(r.s<1)throw Error(le+(r.s?\"NaN\":\"-Infinity\"));return r.eq(se)?new n(0):(B=!1,t=ve(Ct(r,o),Ct(e,o),o),B=!0,_(t,i))};A.minus=A.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Wi(t,e):Hi(t,(e.s=-e.s,e))};A.modulo=A.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(le+\"NaN\");return r.s?(B=!1,t=ve(r,e,0,1).times(e),B=!0,r.minus(t)):_(new n(r),i)};A.naturalExponential=A.exp=function(){return Ji(this)};A.naturalLogarithm=A.ln=function(){return Ct(this)};A.negated=A.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};A.plus=A.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Hi(t,e):Wi(t,(e.s=-e.s,e))};A.precision=A.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qe+e);if(t=J(i)+1,n=i.d.length-1,r=n*$+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};A.squareRoot=A.sqrt=function(){var e,t,r,n,i,o,s,a=this,d=a.constructor;if(a.s<1){if(!a.s)return new d(0);throw Error(le+\"NaN\")}for(e=J(a),B=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=ge(a.d),(t.length+e)%2==0&&(t+=\"0\"),i=Math.sqrt(t),e=et((e+1)/2)-(e<0||e%2),i==1/0?t=\"5e\"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf(\"e\")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(o=n,n=o.plus(ve(a,o,s+2)).times(.5),ge(o.d).slice(0,s)===(t=ge(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t==\"4999\"){if(_(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(t!=\"9999\")break;s+=4}return B=!0,_(n,r)};A.times=A.mul=function(e){var t,r,n,i,o,s,a,d,f,P=this,v=P.constructor,S=P.d,C=(e=new v(e)).d;if(!P.s||!e.s)return new v(0);for(e.s*=P.s,r=P.e+e.e,d=S.length,f=C.length,d<f&&(o=S,S=C,C=o,s=d,d=f,f=s),o=[],s=d+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)a=o[i]+C[n]*S[i-n-1]+t,o[i--]=a%G|0,t=a/G|0;o[i]=(o[i]+t)%G|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,B?_(e,v.precision):e};A.toDecimalPlaces=A.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ye(e,0,Xe),t===void 0?t=n.rounding:ye(t,0,8),_(r,e+J(r)+1,t))};A.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ve(n,!0):(ye(e,0,Xe),t===void 0?t=i.rounding:ye(t,0,8),n=_(new i(n),e+1,t),r=Ve(n,!0,e+1)),r};A.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?Ve(i):(ye(e,0,Xe),t===void 0?t=o.rounding:ye(t,0,8),n=_(new o(i),e+J(i)+1,t),r=Ve(n.abs(),!1,e+J(n)+1),i.isneg()&&!i.isZero()?\"-\"+r:r)};A.toInteger=A.toint=function(){var e=this,t=e.constructor;return _(new t(e),J(e)+1,t.rounding)};A.toNumber=function(){return+this};A.toPower=A.pow=function(e){var t,r,n,i,o,s,a=this,d=a.constructor,f=12,P=+(e=new d(e));if(!e.s)return new d(se);if(a=new d(a),!a.s){if(e.s<1)throw Error(le+\"Infinity\");return a}if(a.eq(se))return a;if(n=d.precision,e.eq(se))return _(a,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=a.s,s){if((r=P<0?-P:P)<=Qi){for(i=new d(se),t=Math.ceil(n/$+4),B=!1;r%2&&(i=i.times(a),ji(i.d,t)),r=et(r/2),r!==0;)a=a.times(a),ji(a.d,t);return B=!0,e.s<0?new d(se).div(i):_(i,n)}}else if(o<0)throw Error(le+\"NaN\");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,B=!1,i=e.times(Ct(a,n+f)),B=!0,i=Ji(i),i.s=o,i};A.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=J(i),n=Ve(i,r<=o.toExpNeg||r>=o.toExpPos)):(ye(e,1,Xe),t===void 0?t=o.rounding:ye(t,0,8),i=_(new o(i),e,t),r=J(i),n=Ve(i,e<=r||r<=o.toExpNeg,e)),n};A.toSignificantDigits=A.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ye(e,1,Xe),t===void 0?t=n.rounding:ye(t,0,8)),_(new n(r),e,t)};A.toString=A.valueOf=A.val=A.toJSON=A[Symbol.for(\"nodejs.util.inspect.custom\")]=function(){var e=this,t=J(e),r=e.constructor;return Ve(e,t<=r.toExpNeg||t>=r.toExpPos)};ve=function(){function e(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%G|0,s=o/G|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,d;if(o!=s)d=o>s?1:-1;else for(a=d=0;a<o;a++)if(n[a]!=i[a]){d=n[a]>i[a]?1:-1;break}return d}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*G+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,d,f,P,v,S,C,M,R,k,Pe,re,F,ne,Fe,bn,ce,ur,cr=n.constructor,ru=n.s==i.s?1:-1,de=n.d,Q=i.d;if(!n.s)return new cr(n);if(!i.s)throw Error(le+\"Division by zero\");for(d=n.e-i.e,ce=Q.length,Fe=de.length,C=new cr(ru),M=C.d=[],f=0;Q[f]==(de[f]||0);)++f;if(Q[f]>(de[f]||0)&&--d,o==null?re=o=cr.precision:s?re=o+(J(n)-J(i))+1:re=o,re<0)return new cr(0);if(re=re/$+2|0,f=0,ce==1)for(P=0,Q=Q[0],re++;(f<Fe||P)&&re--;f++)F=P*G+(de[f]||0),M[f]=F/Q|0,P=F%Q|0;else{for(P=G/(Q[0]+1)|0,P>1&&(Q=e(Q,P),de=e(de,P),ce=Q.length,Fe=de.length),ne=ce,R=de.slice(0,ce),k=R.length;k<ce;)R[k++]=0;ur=Q.slice(),ur.unshift(0),bn=Q[0],Q[1]>=G/2&&++bn;do P=0,a=t(Q,R,ce,k),a<0?(Pe=R[0],ce!=k&&(Pe=Pe*G+(R[1]||0)),P=Pe/bn|0,P>1?(P>=G&&(P=G-1),v=e(Q,P),S=v.length,k=R.length,a=t(v,R,S,k),a==1&&(P--,r(v,ce<S?ur:Q,S))):(P==0&&(a=P=1),v=Q.slice()),S=v.length,S<k&&v.unshift(0),r(R,v,k),a==-1&&(k=R.length,a=t(Q,R,ce,k),a<1&&(P++,r(R,ce<k?ur:Q,k))),k=R.length):a===0&&(P++,R=[0]),M[f++]=P,a&&R[0]?R[k++]=de[ne]||0:(R=[de[ne]],k=1);while((ne++<Fe||R[0]!==void 0)&&re--)}return M[0]||M.shift(),C.e=d,_(C,s?o+J(C)+1:o)}}();Ki=Gi(yu);se=new Ki(1)});var m=fe(()=>{\"use strict\";zi()});var In={};Ye(In,{Hash:()=>Ot,createHash:()=>yo,default:()=>rt,randomFillSync:()=>wr,randomUUID:()=>hr,webcrypto:()=>kt});function hr(){return globalThis.crypto.randomUUID()}function wr(e,t,r){return t!==void 0&&(r!==void 0?e=e.subarray(t,t+r):e=e.subarray(t)),globalThis.crypto.getRandomValues(e)}function yo(e){return new Ot(e)}var kt,Ot,rt,Be=fe(()=>{\"use strict\";l();u();c();p();m();kt=globalThis.crypto;Ot=class{#t=[];#e;constructor(t){this.#e=t}update(t){this.#t.push(t)}async digest(){let t=new Uint8Array(this.#t.reduce((i,o)=>i+o.length,0)),r=0;for(let i of this.#t)t.set(i,r),r+=i.length;let n=await globalThis.crypto.subtle.digest(this.#e,t);return new Uint8Array(n)}},rt={webcrypto:kt,randomUUID:hr,randomFillSync:wr,createHash:yo,Hash:Ot}});var ho=oe(()=>{\"use strict\";l();u();c();p();m()});var wo=oe((jg,vu)=>{vu.exports={name:\"@prisma/engines-version\",version:\"7.2.0-4.0c8ef2ce45c83248ab3df073180d5eda9e8be7a3\",main:\"index.js\",types:\"index.d.ts\",license:\"Apache-2.0\",author:\"Tim Suchanek <suchanek@prisma.io>\",prisma:{enginesVersion:\"0c8ef2ce45c83248ab3df073180d5eda9e8be7a3\"},repository:{type:\"git\",url:\"https://github.com/prisma/engines-wrapper.git\",directory:\"packages/engines-version\"},devDependencies:{\"@types/node\":\"18.19.76\",typescript:\"4.9.5\"},files:[\"index.js\",\"index.d.ts\"],scripts:{build:\"tsc -d\"}}});var bo=oe(br=>{\"use strict\";l();u();c();p();m();Object.defineProperty(br,\"__esModule\",{value:!0});br.enginesVersion=void 0;br.enginesVersion=wo().prisma.enginesVersion});var Po=oe((ry,To)=>{\"use strict\";l();u();c();p();m();To.exports=(e,t=1,r)=>{if(r={indent:\" \",includeEmptyLines:!1,...r},typeof e!=\"string\")throw new TypeError(`Expected \\`input\\` to be a \\`string\\`, got \\`${typeof e}\\``);if(typeof t!=\"number\")throw new TypeError(`Expected \\`count\\` to be a \\`number\\`, got \\`${typeof t}\\``);if(typeof r.indent!=\"string\")throw new TypeError(`Expected \\`options.indent\\` to be a \\`string\\`, got \\`${typeof r.indent}\\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Ao=oe((Dy,Er)=>{\"use strict\";l();u();c();p();m();Er.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error(\"You need to specify either the `repoUrl` option or both the `user` and `repo` options\");let r=new URL(`${t}/issues/new`),n=[\"body\",\"title\",\"labels\",\"template\",\"milestone\",\"assignee\",\"projects\"];for(let i of n){let o=e[i];if(o!==void 0){if(i===\"labels\"||i===\"projects\"){if(!Array.isArray(o))throw new TypeError(`The \\`${i}\\` option should be an array`);o=o.join(\",\")}r.searchParams.set(i,o)}}return r.toString()};Er.exports.default=Er.exports});var _n=oe((Ew,Ro)=>{\"use strict\";l();u();c();p();m();Ro.exports=function(){function e(t,r,n,i,o){return t<r||n<r?t>n?n+1:t+1:i===o?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,o=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(o-1);)i--,o--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,o-=s,i===0||o<3)return o;var a=0,d,f,P,v,S,C,M,R,k,Pe,re,F,ne=[];for(d=0;d<i;d++)ne.push(d+1),ne.push(t.charCodeAt(s+d));for(var Fe=ne.length-1;a<o-3;)for(k=r.charCodeAt(s+(f=a)),Pe=r.charCodeAt(s+(P=a+1)),re=r.charCodeAt(s+(v=a+2)),F=r.charCodeAt(s+(S=a+3)),C=a+=4,d=0;d<Fe;d+=2)M=ne[d],R=ne[d+1],f=e(M,f,P,k,R),P=e(f,P,v,Pe,R),v=e(P,v,S,re,R),C=e(v,S,C,F,R),ne[d]=C,S=v,v=P,P=f,f=M;for(;a<o;)for(k=r.charCodeAt(s+(f=a)),C=++a,d=0;d<Fe;d+=2)M=ne[d],ne[d]=C=e(M,f,C,k,ne[d+1]),f=M;return C}}()});var Do=fe(()=>{\"use strict\";l();u();c();p();m()});var No=fe(()=>{\"use strict\";l();u();c();p();m()});var $r,os=fe(()=>{\"use strict\";l();u();c();p();m();$r=class{events={};on(t,r){return this.events[t]||(this.events[t]=[]),this.events[t].push(r),this}emit(t,...r){return this.events[t]?(this.events[t].forEach(n=>{n(...r)}),!0):!1}}});var ri=oe(Je=>{\"use strict\";l();u();c();p();m();Object.defineProperty(Je,\"__esModule\",{value:!0});Je.anumber=ti;Je.abytes=Gs;Je.ahash=ip;Je.aexists=op;Je.aoutput=sp;function ti(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(\"positive integer expected, got \"+e)}function np(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name===\"Uint8Array\"}function Gs(e,...t){if(!np(e))throw new Error(\"Uint8Array expected\");if(t.length>0&&!t.includes(e.length))throw new Error(\"Uint8Array expected of length \"+t+\", got length=\"+e.length)}function ip(e){if(typeof e!=\"function\"||typeof e.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");ti(e.outputLen),ti(e.blockLen)}function op(e,t=!0){if(e.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&e.finished)throw new Error(\"Hash#digest() has already been called\")}function sp(e,t){Gs(e);let r=t.outputLen;if(e.length<r)throw new Error(\"digestInto() expects output buffer of length at least \"+r)}});var ya=oe(O=>{\"use strict\";l();u();c();p();m();Object.defineProperty(O,\"__esModule\",{value:!0});O.add5L=O.add5H=O.add4H=O.add4L=O.add3H=O.add3L=O.rotlBL=O.rotlBH=O.rotlSL=O.rotlSH=O.rotr32L=O.rotr32H=O.rotrBL=O.rotrBH=O.rotrSL=O.rotrSH=O.shrSL=O.shrSH=O.toBig=void 0;O.fromBig=ii;O.split=Ks;O.add=ua;var Gr=BigInt(2**32-1),ni=BigInt(32);function ii(e,t=!1){return t?{h:Number(e&Gr),l:Number(e>>ni&Gr)}:{h:Number(e>>ni&Gr)|0,l:Number(e&Gr)|0}}function Ks(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=ii(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var zs=(e,t)=>BigInt(e>>>0)<<ni|BigInt(t>>>0);O.toBig=zs;var Zs=(e,t,r)=>e>>>r;O.shrSH=Zs;var Ys=(e,t,r)=>e<<32-r|t>>>r;O.shrSL=Ys;var Xs=(e,t,r)=>e>>>r|t<<32-r;O.rotrSH=Xs;var ea=(e,t,r)=>e<<32-r|t>>>r;O.rotrSL=ea;var ta=(e,t,r)=>e<<64-r|t>>>r-32;O.rotrBH=ta;var ra=(e,t,r)=>e>>>r-32|t<<64-r;O.rotrBL=ra;var na=(e,t)=>t;O.rotr32H=na;var ia=(e,t)=>e;O.rotr32L=ia;var oa=(e,t,r)=>e<<r|t>>>32-r;O.rotlSH=oa;var sa=(e,t,r)=>t<<r|e>>>32-r;O.rotlSL=sa;var aa=(e,t,r)=>t<<r-32|e>>>64-r;O.rotlBH=aa;var la=(e,t,r)=>e<<r-32|t>>>64-r;O.rotlBL=la;function ua(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var ca=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);O.add3L=ca;var pa=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;O.add3H=pa;var ma=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);O.add4L=ma;var da=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;O.add4H=da;var fa=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);O.add5L=fa;var ga=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;O.add5H=ga;var ap={fromBig:ii,split:Ks,toBig:zs,shrSH:Zs,shrSL:Ys,rotrSH:Xs,rotrSL:ea,rotrBH:ta,rotrBL:ra,rotr32H:na,rotr32L:ia,rotlSH:oa,rotlSL:sa,rotlBH:aa,rotlBL:la,add:ua,add3L:ca,add3H:pa,add4L:ma,add4H:da,add5H:ga,add5L:fa};O.default=ap});var ha=oe(Kr=>{\"use strict\";l();u();c();p();m();Object.defineProperty(Kr,\"__esModule\",{value:!0});Kr.crypto=void 0;var Ne=(Be(),$i(In));Kr.crypto=Ne&&typeof Ne==\"object\"&&\"webcrypto\"in Ne?Ne.webcrypto:Ne&&typeof Ne==\"object\"&&\"randomBytes\"in Ne?Ne:void 0});var xa=oe(N=>{\"use strict\";l();u();c();p();m();Object.defineProperty(N,\"__esModule\",{value:!0});N.Hash=N.nextTick=N.byteSwapIfBE=N.isLE=void 0;N.isBytes=lp;N.u8=up;N.u32=cp;N.createView=pp;N.rotr=mp;N.rotl=dp;N.byteSwap=ai;N.byteSwap32=fp;N.bytesToHex=yp;N.hexToBytes=hp;N.asyncLoop=bp;N.utf8ToBytes=ba;N.toBytes=zr;N.concatBytes=xp;N.checkOpts=Ep;N.wrapConstructor=Tp;N.wrapConstructorWithOpts=Pp;N.wrapXOFConstructorWithOpts=vp;N.randomBytes=Ap;var wt=ha(),si=ri();function lp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name===\"Uint8Array\"}function up(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function cp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function pp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mp(e,t){return e<<32-t|e>>>t}function dp(e,t){return e<<t|e>>>32-t>>>0}N.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ai(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}N.byteSwapIfBE=N.isLE?e=>e:e=>ai(e);function fp(e){for(let t=0;t<e.length;t++)e[t]=ai(e[t])}var gp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,\"0\"));function yp(e){(0,si.abytes)(e);let t=\"\";for(let r=0;r<e.length;r++)t+=gp[e[r]];return t}var Ce={_0:48,_9:57,A:65,F:70,a:97,f:102};function wa(e){if(e>=Ce._0&&e<=Ce._9)return e-Ce._0;if(e>=Ce.A&&e<=Ce.F)return e-(Ce.A-10);if(e>=Ce.a&&e<=Ce.f)return e-(Ce.a-10)}function hp(e){if(typeof e!=\"string\")throw new Error(\"hex string expected, got \"+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error(\"hex string expected, got unpadded hex of length \"+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=wa(e.charCodeAt(o)),a=wa(e.charCodeAt(o+1));if(s===void 0||a===void 0){let d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character \"'+d+'\" at index '+o)}n[i]=s*16+a}return n}var wp=async()=>{};N.nextTick=wp;async function bp(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,N.nextTick)(),n+=o)}}function ba(e){if(typeof e!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function zr(e){return typeof e==\"string\"&&(e=ba(e)),(0,si.abytes)(e),e}function xp(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,si.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var oi=class{clone(){return this._cloneInto()}};N.Hash=oi;function Ep(e,t){if(t!==void 0&&{}.toString.call(t)!==\"[object Object]\")throw new Error(\"Options should be object or undefined\");return Object.assign(e,t)}function Tp(e){let t=n=>e().update(zr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Pp(e){let t=(n,i)=>e(i).update(zr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function vp(e){let t=(n,i)=>e(i).update(zr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Ap(e=32){if(wt.crypto&&typeof wt.crypto.getRandomValues==\"function\")return wt.crypto.getRandomValues(new Uint8Array(e));if(wt.crypto&&typeof wt.crypto.randomBytes==\"function\")return wt.crypto.randomBytes(e);throw new Error(\"crypto.getRandomValues must be defined\")}});var Ra=oe(V=>{\"use strict\";l();u();c();p();m();Object.defineProperty(V,\"__esModule\",{value:!0});V.shake256=V.shake128=V.keccak_512=V.keccak_384=V.keccak_256=V.keccak_224=V.sha3_512=V.sha3_384=V.sha3_256=V.sha3_224=V.Keccak=void 0;V.keccakP=Ca;var bt=ri(),zt=ya(),Se=xa(),Pa=[],va=[],Aa=[],Cp=BigInt(0),Kt=BigInt(1),Sp=BigInt(2),Rp=BigInt(7),Ip=BigInt(256),Op=BigInt(113);for(let e=0,t=Kt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Pa.push(2*(5*n+r)),va.push((e+1)*(e+2)/2%64);let i=Cp;for(let o=0;o<7;o++)t=(t<<Kt^(t>>Rp)*Op)%Ip,t&Sp&&(i^=Kt<<(Kt<<BigInt(o))-Kt);Aa.push(i)}var[kp,Mp]=(0,zt.split)(Aa,!0),Ea=(e,t,r)=>r>32?(0,zt.rotlBH)(e,t,r):(0,zt.rotlSH)(e,t,r),Ta=(e,t,r)=>r>32?(0,zt.rotlBL)(e,t,r):(0,zt.rotlSL)(e,t,r);function Ca(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,d=(s+2)%10,f=r[d],P=r[d+1],v=Ea(f,P,1)^r[a],S=Ta(f,P,1)^r[a+1];for(let C=0;C<50;C+=10)e[s+C]^=v,e[s+C+1]^=S}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=va[s],d=Ea(i,o,a),f=Ta(i,o,a),P=Pa[s];i=e[P],o=e[P+1],e[P]=d,e[P+1]=f}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=kp[n],e[1]^=Mp[n]}r.fill(0)}var Zt=class e extends Se.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,bt.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=(0,Se.u32)(this.state)}keccak(){Se.isLE||(0,Se.byteSwap32)(this.state32),Ca(this.state32,this.rounds),Se.isLE||(0,Se.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,bt.aexists)(this);let{blockLen:r,state:n}=this;t=(0,Se.toBytes)(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,bt.aexists)(this,!1),(0,bt.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(t)}xof(t){return(0,bt.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,bt.aoutput)(t,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};V.Keccak=Zt;var Le=(e,t,r)=>(0,Se.wrapConstructor)(()=>new Zt(t,e,r));V.sha3_224=Le(6,144,224/8);V.sha3_256=Le(6,136,256/8);V.sha3_384=Le(6,104,384/8);V.sha3_512=Le(6,72,512/8);V.keccak_224=Le(1,144,224/8);V.keccak_256=Le(1,136,256/8);V.keccak_384=Le(1,104,384/8);V.keccak_512=Le(1,72,512/8);var Sa=(e,t,r)=>(0,Se.wrapXOFConstructorWithOpts)((n={})=>new Zt(t,e,n.dkLen===void 0?r:n.dkLen,!0));V.shake128=Sa(31,168,128/8);V.shake256=Sa(31,136,256/8)});var _a=oe((_I,_e)=>{\"use strict\";l();u();c();p();m();var{sha3_512:Dp}=Ra(),Oa=24,Yt=32,li=(e=4,t=Math.random)=>{let r=\"\";for(;r.length<e;)r=r+Math.floor(t()*36).toString(36);return r};function ka(e){let t=8n,r=0n;for(let n of e.values()){let i=BigInt(n);r=(r<<t)+i}return r}var Ma=(e=\"\")=>ka(Dp(e)).toString(36).slice(1),Ia=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),Np=e=>Ia[Math.floor(e()*Ia.length)],Da=({globalObj:e=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:{},random:t=Math.random}={})=>{let r=Object.keys(e).toString(),n=r.length?r+li(Yt,t):li(Yt,t);return Ma(n).substring(0,Yt)},Na=e=>()=>e++,Lp=476782367,La=({random:e=Math.random,counter:t=Na(Math.floor(e()*Lp)),length:r=Oa,fingerprint:n=Da({random:e})}={})=>function(){let o=Np(e),s=Date.now().toString(36),a=t().toString(36),d=li(r,e),f=`${s+d+a+n}`;return`${o+Ma(f).substring(1,r)}`},_p=La(),Fp=(e,{minLength:t=2,maxLength:r=Yt}={})=>{let n=e.length,i=/^[0-9a-z]+$/;try{if(typeof e==\"string\"&&n>=t&&n<=r&&i.test(e))return!0}finally{}return!1};_e.exports.getConstants=()=>({defaultLength:Oa,bigLength:Yt});_e.exports.init=La;_e.exports.createId=_p;_e.exports.bufToBigInt=ka;_e.exports.createCounter=Na;_e.exports.createFingerprint=Da;_e.exports.isCuid=Fp});var Fa=oe((BI,Xt)=>{\"use strict\";l();u();c();p();m();var{createId:Up,init:$p,getConstants:qp,isCuid:Vp}=_a();Xt.exports.createId=Up;Xt.exports.init=$p;Xt.exports.getConstants=qp;Xt.exports.isCuid=Vp});var id={};Ye(id,{AnyNull:()=>ee.AnyNull,DMMF:()=>_t,DbNull:()=>ee.DbNull,Debug:()=>X,Decimal:()=>tu.Decimal,Extensions:()=>vn,JsonNull:()=>ee.JsonNull,NullTypes:()=>ee.NullTypes,ObjectEnumValue:()=>ee.ObjectEnumValue,PrismaClientInitializationError:()=>D.PrismaClientInitializationError,PrismaClientKnownRequestError:()=>D.PrismaClientKnownRequestError,PrismaClientRustPanicError:()=>D.PrismaClientRustPanicError,PrismaClientUnknownRequestError:()=>D.PrismaClientUnknownRequestError,PrismaClientValidationError:()=>D.PrismaClientValidationError,Public:()=>An,Sql:()=>Te.Sql,createParam:()=>Yo,defineDmmfProperty:()=>ns,deserializeJsonResponse:()=>De,deserializeRawResult:()=>hn,dmmfToRuntimeDataModel:()=>to,empty:()=>Te.empty,getPrismaClient:()=>Yl,getRuntime:()=>eu,isAnyNull:()=>ee.isAnyNull,isDbNull:()=>ee.isDbNull,isJsonNull:()=>ee.isJsonNull,join:()=>Te.join,makeStrictEnum:()=>Xl,makeTypedQueryFactory:()=>is,raw:()=>Te.raw,serializeJsonQuery:()=>_r,skip:()=>Lr,sqltag:()=>Te.sql,warnOnce:()=>Ln});module.exports=$i(id);l();u();c();p();m();var vn={};Ye(vn,{defineExtension:()=>Zi,getExtensionContext:()=>Yi});l();u();c();p();m();l();u();c();p();m();function Zi(e){return typeof e==\"function\"?e:t=>t.$extends(e)}l();u();c();p();m();function Yi(e){return e}var An={};Ye(An,{validator:()=>Xi});l();u();c();p();m();l();u();c();p();m();function Xi(...e){return t=>t}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var he=class{_map=new Map;get(t){return this._map.get(t)?.value}set(t,r){this._map.set(t,{value:r})}getOrCreate(t,r){let n=this._map.get(t);if(n)return n.value;let i=r();return this.set(t,i),i}};l();u();c();p();m();function Ie(e){return e.substring(0,1).toLowerCase()+e.substring(1)}l();u();c();p();m();function eo(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}l();u();c();p();m();function St(e){let t;return{get(){return t||(t={value:e()}),t.value}}}l();u();c();p();m();function to(e){return{models:Cn(e.models),enums:Cn(e.enums),types:Cn(e.types)}}function Cn(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}var ke=require(\"@prisma/client-runtime-utils\");l();u();c();p();m();l();u();c();p();m();var Sn,ro,no,io,oo=!0;typeof g<\"u\"&&({FORCE_COLOR:Sn,NODE_DISABLE_COLORS:ro,NO_COLOR:no,TERM:io}=g.env||{},oo=g.stdout&&g.stdout.isTTY);var bu={enabled:!ro&&no==null&&io!==\"dumb\"&&(Sn!=null&&Sn!==\"0\"||oo)};function U(e,t){let r=new RegExp(`\\\\x1b\\\\[${t}m`,\"g\"),n=`\\x1B[${e}m`,i=`\\x1B[${t}m`;return function(o){return!bu.enabled||o==null?o:n+(~(\"\"+o).indexOf(i)?o.replace(r,i+n):o)+i}}var Jf=U(0,0),fr=U(1,22),gr=U(2,22),Wf=U(3,23),yr=U(4,24),Gf=U(7,27),Kf=U(8,28),zf=U(9,29),Zf=U(30,39),tt=U(31,39),so=U(32,39),ao=U(33,39),lo=U(34,39),Yf=U(35,39),uo=U(36,39),Xf=U(37,39),co=U(90,39),eg=U(90,39),tg=U(40,49),rg=U(41,49),ng=U(42,49),ig=U(43,49),og=U(44,49),sg=U(45,49),ag=U(46,49),lg=U(47,49);l();u();c();p();m();var xu=100,po=[\"green\",\"yellow\",\"blue\",\"magenta\",\"cyan\",\"red\"],Rt=[],mo=Date.now(),Eu=0,Rn=typeof g<\"u\"?g.env:{};globalThis.DEBUG??=Rn.DEBUG??\"\";globalThis.DEBUG_COLORS??=Rn.DEBUG_COLORS?Rn.DEBUG_COLORS===\"true\":!0;var It={enable(e){typeof e==\"string\"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG=\"\",e},enabled(e){let t=globalThis.DEBUG.split(\",\").map(i=>i.replace(/[.+?^${}()|[\\]\\\\]/g,\"\\\\$&\")),r=t.some(i=>i===\"\"||i[0]===\"-\"?!1:e.match(RegExp(i.split(\"*\").join(\".*\")+\"$\"))),n=t.some(i=>i===\"\"||i[0]!==\"-\"?!1:e.match(RegExp(i.slice(1).split(\"*\").join(\".*\")+\"$\")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function Tu(e){let t={color:po[Eu++%po.length],enabled:It.enabled(e),namespace:e,log:It.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:o,color:s,log:a}=t;if(n.length!==0&&Rt.push([o,...n]),Rt.length>xu&&Rt.shift(),It.enabled(o)||i){let d=n.map(P=>typeof P==\"string\"?P:Pu(P)),f=`+${Date.now()-mo}ms`;mo=Date.now(),a(o,...d,f)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,o)=>t[i]=o})}var X=new Proxy(Tu,{get:(e,t)=>It[t],set:(e,t,r)=>It[t]=r});function Pu(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i==\"object\"&&i!==null){if(r.has(i))return\"[Circular *]\";r.add(i)}else if(typeof i==\"bigint\")return i.toString();return i},t)}function fo(e=7500){let t=Rt.map(([r,...n])=>`${r} ${n.map(i=>typeof i==\"string\"?i:JSON.stringify(i)).join(\" \")}`).join(`\n`);return t.length<e?t:t.slice(-e)}function go(){Rt.length=0}l();u();c();p();m();l();u();c();p();m();var xo=\"prisma+postgres\",xr=`${xo}:`;function Eo(e){return e?.toString().startsWith(`${xr}//`)??!1}function On(e){if(!Eo(e))return!1;let{host:t}=new URL(e);return t.includes(\"localhost\")||t.includes(\"127.0.0.1\")||t.includes(\"[::1]\")}var Dt={};Ye(Dt,{error:()=>Su,info:()=>Cu,log:()=>Au,query:()=>Ru,should:()=>vo,tags:()=>Mt,warn:()=>kn});l();u();c();p();m();var Mt={error:tt(\"prisma:error\"),warn:ao(\"prisma:warn\"),info:uo(\"prisma:info\"),query:lo(\"prisma:query\")},vo={warn:()=>!g.env.PRISMA_DISABLE_WARNINGS};function Au(...e){console.log(...e)}function kn(e,...t){vo.warn()&&console.warn(`${Mt.warn} ${e}`,...t)}function Cu(e,...t){console.info(`${Mt.info} ${e}`,...t)}function Su(e,...t){console.error(`${Mt.error} ${e}`,...t)}function Ru(e,...t){console.log(`${Mt.query} ${e}`,...t)}l();u();c();p();m();function Ae(e,t){throw new Error(t)}l();u();c();p();m();l();u();c();p();m();function Mn({onlyFirst:e=!1}={}){let r=[\"[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?(?:\\\\u0007|\\\\u001B\\\\u005C|\\\\u009C))\",\"(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-nq-uy=><~]))\"].join(\"|\");return new RegExp(r,e?void 0:\"g\")}var Iu=Mn();function nt(e){if(typeof e!=\"string\")throw new TypeError(`Expected a \\`string\\`, got \\`${typeof e}\\``);return e.replace(Iu,\"\")}l();u();c();p();m();function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}l();u();c();p();m();function Tr(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}l();u();c();p();m();function Nn(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}l();u();c();p();m();function Nt(e,t){Object.defineProperty(e,\"name\",{value:t,configurable:!0})}l();u();c();p();m();var Co=new Set,Ln=(e,t,...r)=>{Co.has(e)||(Co.add(e),kn(t,...r))};l();u();c();p();m();function it(e){return e instanceof Date||Object.prototype.toString.call(e)===\"[object Date]\"}function Pr(e){return e.toString()!==\"Invalid Date\"}l();u();c();p();m();var So=require(\"@prisma/client-runtime-utils\");function ot(e){return So.Decimal.isDecimal(e)?!0:e!==null&&typeof e==\"object\"&&typeof e.s==\"number\"&&typeof e.e==\"number\"&&typeof e.toFixed==\"function\"&&Array.isArray(e.d)}l();u();c();p();m();var Jo=require(\"@prisma/client-runtime-utils\");l();u();c();p();m();var _t={};Ye(_t,{ModelAction:()=>Lt,datamodelEnumToSchemaEnum:()=>Ou,datamodelSchemaEnumToSchemaEnum:()=>ku});l();u();c();p();m();l();u();c();p();m();function Ou(e){return{name:e.name,data:e.values.map(t=>({key:t.name,value:t.dbName??t.name}))}}function ku(e){return{name:e.name,data:e.values.map(t=>({key:t,value:t}))}}l();u();c();p();m();var Lt=(F=>(F.findUnique=\"findUnique\",F.findUniqueOrThrow=\"findUniqueOrThrow\",F.findFirst=\"findFirst\",F.findFirstOrThrow=\"findFirstOrThrow\",F.findMany=\"findMany\",F.create=\"create\",F.createMany=\"createMany\",F.createManyAndReturn=\"createManyAndReturn\",F.update=\"update\",F.updateMany=\"updateMany\",F.updateManyAndReturn=\"updateManyAndReturn\",F.upsert=\"upsert\",F.delete=\"delete\",F.deleteMany=\"deleteMany\",F.groupBy=\"groupBy\",F.count=\"count\",F.aggregate=\"aggregate\",F.findRaw=\"findRaw\",F.aggregateRaw=\"aggregateRaw\",F))(Lt||{});var Mu=Ue(Po());var Du={red:tt,gray:co,dim:gr,bold:fr,underline:yr,highlightSource:e=>e.highlight()},Nu={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function Lu({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function _u({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:o},s){let a=[\"\"],d=t?\" in\":\":\";if(n?(a.push(s.red(`Oops, an unknown error occurred! This is ${s.bold(\"on us\")}, you did nothing wrong.`)),a.push(s.red(`It occurred in the ${s.bold(`\\`${e}\\``)} invocation${d}`))):a.push(s.red(`Invalid ${s.bold(`\\`${e}\\``)} invocation${d}`)),t&&a.push(s.underline(Fu(t))),i){a.push(\"\");let f=[i.toString()];o&&(f.push(o),f.push(s.dim(\")\"))),a.push(f.join(\"\")),o&&a.push(\"\")}else a.push(\"\"),o&&a.push(o),a.push(\"\");return a.push(r),a.join(`\n`)}function Fu(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(\":\")}function vr(e){let t=e.showColors?Du:Nu,r;return typeof $getTemplateParameters<\"u\"?r=$getTemplateParameters(e,t):r=Lu(e),_u(r,t)}l();u();c();p();m();var _o=Ue(_n());l();u();c();p();m();function ko(e,t,r){let n=Mo(e),i=Uu(n),o=qu(i);o?Ar(o,t,r):t.addErrorMessage(()=>\"Unknown error\")}function Mo(e){return e.errors.flatMap(t=>t.kind===\"Union\"?Mo(t):[t])}function Uu(e){let t=new Map,r=[];for(let n of e){if(n.kind!==\"InvalidArgumentType\"){r.push(n);continue}let i=`${n.selectionPath.join(\".\")}:${n.argumentPath.join(\".\")}`,o=t.get(i);o?t.set(i,{...n,argument:{...n.argument,typeNames:$u(o.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function $u(e,t){return[...new Set(e.concat(t))]}function qu(e){return Nn(e,(t,r)=>{let n=Io(t),i=Io(r);return n!==i?n-i:Oo(t)-Oo(r)})}function Io(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function Oo(e){switch(e.kind){case\"InvalidArgumentValue\":case\"ValueTooLarge\":return 20;case\"InvalidArgumentType\":return 10;case\"RequiredArgumentMissing\":return-10;default:return 0}}l();u();c();p();m();var ae=class{constructor(t,r){this.name=t;this.value=r}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(t){let{colors:{green:r}}=t.context;t.addMarginSymbol(r(this.isRequired?\"+\":\"?\")),t.write(r(this.name)),this.isRequired||t.write(r(\"?\")),t.write(r(\": \")),typeof this.value==\"string\"?t.write(r(this.value)):t.write(this.value)}};l();u();c();p();m();l();u();c();p();m();No();l();u();c();p();m();var st=class{constructor(t=0,r){this.context=r;this.currentIndent=t}lines=[];currentLine=\"\";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(t){return typeof t==\"string\"?this.currentLine+=t:t.write(this),this}writeJoined(t,r,n=(i,o)=>o.write(i)){let i=r.length-1;for(let o=0;o<r.length;o++)n(r[o],this),o!==i&&this.write(t);return this}writeLine(t){return this.write(t).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine=\"\",this.marginSymbol=void 0;let t=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,t?.(),this}withIndent(t){return this.indent(),t(this),this.unindent(),this}afterNextNewline(t){return this.afterNextNewLineCallback=t,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(t){return this.marginSymbol=t,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`\n`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let t=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+t.slice(1):t}};Do();l();u();c();p();m();l();u();c();p();m();var Cr=class{constructor(t){this.value=t}write(t){t.write(this.value)}markAsError(){this.value.markAsError()}};l();u();c();p();m();var Sr=e=>e,Rr={bold:Sr,red:Sr,green:Sr,dim:Sr,enabled:!1},Lo={bold:fr,red:tt,green:so,dim:gr,enabled:!0},at={write(e){e.writeLine(\",\")}};l();u();c();p();m();var we=class{constructor(t){this.contents=t}isUnderlined=!1;color=t=>t;underline(){return this.isUnderlined=!0,this}setColor(t){return this.color=t,this}write(t){let r=t.getCurrentLineLength();t.write(this.color(this.contents)),this.isUnderlined&&t.afterNextNewline(()=>{t.write(\" \".repeat(r)).writeLine(this.color(\"~\".repeat(this.contents.length)))})}};l();u();c();p();m();var Oe=class{hasError=!1;markAsError(){return this.hasError=!0,this}};var lt=class extends Oe{items=[];addItem(t){return this.items.push(new Cr(t)),this}getField(t){return this.items[t]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(r=>r.value.getPrintWidth()))+2}write(t){if(this.items.length===0){this.writeEmpty(t);return}this.writeWithItems(t)}writeEmpty(t){let r=new we(\"[]\");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithItems(t){let{colors:r}=t.context;t.writeLine(\"[\").withIndent(()=>t.writeJoined(at,this.items).newLine()).write(\"]\"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(r.red(\"~\".repeat(this.getPrintWidth())))})}asObject(){}};var ut=class e extends Oe{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let o=i;for(let s of n){let a;if(o.value instanceof e?a=o.value.getField(s):o.value instanceof lt&&(a=o.value.getField(Number(s))),!a)return;o=a}return o}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let o=n.value.getFieldValue(i);if(!o||!(o instanceof e))return;let s=o.getSelectionParent();if(!s)return;n=s}return n}getSelectionParent(){let t=this.getField(\"select\")?.value.asObject();if(t)return{kind:\"select\",value:t};let r=this.getField(\"include\")?.value.asObject();if(r)return{kind:\"include\",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(n=>n.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new we(\"{}\");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine(\"{\").withIndent(()=>{t.writeJoined(at,[...r,...this.suggestions]).newLine()}),t.write(\"}\"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red(\"~\".repeat(this.getPrintWidth())))})}};l();u();c();p();m();var K=class extends Oe{constructor(r){super();this.text=r}getPrintWidth(){return this.text.length}write(r){let n=new we(this.text);this.hasError&&n.underline().setColor(r.context.colors.red),r.write(n)}asObject(){}};l();u();c();p();m();var Ft=class{fields=[];addField(t,r){return this.fields.push({write(n){let{green:i,dim:o}=n.context.colors;n.write(i(o(`${t}: ${r}`))).addMarginSymbol(i(o(\"+\")))}}),this}write(t){let{colors:{green:r}}=t.context;t.writeLine(r(\"{\")).withIndent(()=>{t.writeJoined(at,this.fields).newLine()}).write(r(\"}\")).addMarginSymbol(r(\"+\"))}};function Ar(e,t,r){switch(e.kind){case\"MutuallyExclusiveFields\":Vu(e,t);break;case\"IncludeOnScalar\":Bu(e,t);break;case\"EmptySelection\":ju(e,t,r);break;case\"UnknownSelectionField\":Wu(e,t);break;case\"InvalidSelectionValue\":Gu(e,t);break;case\"UnknownArgument\":Ku(e,t);break;case\"UnknownInputField\":zu(e,t);break;case\"RequiredArgumentMissing\":Zu(e,t);break;case\"InvalidArgumentType\":Yu(e,t);break;case\"InvalidArgumentValue\":Xu(e,t);break;case\"ValueTooLarge\":ec(e,t);break;case\"SomeFieldsMissing\":tc(e,t);break;case\"TooManyFieldsGiven\":rc(e,t);break;case\"Union\":ko(e,t,r);break;default:throw new Error(\"not implemented: \"+e.kind)}}function Vu(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold(\"either\")} use ${n.green(`\\`${e.firstField}\\``)} or ${n.green(`\\`${e.secondField}\\``)}, but ${n.red(\"not both\")} at the same time.`)}function Bu(e,t){let[r,n]=ct(e.selectionPath),i=e.outputType,o=t.arguments.getDeepSelectionParent(r)?.value;if(o&&(o.getField(n)?.markAsError(),i))for(let s of i.fields)s.isRelation&&o.addSuggestion(new ae(s.name,\"true\"));t.addErrorMessage(s=>{let a=`Invalid scalar field ${s.red(`\\`${n}\\``)} for ${s.bold(\"include\")} statement`;return i?a+=` on model ${s.bold(i.name)}. ${Ut(s)}`:a+=\".\",a+=`\nNote that ${s.bold(\"include\")} statements only accept relation fields.`,a})}function ju(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField(\"omit\")?.value.asObject();if(i){Qu(e,t,i);return}if(n.hasField(\"select\")){Hu(e,t);return}}if(r?.[Ie(e.outputType.name)]){Ju(e,t);return}t.addErrorMessage(()=>`Unknown field at \"${e.selectionPath.join(\".\")} selection\"`)}function Qu(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new ae(n.name,\"false\"));t.addErrorMessage(n=>`The ${n.red(\"omit\")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function Hu(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),$o(n,r)),t.addErrorMessage(o=>i?`The ${o.red(\"`select`\")} statement for type ${o.bold(r.name)} must not be empty. ${Ut(o)}`:`The ${o.red(\"`select`\")} statement for type ${o.bold(r.name)} needs ${o.bold(\"at least one truthy value\")}.`)}function Ju(e,t){let r=new Ft;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,\"false\");let n=new ae(\"omit\",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,o]=ct(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(o);if(a){let d=a?.value.asObject()??new ut;d.addSuggestion(n),a.value=d}}t.addErrorMessage(i=>`The global ${i.red(\"omit\")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function Wu(e,t){let r=qo(e.selectionPath,t);if(r.parentKind!==\"unknown\"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case\"select\":$o(n,e.outputType);break;case\"include\":nc(n,e.outputType);break;case\"omit\":ic(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\\`${r.fieldName}\\``)}`];return r.parentKind!==\"unknown\"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\\`${e.outputType.name}\\``)}.`),i.push(Ut(n)),i.join(\" \")})}function Gu(e,t){let r=qo(e.selectionPath,t);r.parentKind!==\"unknown\"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \\`${n.red(r.fieldName)}\\`: ${e.underlyingError}`)}function Ku(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),oc(n,e.arguments)),t.addErrorMessage(i=>Fo(i,r,e.arguments.map(o=>o.name)))}function zu(e,t){let[r,n]=ct(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let o=i.getDeepFieldValue(r)?.asObject();o&&Vo(o,e.inputType)}t.addErrorMessage(o=>Fo(o,n,e.inputType.fields.map(s=>s.name)))}function Fo(e,t,r){let n=[`Unknown argument \\`${e.red(t)}\\`.`],i=ac(t,r);return i&&n.push(`Did you mean \\`${e.green(i)}\\`?`),r.length>0&&n.push(Ut(e)),n.join(\" \")}function Zu(e,t){let r;t.addErrorMessage(d=>r?.value instanceof K&&r.value.text===\"null\"?`Argument \\`${d.green(o)}\\` must not be ${d.red(\"null\")}.`:`Argument \\`${d.green(o)}\\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,o]=ct(e.argumentPath),s=new Ft,a=n.getDeepFieldValue(i)?.asObject();if(a){if(r=a.getField(o),r&&a.removeField(o),e.inputTypes.length===1&&e.inputTypes[0].kind===\"object\"){for(let d of e.inputTypes[0].fields)s.addField(d.name,d.typeNames.join(\" | \"));a.addSuggestion(new ae(o,s).makeRequired())}else{let d=e.inputTypes.map(Uo).join(\" | \");a.addSuggestion(new ae(o,d).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,d]=ct(e.dependentArgumentPath);t.addErrorMessage(f=>`Argument \\`${f.green(o)}\\` is required because argument \\`${f.green(d)}\\` was provided.`)}}}function Uo(e){return e.kind===\"list\"?`${Uo(e.elementType)}[]`:e.name}function Yu(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=Ir(\"or\",e.argument.typeNames.map(s=>i.green(s)));return`Argument \\`${i.bold(r)}\\`: Invalid value provided. Expected ${o}, provided ${i.red(e.inferredType)}.`})}function Xu(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=[`Invalid value for argument \\`${i.bold(r)}\\``];if(e.underlyingError&&o.push(`: ${e.underlyingError}`),o.push(\".\"),e.argument.typeNames.length>0){let s=Ir(\"or\",e.argument.typeNames.map(a=>i.green(a)));o.push(` Expected ${s}.`)}return o.join(\"\")})}function ec(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof K&&(i=s.text)}t.addErrorMessage(o=>{let s=[\"Unable to fit value\"];return i&&s.push(o.red(i)),s.push(`into a 64-bit signed integer for field \\`${o.bold(r)}\\``),s.join(\" \")})}function tc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&Vo(i,e.inputType)}t.addErrorMessage(i=>{let o=[`Argument \\`${i.bold(r)}\\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?o.push(`${i.green(\"at least one of\")} ${Ir(\"or\",e.constraints.requiredFields.map(s=>`\\`${i.bold(s)}\\``))} arguments.`):o.push(`${i.green(\"at least one\")} argument.`):o.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),o.push(Ut(i)),o.join(\" \")})}function rc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let o=n.getDeepFieldValue(e.argumentPath)?.asObject();o&&(o.markAsError(),i=Object.keys(o.getFields()))}t.addErrorMessage(o=>{let s=[`Argument \\`${o.bold(r)}\\` of type ${o.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?s.push(`${o.green(\"exactly one\")} argument,`):e.constraints.maxFieldCount==1?s.push(`${o.green(\"at most one\")} argument,`):s.push(`${o.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),s.push(`but you provided ${Ir(\"and\",i.map(a=>o.red(a)))}. Please choose`),e.constraints.maxFieldCount===1?s.push(\"one.\"):s.push(`${e.constraints.maxFieldCount}.`),s.join(\" \")})}function $o(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ae(r.name,\"true\"))}function nc(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new ae(r.name,\"true\"))}function ic(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new ae(r.name,\"true\"))}function oc(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new ae(r.name,r.typeNames.join(\" | \")))}function qo(e,t){let[r,n]=ct(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:\"unknown\",fieldName:n};let o=i.getFieldValue(\"select\")?.asObject(),s=i.getFieldValue(\"include\")?.asObject(),a=i.getFieldValue(\"omit\")?.asObject(),d=o?.getField(n);return o&&d?{parentKind:\"select\",parent:o,field:d,fieldName:n}:(d=s?.getField(n),s&&d?{parentKind:\"include\",field:d,parent:s,fieldName:n}:(d=a?.getField(n),a&&d?{parentKind:\"omit\",field:d,parent:a,fieldName:n}:{parentKind:\"unknown\",fieldName:n}))}function Vo(e,t){if(t.kind===\"object\")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ae(r.name,r.typeNames.join(\" | \")))}function ct(e){let t=[...e],r=t.pop();if(!r)throw new Error(\"unexpected empty path\");return[t,r]}function Ut({green:e,enabled:t}){return\"Available options are \"+(t?`listed in ${e(\"green\")}`:\"marked with ?\")+\".\"}function Ir(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(\", \")} ${e} ${n}`}var sc=3;function ac(e,t){let r=1/0,n;for(let i of t){let o=(0,_o.default)(e,i);o>sc||o<r&&(r=o,n=i)}return n}l();u();c();p();m();var jo=require(\"@prisma/client-runtime-utils\");l();u();c();p();m();var $t=class{modelName;name;typeName;isList;isEnum;constructor(t,r,n,i,o){this.modelName=t,this.name=r,this.typeName=n,this.isList=i,this.isEnum=o}_toGraphQLInputType(){let t=this.isList?\"List\":\"\",r=this.isEnum?\"Enum\":\"\";return`${t}${r}${this.typeName}FieldRefInput<${this.modelName}>`}};function pt(e){return e instanceof $t}l();u();c();p();m();var Bo=\": \",Or=class{constructor(t,r){this.name=t;this.value=r}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Bo.length}write(t){let r=new we(this.name);this.hasError&&r.underline().setColor(t.context.colors.red),t.write(r).write(Bo).write(this.value)}};var Un=class{arguments;errorMessages=[];constructor(t){this.arguments=t}write(t){t.write(this.arguments)}addErrorMessage(t){this.errorMessages.push(t)}renderAllMessages(t){return this.errorMessages.map(r=>r(t)).join(`\n`)}};function mt(e){return new Un(Qo(e))}function Qo(e){let t=new ut;for(let[r,n]of Object.entries(e)){let i=new Or(r,Ho(n));t.addField(i)}return t}function Ho(e){if(typeof e==\"string\")return new K(JSON.stringify(e));if(typeof e==\"number\"||typeof e==\"boolean\")return new K(String(e));if(typeof e==\"bigint\")return new K(`${e}n`);if(e===null)return new K(\"null\");if(e===void 0)return new K(\"undefined\");if(ot(e))return new K(`new Prisma.Decimal(\"${e.toFixed()}\")`);if(e instanceof Uint8Array)return y.isBuffer(e)?new K(`Buffer.alloc(${e.byteLength})`):new K(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=Pr(e)?e.toISOString():\"Invalid Date\";return new K(`new Date(\"${t}\")`)}return e instanceof jo.ObjectEnumValue?new K(`Prisma.${e._getName()}`):pt(e)?new K(`prisma.${Ie(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?lc(e):typeof e==\"object\"?Qo(e):new K(Object.prototype.toString.call(e))}function lc(e){let t=new lt;for(let r of e)t.addItem(Ho(r));return t}function kr(e,t){let r=t===\"pretty\"?Lo:Rr,n=e.renderAllMessages(r),i=new st(0,{colors:r}).write(e).toString();return{message:n,args:i}}function Mr({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:o,globalOmit:s}){let a=mt(e);for(let v of t)Ar(v,a,s);let{message:d,args:f}=kr(a,r),P=vr({message:d,callsite:n,originalMethod:i,showColors:r===\"pretty\",callArguments:f});throw new Jo.PrismaClientValidationError(P,{clientVersion:o})}l();u();c();p();m();l();u();c();p();m();function be(e){return e.replace(/^./,t=>t.toLowerCase())}l();u();c();p();m();function Go(e,t,r){let n=be(r);return!t.result||!(t.result.$allModels||t.result[n])?e:uc({...e,...Wo(t.name,e,t.result.$allModels),...Wo(t.name,e,t.result[n])})}function uc(e){let t=new he,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(o=>r(o,i)):[n]));return Tr(e,n=>({...n,needs:r(n.name,new Set)}))}function Wo(e,t,r){return r?Tr(r,({needs:n,compute:i},o)=>({name:o,needs:n?Object.keys(n).filter(s=>n[s]):[],compute:cc(t,o,i)})):{}}function cc(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function Ko(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function zo(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var Dr=class{constructor(t,r){this.extension=t;this.previous=r}computedFieldsCache=new he;modelExtensionsCache=new he;queryCallbacksCache=new he;clientExtensions=St(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=St(()=>{let t=this.previous?.getAllBatchQueryCallbacks()??[],r=this.extension.query?.$__internalBatch;return r?t.concat(r):t});getAllComputedFields(t){return this.computedFieldsCache.getOrCreate(t,()=>Go(this.previous?.getAllComputedFields(t),this.extension,t))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(t){return this.modelExtensionsCache.getOrCreate(t,()=>{let r=be(t);return!this.extension.model||!(this.extension.model[r]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(t):{...this.previous?.getAllModelExtensions(t),...this.extension.model.$allModels,...this.extension.model[r]}})}getAllQueryCallbacks(t,r){return this.queryCallbacksCache.getOrCreate(`${t}:${r}`,()=>{let n=this.previous?.getAllQueryCallbacks(t,r)??[],i=[],o=this.extension.query;return!o||!(o[t]||o.$allModels||o[r]||o.$allOperations)?n:(o[t]!==void 0&&(o[t][r]!==void 0&&i.push(o[t][r]),o[t].$allOperations!==void 0&&i.push(o[t].$allOperations)),t!==\"$none\"&&o.$allModels!==void 0&&(o.$allModels[r]!==void 0&&i.push(o.$allModels[r]),o.$allModels.$allOperations!==void 0&&i.push(o.$allModels.$allOperations)),o[r]!==void 0&&i.push(o[r]),o.$allOperations!==void 0&&i.push(o.$allOperations),n.concat(i))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},dt=class e{constructor(t){this.head=t}static empty(){return new e}static single(t){return new e(new Dr(t))}isEmpty(){return this.head===void 0}append(t){return new e(new Dr(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};l();u();c();p();m();var Nr=class{constructor(t){this.name=t}};function Zo(e){return e instanceof Nr}function Yo(e){return new Nr(e)}l();u();c();p();m();l();u();c();p();m();var Xo=Symbol(),qt=class{constructor(t){if(t!==Xo)throw new Error(\"Skip instance can not be constructed directly\")}ifUndefined(t){return t===void 0?Lr:t}},Lr=new qt(Xo);function xe(e){return e instanceof qt}var pc={findUnique:\"findUnique\",findUniqueOrThrow:\"findUniqueOrThrow\",findFirst:\"findFirst\",findFirstOrThrow:\"findFirstOrThrow\",findMany:\"findMany\",count:\"aggregate\",create:\"createOne\",createMany:\"createMany\",createManyAndReturn:\"createManyAndReturn\",update:\"updateOne\",updateMany:\"updateMany\",updateManyAndReturn:\"updateManyAndReturn\",upsert:\"upsertOne\",delete:\"deleteOne\",deleteMany:\"deleteMany\",executeRaw:\"executeRaw\",queryRaw:\"queryRaw\",aggregate:\"aggregate\",groupBy:\"groupBy\",runCommandRaw:\"runCommandRaw\",findRaw:\"findRaw\",aggregateRaw:\"aggregateRaw\"},es=\"explicitly `undefined` values are not allowed\";function _r({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=dt.empty(),callsite:o,clientMethod:s,errorFormat:a,clientVersion:d,previewFeatures:f,globalOmit:P}){let v=new $n({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:o,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:a,clientVersion:d,previewFeatures:f,globalOmit:P});return{modelName:e,action:pc[t],query:Vt(r,v)}}function Vt({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:rs(r,n),selection:mc(e,t,i,n)}}function mc(e,t,r,n){return e?(t?n.throwValidationError({kind:\"MutuallyExclusiveFields\",firstField:\"include\",secondField:\"select\",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:\"MutuallyExclusiveFields\",firstField:\"omit\",secondField:\"select\",selectionPath:n.getSelectionPath()}),yc(e,n)):dc(n,t,r)}function dc(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&fc(n,t,e),gc(n,r,e),n}function fc(e,t,r){for(let[n,i]of Object.entries(t)){if(xe(i))continue;let o=r.nestSelection(n);if(qn(i,o),i===!1||i===void 0){e[n]=!1;continue}let s=r.findField(n);if(s&&s.kind!==\"object\"&&r.throwValidationError({kind:\"IncludeOnScalar\",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),s){e[n]=Vt(i===!0?{}:i,o);continue}if(i===!0){e[n]=!0;continue}e[n]=Vt(i,o)}}function gc(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},o=zo(i,n);for(let[s,a]of Object.entries(o)){if(xe(a))continue;qn(a,r.nestSelection(s));let d=r.findField(s);n?.[s]&&!d||(e[s]=!a)}}function yc(e,t){let r={},n=t.getComputedFields(),i=Ko(e,n);for(let[o,s]of Object.entries(i)){if(xe(s))continue;let a=t.nestSelection(o);qn(s,a);let d=t.findField(o);if(!(n?.[o]&&!d)){if(s===!1||s===void 0||xe(s)){r[o]=!1;continue}if(s===!0){d?.kind===\"object\"?r[o]=Vt({},a):r[o]=!0;continue}r[o]=Vt(s,a)}}return r}function ts(e,t){if(e===null)return null;if(typeof e==\"string\"||typeof e==\"number\"||typeof e==\"boolean\")return e;if(typeof e==\"bigint\")return{$type:\"BigInt\",value:String(e)};if(it(e)){if(Pr(e))return{$type:\"DateTime\",value:e.toISOString()};t.throwValidationError({kind:\"InvalidArgumentValue\",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[\"Date\"]},underlyingError:\"Provided Date object is invalid\"})}if(Zo(e))return{$type:\"Param\",value:e.name};if(pt(e))return{$type:\"FieldRef\",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return hc(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:\"Bytes\",value:y.from(r,n,i).toString(\"base64\")}}if(wc(e))return e.values;if(ot(e))return{$type:\"Decimal\",value:e.toFixed()};if(e instanceof ke.ObjectEnumValue){if(!(0,ke.isDbNull)(e)&&!(0,ke.isJsonNull)(e)&&!(0,ke.isAnyNull)(e))throw new Error(\"Invalid ObjectEnumValue\");return{$type:\"Enum\",value:e._getName()}}if(bc(e))return e.toJSON();if(typeof e==\"object\")return rs(e,t);t.throwValidationError({kind:\"InvalidArgumentValue\",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a \".toJSON()\" method on it`})}function rs(e,t){if(e.$type)return{$type:\"Raw\",value:e};let r={};for(let n in e){let i=e[n],o=t.nestArgument(n);xe(i)||(i!==void 0?r[n]=ts(i,o):t.isPreviewFeatureOn(\"strictUndefinedChecks\")&&t.throwValidationError({kind:\"InvalidArgumentValue\",argumentPath:o.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:es}))}return r}function hc(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),o=e[n];if(o===void 0||xe(o)){let s=o===void 0?\"undefined\":\"Prisma.skip\";t.throwValidationError({kind:\"InvalidArgumentValue\",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \\`${s}\\` value within array. Use \\`null\\` or filter out \\`${s}\\` values`})}r.push(ts(o,i))}return r}function wc(e){return typeof e==\"object\"&&e!==null&&e.__prismaRawParameters__===!0}function bc(e){return typeof e==\"object\"&&e!==null&&typeof e.toJSON==\"function\"}function qn(e,t){e===void 0&&t.isPreviewFeatureOn(\"strictUndefinedChecks\")&&t.throwValidationError({kind:\"InvalidSelectionValue\",selectionPath:t.getSelectionPath(),underlyingError:es})}var $n=class e{constructor(t){this.params=t;this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){Mr({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:\"boolean\",isRelation:t.kind===\"object\"}))}}isRawAction(){return[\"executeRaw\",\"queryRaw\",\"runCommandRaw\",\"findRaw\",\"aggregateRaw\"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind===\"object\"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[Ie(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case\"findFirst\":case\"findFirstOrThrow\":case\"findUniqueOrThrow\":case\"findMany\":case\"upsert\":case\"findUnique\":case\"createManyAndReturn\":case\"create\":case\"update\":case\"updateManyAndReturn\":case\"delete\":return!0;case\"executeRaw\":case\"aggregateRaw\":case\"runCommandRaw\":case\"findRaw\":case\"createMany\":case\"deleteMany\":case\"groupBy\":case\"updateMany\":case\"count\":case\"aggregate\":case\"queryRaw\":return!1;default:Ae(this.params.action,\"Unknown action\")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};l();u();c();p();m();function ns(e,t){let r=St(()=>xc(t));Object.defineProperty(e,\"dmmf\",{get:()=>r.get()})}function xc(e){throw new Error(\"Prisma.dmmf is not available when running in edge runtimes.\")}function Vn(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}l();u();c();p();m();var Bn=new WeakMap,Fr=\"$$PrismaTypedSql\",Bt=class{constructor(t,r){Bn.set(this,{sql:t,values:r}),Object.defineProperty(this,Fr,{value:Fr})}get sql(){return Bn.get(this).sql}get values(){return Bn.get(this).values}};function is(e){return(...t)=>new Bt(e,t)}function Ur(e){return e!=null&&e[Fr]===Fr}l();u();c();p();m();var Zl=require(\"@prisma/client-runtime-utils\");l();u();c();p();m();os();l();u();c();p();m();l();u();c();p();m();function jt(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}l();u();c();p();m();function te(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}l();u();c();p();m();function je(e){let t=new he;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}l();u();c();p();m();l();u();c();p();m();var qr={enumerable:!0,configurable:!0,writable:!0};function Vr(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>qr,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var ss=Symbol.for(\"nodejs.util.inspect.custom\");function pe(e,t){let r=Ec(t),n=new Set,i=new Proxy(e,{get(o,s){if(n.has(s))return o[s];let a=r.get(s);return a?a.getPropertyValue(s):o[s]},has(o,s){if(n.has(s))return!0;let a=r.get(s);return a?a.has?.(s)??!0:Reflect.has(o,s)},ownKeys(o){let s=as(Reflect.ownKeys(o),r),a=as(Array.from(r.keys()),r);return[...new Set([...s,...a,...n])]},set(o,s,a){return r.get(s)?.getPropertyDescriptor?.(s)?.writable===!1?!1:(n.add(s),Reflect.set(o,s,a))},getOwnPropertyDescriptor(o,s){let a=Reflect.getOwnPropertyDescriptor(o,s);if(a&&!a.configurable)return a;let d=r.get(s);return d?d.getPropertyDescriptor?{...qr,...d?.getPropertyDescriptor(s)}:qr:a},defineProperty(o,s,a){return n.add(s),Reflect.defineProperty(o,s,a)},getPrototypeOf:()=>Object.prototype});return i[ss]=function(){let o={...this};return delete o[ss],o},i}function Ec(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function as(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}l();u();c();p();m();function ft(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}l();u();c();p();m();function ls(e){if(e===void 0)return\"\";let t=mt(e);return new st(0,{colors:Rr}).write(t).toString()}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var jn=class{getLocation(){return null}};function Me(e){return typeof $EnabledCallSite==\"function\"&&e!==\"minimal\"?new $EnabledCallSite:new jn}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var us={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function gt(e={}){let t=Pc(e);return Object.entries(t).reduce((n,[i,o])=>(us[i]!==void 0?n.select[i]={select:o}:n[i]=o,n),{select:{}})}function Pc(e={}){return typeof e._count==\"boolean\"?{...e,_count:{_all:e._count}}:e}function Br(e={}){return t=>(typeof e._count==\"boolean\"&&(t._count=t._count._all),t)}function cs(e,t){let r=Br(e);return t({action:\"aggregate\",unpacker:r,argsMapper:gt})(e)}l();u();c();p();m();function vc(e={}){let{select:t,...r}=e;return typeof t==\"object\"?gt({...r,_count:t}):gt({...r,_count:{_all:!0}})}function Ac(e={}){return typeof e.select==\"object\"?t=>Br(e)(t)._count:t=>Br(e)(t)._count._all}function ps(e,t){return t({action:\"count\",unpacker:Ac(e),argsMapper:vc})(e)}l();u();c();p();m();function Cc(e={}){let t=gt(e);if(Array.isArray(t.by))for(let r of t.by)typeof r==\"string\"&&(t.select[r]=!0);else typeof t.by==\"string\"&&(t.select[t.by]=!0);return t}function Sc(e={}){return t=>(typeof e?._count==\"boolean\"&&t.forEach(r=>{r._count=r._count._all}),t)}function ms(e,t){return t({action:\"groupBy\",unpacker:Sc(e),argsMapper:Cc})(e)}function ds(e,t,r){if(t===\"aggregate\")return n=>cs(n,r);if(t===\"count\")return n=>ps(n,r);if(t===\"groupBy\")return n=>ms(n,r)}l();u();c();p();m();function fs(e,t){let r=t.fields.filter(i=>!i.relationName),n=eo(r,\"name\");return new Proxy({},{get(i,o){if(o in i||typeof o==\"symbol\")return i[o];let s=n[o];if(s)return new $t(e,o,s.type,s.isList,s.kind===\"enum\")},...Vr(Object.keys(n))})}l();u();c();p();m();l();u();c();p();m();var gs=e=>Array.isArray(e)?e:e.split(\".\"),Qn=(e,t)=>gs(t).reduce((r,n)=>r&&r[n],e),ys=(e,t,r)=>gs(t).reduceRight((n,i,o,s)=>Object.assign({},Qn(e,s.slice(0,o)),{[i]:n}),r);function Rc(e,t){return e===void 0||t===void 0?[]:[...t,\"select\",e]}function Ic(e,t,r){return t===void 0?e??{}:ys(t,r,e||!0)}function Hn(e,t,r,n,i,o){let a=e._runtimeDataModel.models[t].fields.reduce((d,f)=>({...d,[f.name]:f}),{});return d=>{let f=Me(e._errorFormat),P=Rc(n,i),v=Ic(d,o,P),S=r({dataPath:P,callsite:f})(v),C=Oc(e,t);return new Proxy(S,{get(M,R){if(!C.includes(R))return M[R];let Pe=[a[R].type,r,R],re=[P,v];return Hn(e,...Pe,...re)},...Vr([...C,...Object.getOwnPropertyNames(S)])})}}function Oc(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind===\"object\").map(r=>r.name)}var kc=[\"findUnique\",\"findUniqueOrThrow\",\"findFirst\",\"findFirstOrThrow\",\"create\",\"update\",\"upsert\",\"delete\"],Mc=[\"aggregate\",\"count\",\"groupBy\"];function Jn(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[Dc(e,t),Lc(e,t),jt(r),te(\"name\",()=>t),te(\"$name\",()=>t),te(\"$parent\",()=>e._appliedParent)];return pe({},n)}function Dc(e,t){let r=be(t),n=Object.keys(Lt).concat(\"count\");return{getKeys(){return n},getPropertyValue(i){let o=i,s=a=>d=>{let f=Me(e._errorFormat);return e._createPrismaPromise(P=>{let v={args:d,dataPath:[],action:o,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:P,callsite:f};return e._request({...v,...a})},{action:o,args:d,model:t})};return kc.includes(o)?Hn(e,t,s):Nc(i)?ds(e,i,s):s({})}}}function Nc(e){return Mc.includes(e)}function Lc(e,t){return je(te(\"fields\",()=>{let r=e._runtimeDataModel.models[t];return fs(t,r)}))}l();u();c();p();m();function hs(e){return e.replace(/^./,t=>t.toUpperCase())}var Wn=Symbol();function Qt(e){let t=[_c(e),Fc(e),te(Wn,()=>e),te(\"$parent\",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(jt(r)),pe(e,t)}function _c(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function Fc(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(be),n=[...new Set(t.concat(r))];return je({getKeys(){return n},getPropertyValue(i){let o=hs(i);if(e._runtimeDataModel.models[o]!==void 0)return Jn(e,o);if(e._runtimeDataModel.models[i]!==void 0)return Jn(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function ws(e){return e[Wn]?e[Wn]:e}function bs(e){if(typeof e==\"function\")return e(this);let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return Qt(t)}l();u();c();p();m();l();u();c();p();m();function xs({result:e,modelName:t,select:r,omit:n,extensions:i}){let o=i.getAllComputedFields(t);if(!o)return e;let s=[],a=[];for(let d of Object.values(o)){if(n){if(n[d.name])continue;let f=d.needs.filter(P=>n[P]);f.length>0&&a.push(ft(f))}else if(r){if(!r[d.name])continue;let f=d.needs.filter(P=>!r[P]);f.length>0&&a.push(ft(f))}Uc(e,d.needs)&&s.push($c(d,pe(e,s)))}return s.length>0||a.length>0?pe(e,[...s,...a]):e}function Uc(e,t){return t.every(r=>Dn(e,r))}function $c(e,t){return je(te(e.name,()=>e.compute(t)))}l();u();c();p();m();function jr({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let s=0;s<t.length;s++)t[s]=jr({result:t[s],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let o=e(t,i,r)??t;return r.include&&Es({includeOrSelect:r.include,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Es({includeOrSelect:r.select,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),o}function Es({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[o,s]of Object.entries(e)){if(!s||t[o]==null||xe(s))continue;let d=n.models[r].fields.find(P=>P.name===o);if(!d||d.kind!==\"object\"||!d.relationName)continue;let f=typeof s==\"object\"?s:{};t[o]=jr({visitor:i,result:t[o],args:f,modelName:d.type,runtimeDataModel:n})}}function Ts({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:o}){return n.isEmpty()||e==null||typeof e!=\"object\"||!i.models[t]?e:jr({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,d,f)=>{let P=be(d);return xs({result:a,modelName:P,select:f.select,omit:f.select?void 0:{...o?.[P],...f.omit},extensions:n})}})}l();u();c();p();m();l();u();c();p();m();var Qe=require(\"@prisma/client-runtime-utils\");l();u();c();p();m();var qc=[\"$connect\",\"$disconnect\",\"$on\",\"$transaction\",\"$extends\"],Ps=qc;function vs(e){if(e instanceof Qe.Sql)return Vc(e);if(Ur(e))return Bc(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=Ht(e[n]);return r}let t={};for(let r in e)t[r]=Ht(e[r]);return t}function Vc(e){return new Qe.Sql(e.strings,e.values)}function Bc(e){return new Bt(e.sql,e.values)}function Ht(e){if(typeof e!=\"object\"||e==null||e instanceof Qe.ObjectEnumValue||pt(e))return e;if(ot(e))return new Qe.Decimal(e.toFixed());if(it(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=Ht(e[t]);return r}if(typeof e==\"object\"){let t={};for(let r in e)r===\"__proto__\"?Object.defineProperty(t,r,{value:Ht(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=Ht(e[r]);return t}Ae(e,\"Unknown value\")}function Cs(e,t,r,n=0){return e._createPrismaPromise(i=>{let o=t.customDataProxyFetch;return\"transaction\"in t&&i!==void 0&&(t.transaction?.kind===\"batch\"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:vs(t.args??{}),__internalParams:t,query:(s,a=t)=>{let d=a.customDataProxyFetch;return a.customDataProxyFetch=Os(o,d),a.args=s,Cs(e,a,r,n+1)}})})}function Ss(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,o=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??\"$none\",o);return Cs(e,t,s)}function Rs(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?Is(r,n,0,e):e(r)}}function Is(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,o=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(s=>({model:s.modelName,operation:s.action,args:s.args})),transaction:o?{isolationLevel:o.kind===\"batch\"?o.isolationLevel:void 0}:void 0},__internalParams:e,query(s,a=e){let d=a.customDataProxyFetch;return a.customDataProxyFetch=Os(i,d),Is(a,t,r+1,n)}})}var As=e=>e;function Os(e=As,t=As){return r=>e(t(r))}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var _s=require(\"@prisma/client-runtime-utils\");l();u();c();p();m();var Jt=require(\"@prisma/client-runtime-utils\");function L(e,t){throw new Error(t)}function Gn(e,t){return e===t||e!==null&&t!==null&&typeof e==\"object\"&&typeof t==\"object\"&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>Gn(e[r],t[r]))}function yt(e,t){let r=Object.keys(e),n=Object.keys(t);return(r.length<n.length?r:n).every(o=>{if(typeof e[o]==typeof t[o]&&typeof e[o]!=\"object\")return e[o]===t[o];if(Jt.Decimal.isDecimal(e[o])||Jt.Decimal.isDecimal(t[o])){let s=ks(e[o]),a=ks(t[o]);return s&&a&&s.equals(a)}else if(e[o]instanceof Uint8Array||t[o]instanceof Uint8Array){let s=Ms(e[o]),a=Ms(t[o]);return s&&a&&s.equals(a)}else{if(e[o]instanceof Date||t[o]instanceof Date)return Ds(e[o])?.getTime()===Ds(t[o])?.getTime();if(typeof e[o]==\"bigint\"||typeof t[o]==\"bigint\")return Ns(e[o])===Ns(t[o]);if(typeof e[o]==\"number\"||typeof t[o]==\"number\")return Ls(e[o])===Ls(t[o])}return Gn(e[o],t[o])})}function ks(e){return Jt.Decimal.isDecimal(e)?e:typeof e==\"number\"||typeof e==\"string\"?new Jt.Decimal(e):void 0}function Ms(e){return y.isBuffer(e)?e:e instanceof Uint8Array?y.from(e.buffer,e.byteOffset,e.byteLength):typeof e==\"string\"?y.from(e,\"base64\"):void 0}function Ds(e){return e instanceof Date?e:typeof e==\"string\"||typeof e==\"number\"?new Date(e):void 0}function Ns(e){return typeof e==\"bigint\"?e:typeof e==\"number\"||typeof e==\"string\"?BigInt(e):void 0}function Ls(e){return typeof e==\"number\"?e:typeof e==\"string\"?Number(e):void 0}function Wt(e){return JSON.stringify(e,(t,r)=>typeof r==\"bigint\"?r.toString():ArrayBuffer.isView(r)?y.from(r.buffer,r.byteOffset,r.byteLength).toString(\"base64\"):r)}function jc(e){return e!==null&&typeof e==\"object\"&&typeof e.$type==\"string\"}function Qc(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function De(e){return e===null?e:Array.isArray(e)?e.map(De):typeof e==\"object\"?jc(e)?Hc(e):e.constructor!==null&&e.constructor.name!==\"Object\"?e:Qc(e,De):e}function Hc({$type:e,value:t}){switch(e){case\"BigInt\":return BigInt(t);case\"Bytes\":{let{buffer:r,byteOffset:n,byteLength:i}=y.from(t,\"base64\");return new Uint8Array(r,n,i)}case\"DateTime\":return new Date(t);case\"Decimal\":return new _s.Decimal(t);case\"Json\":return JSON.parse(t);default:L(t,\"Unknown tagged value\")}}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();function Qr(e){return e.name===\"DriverAdapterError\"&&typeof e.cause==\"object\"}l();u();c();p();m();var I={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};var z=class extends Error{name=\"UserFacingError\";code;meta;constructor(t,r,n){super(t),this.code=r,this.meta=n??{}}toQueryResponseErrorObject(){return{error:this.message,user_facing_error:{is_panic:!1,message:this.message,meta:this.meta,error_code:this.code}}}};function ht(e){if(!Qr(e))throw e;let t=Jc(e),r=Fs(e);throw!t||!r?e:new z(r,t,{driverAdapterError:e})}function zn(e){throw Qr(e)?new z(`Raw query failed. Code: \\`${e.cause.originalCode??\"N/A\"}\\`. Message: \\`${e.cause.originalMessage??Fs(e)}\\``,\"P2010\",{driverAdapterError:e}):e}function Jc(e){switch(e.cause.kind){case\"AuthenticationFailed\":return\"P1000\";case\"DatabaseNotReachable\":return\"P1001\";case\"DatabaseDoesNotExist\":return\"P1003\";case\"SocketTimeout\":return\"P1008\";case\"DatabaseAlreadyExists\":return\"P1009\";case\"DatabaseAccessDenied\":return\"P1010\";case\"TlsConnectionError\":return\"P1011\";case\"ConnectionClosed\":return\"P1017\";case\"TransactionAlreadyClosed\":return\"P1018\";case\"LengthMismatch\":return\"P2000\";case\"UniqueConstraintViolation\":return\"P2002\";case\"ForeignKeyConstraintViolation\":return\"P2003\";case\"InvalidInputValue\":return\"P2007\";case\"UnsupportedNativeDataType\":return\"P2010\";case\"NullConstraintViolation\":return\"P2011\";case\"ValueOutOfRange\":return\"P2020\";case\"TableDoesNotExist\":return\"P2021\";case\"ColumnNotFound\":return\"P2022\";case\"InvalidIsolationLevel\":case\"InconsistentColumnData\":return\"P2023\";case\"MissingFullTextSearchIndex\":return\"P2030\";case\"TransactionWriteConflict\":return\"P2034\";case\"GenericJs\":return\"P2036\";case\"TooManyConnections\":return\"P2037\";case\"postgres\":case\"sqlite\":case\"mysql\":case\"mssql\":return;default:L(e.cause,`Unknown error: ${e.cause}`)}}function Fs(e){switch(e.cause.kind){case\"AuthenticationFailed\":return`Authentication failed against the database server, the provided database credentials for \\`${e.cause.user??\"(not available)\"}\\` are not valid`;case\"DatabaseNotReachable\":{let t=e.cause.host&&e.cause.port?`${e.cause.host}:${e.cause.port}`:e.cause.host;return`Can't reach database server${t?` at ${t}`:\"\"}`}case\"DatabaseDoesNotExist\":return`Database \\`${e.cause.db??\"(not available)\"}\\` does not exist on the database server`;case\"SocketTimeout\":return\"Operation has timed out\";case\"DatabaseAlreadyExists\":return`Database \\`${e.cause.db??\"(not available)\"}\\` already exists on the database server`;case\"DatabaseAccessDenied\":return`User was denied access on the database \\`${e.cause.db??\"(not available)\"}\\``;case\"TlsConnectionError\":return`Error opening a TLS connection: ${e.cause.reason}`;case\"ConnectionClosed\":return\"Server has closed the connection.\";case\"TransactionAlreadyClosed\":return e.cause.cause;case\"LengthMismatch\":return`The provided value for the column is too long for the column's type. Column: ${e.cause.column??\"(not available)\"}`;case\"UniqueConstraintViolation\":return`Unique constraint failed on the ${Kn(e.cause.constraint)}`;case\"ForeignKeyConstraintViolation\":return`Foreign key constraint violated on the ${Kn(e.cause.constraint)}`;case\"UnsupportedNativeDataType\":return`Failed to deserialize column of type '${e.cause.type}'. If you're using $queryRaw and this column is explicitly marked as \\`Unsupported\\` in your Prisma schema, try casting this column to any supported Prisma type such as \\`String\\`.`;case\"NullConstraintViolation\":return`Null constraint violation on the ${Kn(e.cause.constraint)}`;case\"ValueOutOfRange\":return`Value out of range for the type: ${e.cause.cause}`;case\"TableDoesNotExist\":return`The table \\`${e.cause.table??\"(not available)\"}\\` does not exist in the current database.`;case\"ColumnNotFound\":return`The column \\`${e.cause.column??\"(not available)\"}\\` does not exist in the current database.`;case\"InvalidIsolationLevel\":return`Error in connector: Conversion error: ${e.cause.level}`;case\"InconsistentColumnData\":return`Inconsistent column data: ${e.cause.cause}`;case\"MissingFullTextSearchIndex\":return\"Cannot find a fulltext index to use for the native search, try adding a @@fulltext([Fields...]) to your schema\";case\"TransactionWriteConflict\":return\"Transaction failed due to a write conflict or a deadlock. Please retry your transaction\";case\"GenericJs\":return`Error in external connector (id ${e.cause.id})`;case\"TooManyConnections\":return`Too many database connections opened: ${e.cause.cause}`;case\"InvalidInputValue\":return`Invalid input value: ${e.cause.message}`;case\"sqlite\":case\"postgres\":case\"mysql\":case\"mssql\":return;default:L(e.cause,`Unknown error: ${e.cause}`)}}function Kn(e){return e&&\"fields\"in e?`fields: (${e.fields.map(t=>`\\`${t}\\``).join(\", \")})`:e&&\"index\"in e?`constraint: \\`${e.index}\\``:e&&\"foreignKey\"in e?\"foreign key\":\"(not available)\"}function Us(e,t){let r=e.map(i=>t.keys.reduce((o,s)=>(o[s]=De(i[s]),o),{})),n=new Set(t.nestedSelection);return t.arguments.map(i=>{let o=r.findIndex(s=>yt(s,i));if(o===-1)return t.expectNonEmpty?new z(\"An operation failed because it depends on one or more records that were required but not found\",\"P2025\"):null;{let s=Object.entries(e[o]).filter(([a])=>n.has(a));return Object.fromEntries(s)}})}l();u();c();p();m();var qs=require(\"@prisma/client-runtime-utils\");var q=class extends z{name=\"DataMapperError\";constructor(t,r){super(t,\"P2023\",r)}};function Vs(e,t,r){switch(t.type){case\"affectedRows\":if(typeof e!=\"number\")throw new q(`Expected an affected rows count, got: ${typeof e} (${e})`);return{count:e};case\"object\":return Yn(e,t.fields,r,t.skipNulls);case\"field\":return Zn(e,\"<result>\",t.fieldType,r);default:L(t,`Invalid data mapping type: '${t.type}'`)}}function Yn(e,t,r,n){if(e===null)return null;if(Array.isArray(e)){let i=e;return n&&(i=i.filter(o=>o!==null)),i.map(o=>$s(o,t,r))}if(typeof e==\"object\")return $s(e,t,r);if(typeof e==\"string\"){let i;try{i=JSON.parse(e)}catch(o){throw new q(\"Expected an array or object, got a string that is not valid JSON\",{cause:o})}return Yn(i,t,r,n)}throw new q(`Expected an array or an object, got: ${typeof e}`)}function $s(e,t,r){if(typeof e!=\"object\")throw new q(`Expected an object, but got '${typeof e}'`);let n={};for(let[i,o]of Object.entries(t))switch(o.type){case\"affectedRows\":throw new q(`Unexpected 'AffectedRows' node in data mapping for field '${i}'`);case\"object\":{if(o.serializedName!==null&&!Object.hasOwn(e,o.serializedName))throw new q(`Missing data field (Object): '${i}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`);let s=o.serializedName!==null?e[o.serializedName]:e;n[i]=Yn(s,o.fields,r,o.skipNulls);break}case\"field\":{let s=o.dbName;if(Object.hasOwn(e,s))n[i]=Wc(e[s],s,o.fieldType,r);else throw new q(`Missing data field (Value): '${s}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`)}break;default:L(o,`DataMapper: Invalid data mapping node type: '${o.type}'`)}return n}function Wc(e,t,r,n){return e===null?r.arity===\"list\"?[]:null:r.arity===\"list\"?e.map((o,s)=>Zn(o,`${t}[${s}]`,r,n)):Zn(e,t,r,n)}function Zn(e,t,r,n){switch(r.type){case\"unsupported\":return e;case\"string\":{if(typeof e!=\"string\")throw new q(`Expected a string in column '${t}', got ${typeof e}: ${e}`);return e}case\"int\":switch(typeof e){case\"number\":return Math.trunc(e);case\"string\":{let i=Math.trunc(Number(e));if(Number.isNaN(i)||!Number.isFinite(i))throw new q(`Expected an integer in column '${t}', got string: ${e}`);if(!Number.isSafeInteger(i))throw new q(`Integer value in column '${t}' is too large to represent as a JavaScript number without loss of precision, got: ${e}. Consider using BigInt type.`);return i}default:throw new q(`Expected an integer in column '${t}', got ${typeof e}: ${e}`)}case\"bigint\":{if(typeof e!=\"number\"&&typeof e!=\"string\")throw new q(`Expected a bigint in column '${t}', got ${typeof e}: ${e}`);return{$type:\"BigInt\",value:e}}case\"float\":{if(typeof e==\"number\")return e;if(typeof e==\"string\"){let i=Number(e);if(Number.isNaN(i)&&!/^[-+]?nan$/.test(e.toLowerCase()))throw new q(`Expected a float in column '${t}', got string: ${e}`);return i}throw new q(`Expected a float in column '${t}', got ${typeof e}: ${e}`)}case\"boolean\":{if(typeof e==\"boolean\")return e;if(typeof e==\"number\")return e===1;if(typeof e==\"string\"){if(e===\"true\"||e===\"TRUE\"||e===\"1\")return!0;if(e===\"false\"||e===\"FALSE\"||e===\"0\")return!1;throw new q(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}if(Array.isArray(e)||e instanceof Uint8Array){for(let i of e)if(i!==0)return!0;return!1}throw new q(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}case\"decimal\":if(typeof e!=\"number\"&&typeof e!=\"string\"&&!qs.Decimal.isDecimal(e))throw new q(`Expected a decimal in column '${t}', got ${typeof e}: ${e}`);return{$type:\"Decimal\",value:e};case\"datetime\":{if(typeof e==\"string\")return{$type:\"DateTime\",value:Kc(e)};if(typeof e==\"number\"||e instanceof Date)return{$type:\"DateTime\",value:e};throw new q(`Expected a date in column '${t}', got ${typeof e}: ${e}`)}case\"object\":return{$type:\"Json\",value:Wt(e)};case\"json\":return{$type:\"Json\",value:`${e}`};case\"bytes\":{switch(r.encoding){case\"base64\":if(typeof e!=\"string\")throw new q(`Expected a base64-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:\"Bytes\",value:e};case\"hex\":if(typeof e!=\"string\"||!e.startsWith(\"\\\\x\"))throw new q(`Expected a hex-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:\"Bytes\",value:y.from(e.slice(2),\"hex\").toString(\"base64\")};case\"array\":if(Array.isArray(e))return{$type:\"Bytes\",value:y.from(e).toString(\"base64\")};if(e instanceof Uint8Array)return{$type:\"Bytes\",value:y.from(e).toString(\"base64\")};throw new q(`Expected a byte array in column '${t}', got ${typeof e}: ${e}`);default:L(r.encoding,`DataMapper: Unknown bytes encoding: ${r.encoding}`)}break}case\"enum\":{let i=n[r.name];if(i===void 0)throw new q(`Unknown enum '${r.name}'`);let o=i[`${e}`];if(o===void 0)throw new q(`Value '${e}' not found in enum '${r.name}'`);return o}default:L(r,`DataMapper: Unknown result type: ${r.type}`)}}var Gc=/\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?(Z|[+-]\\d{2}(:?\\d{2})?)?$/;function Kc(e){let t=Gc.exec(e);if(t===null)return`${e}T00:00:00Z`;let r=e,[n,i,o]=t;if(i!==void 0&&i!==\"Z\"&&o===void 0?r=`${e}:00`:i===void 0&&(r=`${e}Z`),n.length===e.length)return`1970-01-01T${r}`;let s=t.index-1;return r[s]===\" \"&&(r=`${r.slice(0,s)}T${r.slice(s+1)}`),r}l();u();c();p();m();l();u();c();p();m();function zc(e){let t=Object.entries(e);return t.length===0?\"\":(t.sort(([n],[i])=>n.localeCompare(i)),`/*${t.map(([n,i])=>{let o=encodeURIComponent(n),s=encodeURIComponent(i).replace(/'/g,\"\\\\'\");return`${o}='${s}'`}).join(\",\")}*/`)}function Hr(e,t){let r={};for(let n of e){let i=n(t);for(let[o,s]of Object.entries(i))s!==void 0&&(r[o]=s)}return r}function Bs(e,t){let r=Hr(e,t);return zc(r)}function js(e,t){return t?`${e} ${t}`:e}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var Gt;(function(e){e[e.INTERNAL=0]=\"INTERNAL\",e[e.SERVER=1]=\"SERVER\",e[e.CLIENT=2]=\"CLIENT\",e[e.PRODUCER=3]=\"PRODUCER\",e[e.CONSUMER=4]=\"CONSUMER\"})(Gt||(Gt={}));function Zc(e){switch(e){case\"postgresql\":case\"postgres\":case\"prisma+postgres\":return\"postgresql\";case\"sqlserver\":return\"mssql\";case\"mysql\":case\"sqlite\":case\"cockroachdb\":case\"mongodb\":return e;default:L(e,`Unknown provider: ${e}`)}}async function Jr({query:e,tracingHelper:t,provider:r,onQuery:n,execute:i}){return await t.runInChildSpan({name:\"db_query\",kind:Gt.CLIENT,attributes:{\"db.query.text\":e.sql,\"db.system.name\":Zc(r)}},async()=>{let o=new Date,s=w.now(),a=await i(),d=w.now();return n?.({timestamp:o,duration:d-s,query:e.sql,params:e.args}),a})}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();function He(e,t){var r=\"000000000\"+e;return r.substr(r.length-t)}var Qs=Ue(ho(),1);function Yc(){try{return Qs.default.hostname()}catch{return g.env._CLUSTER_NETWORK_NAME_||g.env.COMPUTERNAME||\"hostname\"}}var Hs=2,Xc=He(g.pid.toString(36),Hs),Js=Yc(),ep=Js.length,tp=He(Js.split(\"\").reduce(function(e,t){return+e+t.charCodeAt(0)},+ep+36).toString(36),Hs);function Xn(){return Xc+tp}l();u();c();p();m();l();u();c();p();m();function Wr(e){return typeof e==\"string\"&&/^c[a-z0-9]{20,32}$/.test(e)}function ei(e){let n=Math.pow(36,4),i=0;function o(){return He((Math.random()*n<<0).toString(36),4)}function s(){return i=i<n?i:0,i++,i-1}function a(){var d=\"c\",f=new Date().getTime().toString(36),P=He(s().toString(36),4),v=e(),S=o()+o();return d+f+P+v+S}return a.fingerprint=e,a.isCuid=Wr,a}var rp=ei(Xn);var Ws=rp;var Qa=Ue(Fa());l();u();c();p();m();Be();l();u();c();p();m();var Ua=\"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";var Bp=128,We,xt;function jp(e){!We||We.length<e?(We=y.allocUnsafe(e*Bp),kt.getRandomValues(We),xt=0):xt+e>We.length&&(kt.getRandomValues(We),xt=0),xt+=e}function ui(e=21){jp(e|=0);let t=\"\";for(let r=xt-e;r<xt;r++)t+=Ua[We[r]&63];return t}l();u();c();p();m();Be();var qa=\"0123456789ABCDEFGHJKMNPQRSTVWXYZ\",er=32;var Qp=16,Va=10,$a=0xffffffffffff;var Ge;(function(e){e.Base32IncorrectEncoding=\"B32_ENC_INVALID\",e.DecodeTimeInvalidCharacter=\"DEC_TIME_CHAR\",e.DecodeTimeValueMalformed=\"DEC_TIME_MALFORMED\",e.EncodeTimeNegative=\"ENC_TIME_NEG\",e.EncodeTimeSizeExceeded=\"ENC_TIME_SIZE_EXCEED\",e.EncodeTimeValueMalformed=\"ENC_TIME_MALFORMED\",e.PRNGDetectFailure=\"PRNG_DETECT\",e.ULIDInvalid=\"ULID_INVALID\",e.Unexpected=\"UNEXPECTED\",e.UUIDInvalid=\"UUID_INVALID\"})(Ge||(Ge={}));var Ke=class extends Error{constructor(t,r){super(`${r} (${t})`),this.name=\"ULIDError\",this.code=t}};function Hp(e){let t=Math.floor(e()*er);return t===er&&(t=er-1),qa.charAt(t)}function Jp(e){let t=Wp(),r=t&&(t.crypto||t.msCrypto)||(typeof rt<\"u\"?rt:null);if(typeof r?.getRandomValues==\"function\")return()=>{let n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};if(typeof r?.randomBytes==\"function\")return()=>r.randomBytes(1).readUInt8()/255;if(rt?.randomBytes)return()=>rt.randomBytes(1).readUInt8()/255;throw new Ke(Ge.PRNGDetectFailure,\"Failed to find a reliable PRNG\")}function Wp(){return zp()?self:typeof window<\"u\"?window:typeof globalThis<\"u\"||typeof globalThis<\"u\"?globalThis:null}function Gp(e,t){let r=\"\";for(;e>0;e--)r=Hp(t)+r;return r}function Kp(e,t=Va){if(isNaN(e))throw new Ke(Ge.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>$a)throw new Ke(Ge.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${$a}: ${e}`);if(e<0)throw new Ke(Ge.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new Ke(Ge.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let r,n=\"\";for(let i=t;i>0;i--)r=e%er,n=qa.charAt(r)+n,e=(e-r)/er;return n}function zp(){return typeof WorkerGlobalScope<\"u\"&&self instanceof WorkerGlobalScope}function Ba(e,t){let r=t||Jp(),n=!e||isNaN(e)?Date.now():e;return Kp(n,Va)+Gp(Qp,r)}l();u();c();p();m();l();u();c();p();m();var Z=[];for(let e=0;e<256;++e)Z.push((e+256).toString(16).slice(1));function Zr(e,t=0){return(Z[e[t+0]]+Z[e[t+1]]+Z[e[t+2]]+Z[e[t+3]]+\"-\"+Z[e[t+4]]+Z[e[t+5]]+\"-\"+Z[e[t+6]]+Z[e[t+7]]+\"-\"+Z[e[t+8]]+Z[e[t+9]]+\"-\"+Z[e[t+10]]+Z[e[t+11]]+Z[e[t+12]]+Z[e[t+13]]+Z[e[t+14]]+Z[e[t+15]]).toLowerCase()}l();u();c();p();m();Be();var Xr=new Uint8Array(256),Yr=Xr.length;function Et(){return Yr>Xr.length-16&&(wr(Xr),Yr=0),Xr.slice(Yr,Yr+=16)}l();u();c();p();m();l();u();c();p();m();Be();var ci={randomUUID:hr};function Zp(e,t,r){if(ci.randomUUID&&!t&&!e)return ci.randomUUID();e=e||{};let n=e.random??e.rng?.()??Et();if(n.length<16)throw new Error(\"Random bytes length must be >= 16\");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Zr(n)}var pi=Zp;l();u();c();p();m();var mi={};function Yp(e,t,r){let n;if(e)n=ja(e.random??e.rng?.()??Et(),e.msecs,e.seq,t,r);else{let i=Date.now(),o=Et();Xp(mi,i,o),n=ja(o,mi.msecs,mi.seq,t,r)}return t??Zr(n)}function Xp(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function ja(e,t,r,n,i=0){if(e.length<16)throw new Error(\"Random bytes length must be >= 16\");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t??=Date.now(),r??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=t&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|e[10]&3,n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}var di=Yp;var en=class{#t={};constructor(){this.register(\"uuid\",new gi),this.register(\"cuid\",new yi),this.register(\"ulid\",new hi),this.register(\"nanoid\",new wi),this.register(\"product\",new bi)}snapshot(){return Object.create(this.#t,{now:{value:new fi}})}register(t,r){this.#t[t]=r}},fi=class{#t=new Date;generate(){return this.#t.toISOString()}},gi=class{generate(t){if(t===4)return pi();if(t===7)return di();throw new Error(\"Invalid UUID generator arguments\")}},yi=class{generate(t){if(t===1)return Ws();if(t===2)return(0,Qa.createId)();throw new Error(\"Invalid CUID generator arguments\")}},hi=class{generate(){return Ba()}},wi=class{generate(t){if(typeof t==\"number\")return ui(t);if(t===void 0)return ui();throw new Error(\"Invalid Nanoid generator arguments\")}},bi=class{generate(t,r){if(t===void 0||r===void 0)throw new Error(\"Invalid Product generator arguments\");return Array.isArray(t)&&Array.isArray(r)?t.flatMap(n=>r.map(i=>[n,i])):Array.isArray(t)?t.map(n=>[n,r]):Array.isArray(r)?r.map(n=>[t,n]):[[t,r]]}};l();u();c();p();m();function tn(e,t){return e==null?e:typeof e==\"string\"?tn(JSON.parse(e),t):Array.isArray(e)?tm(e,t):em(e,t)}function em(e,t){if(t.pagination){let{skip:r,take:n,cursor:i}=t.pagination;if(r!==null&&r>0||n===0||i!==null&&!yt(e,i))return null}return Ja(e,t.nested)}function Ja(e,t){for(let[r,n]of Object.entries(t))e[r]=tn(e[r],n);return e}function tm(e,t){if(t.distinct!==null){let r=t.linkingFields!==null?[...t.distinct,...t.linkingFields]:t.distinct;e=rm(e,r)}return t.pagination&&(e=nm(e,t.pagination,t.linkingFields)),t.reverse&&e.reverse(),Object.keys(t.nested).length===0?e:e.map(r=>Ja(r,t.nested))}function rm(e,t){let r=new Set,n=[];for(let i of e){let o=Tt(i,t);r.has(o)||(r.add(o),n.push(i))}return n}function nm(e,t,r){if(r===null)return Ha(e,t);let n=new Map;for(let o of e){let s=Tt(o,r);n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=Array.from(n.entries());return i.sort(([o],[s])=>o<s?-1:o>s?1:0),i.flatMap(([,o])=>Ha(o,t))}function Ha(e,{cursor:t,skip:r,take:n}){let i=t!==null?e.findIndex(a=>yt(a,t)):0;if(i===-1)return[];let o=i+(r??0),s=n!==null?o+n:e.length;return e.slice(o,s)}function Tt(e,t){return JSON.stringify(t.map(r=>e[r]))}l();u();c();p();m();l();u();c();p();m();function xi(e){return typeof e==\"object\"&&e!==null&&e.prisma__type===\"param\"}function Ei(e){return typeof e==\"object\"&&e!==null&&e.prisma__type===\"generatorCall\"}function vi(e,t,r,n){let i=e.args.map(o=>me(o,t,r));switch(e.type){case\"rawSql\":return[sm(e.sql,i,e.argTypes)];case\"templateSql\":return(e.chunkable?lm(e.fragments,i,n):[i]).map(s=>{if(n!==void 0&&s.length>n)throw new z(\"The query parameter limit supported by your database is exceeded.\",\"P2029\");return im(e.fragments,e.placeholderFormat,s,e.argTypes)});default:L(e.type,\"Invalid query type\")}}function me(e,t,r){for(;am(e);)if(xi(e)){let n=t[e.prisma__value.name];if(n===void 0)throw new Error(`Missing value for query variable ${e.prisma__value.name}`);e=n}else if(Ei(e)){let{name:n,args:i}=e.prisma__value,o=r[n];if(!o)throw new Error(`Encountered an unknown generator '${n}'`);e=o.generate(...i.map(s=>me(s,t,r)))}else L(e,`Unexpected unevaluated value type: ${e}`);return Array.isArray(e)&&(e=e.map(n=>me(n,t,r))),e}function im(e,t,r,n){let i=\"\",o={placeholderNumber:1},s=[],a=[];for(let d of Pi(e,r,n)){if(i+=om(d,t,o),d.type===\"stringChunk\")continue;let f=s.length,P=s.push(...Wa(d))-f;if(d.argType.arity===\"tuple\"){if(P%d.argType.elements.length!==0)throw new Error(`Malformed query template. Expected the number of parameters to match the tuple arity, but got ${P} parameters for a tuple of arity ${d.argType.elements.length}.`);for(let v=0;v<P/d.argType.elements.length;v++)a.push(...d.argType.elements)}else for(let v=0;v<P;v++)a.push(d.argType)}return{sql:i,args:s,argTypes:a}}function om(e,t,r){let n=e.type;switch(n){case\"parameter\":return Ti(t,r.placeholderNumber++);case\"stringChunk\":return e.chunk;case\"parameterTuple\":return`(${e.value.length==0?\"NULL\":e.value.map(()=>Ti(t,r.placeholderNumber++)).join(\",\")})`;case\"parameterTupleList\":return e.value.map(i=>{let o=i.map(()=>Ti(t,r.placeholderNumber++)).join(e.itemSeparator);return`${e.itemPrefix}${o}${e.itemSuffix}`}).join(e.groupSeparator);default:L(n,\"Invalid fragment type\")}}function Ti(e,t){return e.hasNumbering?`${e.prefix}${t}`:e.prefix}function sm(e,t,r){return{sql:e,args:t,argTypes:r}}function am(e){return xi(e)||Ei(e)}function*Pi(e,t,r){let n=0;for(let i of e)switch(i.type){case\"parameter\":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);yield{...i,value:t[n],argType:r?.[n]},n++;break}case\"stringChunk\":{yield i;break}case\"parameterTuple\":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];yield{...i,value:Array.isArray(o)?o:[o],argType:r?.[n]},n++;break}case\"parameterTupleList\":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];if(!Array.isArray(o))throw new Error(\"Malformed query template. Tuple list expected.\");if(o.length===0)throw new Error(\"Malformed query template. Tuple list cannot be empty.\");for(let s of o)if(!Array.isArray(s))throw new Error(\"Malformed query template. Tuple expected.\");yield{...i,value:o,argType:r?.[n]},n++;break}}}function*Wa(e){switch(e.type){case\"parameter\":yield e.value;break;case\"stringChunk\":break;case\"parameterTuple\":yield*e.value;break;case\"parameterTupleList\":for(let t of e.value)yield*t;break}}function lm(e,t,r){let n=0,i=0;for(let s of Pi(e,t,void 0)){let a=0;for(let d of Wa(s))a++;i=Math.max(i,a),n+=a}let o=[[]];for(let s of Pi(e,t,void 0))switch(s.type){case\"parameter\":{for(let a of o)a.push(s.value);break}case\"stringChunk\":break;case\"parameterTuple\":{let a=s.value.length,d=[];if(r&&o.length===1&&a===i&&n>r&&n-a<r){let f=r-(n-a);d=um(s.value,f)}else d=[s.value];o=o.flatMap(f=>d.map(P=>[...f,P]));break}case\"parameterTupleList\":{let a=s.value.reduce((v,S)=>v+S.length,0),d=[],f=[],P=0;for(let v of s.value)r&&o.length===1&&a===i&&f.length>0&&n-a+P+v.length>r&&(d.push(f),f=[],P=0),f.push(v),P+=v.length;f.length>0&&d.push(f),o=o.flatMap(v=>d.map(S=>[...v,S]));break}}return o}function um(e,t){let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}l();u();c();p();m();function Ga(e){return e.rows.map(t=>t.reduce((r,n,i)=>(r[e.columnNames[i]]=n,r),{}))}function Ka(e){return{columns:e.columnNames,types:e.columnTypes.map(t=>cm(t)),rows:e.rows.map(t=>t.map((r,n)=>tr(r,e.columnTypes[n])))}}function tr(e,t){if(e===null)return null;switch(t){case I.Int32:switch(typeof e){case\"number\":return Math.trunc(e);case\"string\":return Math.trunc(Number(e));default:throw new Error(`Cannot serialize value of type ${typeof e} as Int32`)}case I.Int32Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int32Array`);return e.map(r=>tr(r,I.Int32));case I.Int64:switch(typeof e){case\"number\":return BigInt(Math.trunc(e));case\"string\":return e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Int64`)}case I.Int64Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int64Array`);return e.map(r=>tr(r,I.Int64));case I.Json:switch(typeof e){case\"string\":return JSON.parse(e);default:throw new Error(`Cannot serialize value of type ${typeof e} as Json`)}case I.JsonArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as JsonArray`);return e.map(r=>tr(r,I.Json));case I.Boolean:switch(typeof e){case\"boolean\":return e;case\"string\":return e===\"true\"||e===\"1\";case\"number\":return e===1;default:throw new Error(`Cannot serialize value of type ${typeof e} as Boolean`)}case I.BooleanArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BooleanArray`);return e.map(r=>tr(r,I.Boolean));default:return e}}function cm(e){switch(e){case I.Int32:return\"int\";case I.Int64:return\"bigint\";case I.Float:return\"float\";case I.Double:return\"double\";case I.Text:return\"string\";case I.Enum:return\"enum\";case I.Bytes:return\"bytes\";case I.Boolean:return\"bool\";case I.Character:return\"char\";case I.Numeric:return\"decimal\";case I.Json:return\"json\";case I.Uuid:return\"uuid\";case I.DateTime:return\"datetime\";case I.Date:return\"date\";case I.Time:return\"time\";case I.Int32Array:return\"int-array\";case I.Int64Array:return\"bigint-array\";case I.FloatArray:return\"float-array\";case I.DoubleArray:return\"double-array\";case I.TextArray:return\"string-array\";case I.EnumArray:return\"string-array\";case I.BytesArray:return\"bytes-array\";case I.BooleanArray:return\"bool-array\";case I.CharacterArray:return\"char-array\";case I.NumericArray:return\"decimal-array\";case I.JsonArray:return\"json-array\";case I.UuidArray:return\"uuid-array\";case I.DateTimeArray:return\"datetime-array\";case I.DateArray:return\"date-array\";case I.TimeArray:return\"time-array\";case I.UnknownNumber:return\"unknown\";case I.Set:return\"string\";default:L(e,`Unexpected column type: ${e}`)}}l();u();c();p();m();function za(e,t,r){if(!t.every(n=>Ai(e,n))){let n=pm(e,r),i=mm(r);throw new z(n,i,r.context)}}function Ai(e,t){switch(t.type){case\"rowCountEq\":return Array.isArray(e)?e.length===t.args:e===null?t.args===0:t.args===1;case\"rowCountNeq\":return Array.isArray(e)?e.length!==t.args:e===null?t.args!==0:t.args!==1;case\"affectedRowCountEq\":return e===t.args;case\"never\":return!1;default:L(t,`Unknown rule type: ${t.type}`)}}function pm(e,t){switch(t.error_identifier){case\"RELATION_VIOLATION\":return`The change you are trying to make would violate the required relation '${t.context.relation}' between the \\`${t.context.modelA}\\` and \\`${t.context.modelB}\\` models.`;case\"MISSING_RECORD\":return`An operation failed because it depends on one or more records that were required but not found. No record was found for ${t.context.operation}.`;case\"MISSING_RELATED_RECORD\":{let r=t.context.neededFor?` (needed to ${t.context.neededFor})`:\"\";return`An operation failed because it depends on one or more records that were required but not found. No '${t.context.model}' record${r} was found for ${t.context.operation} on ${t.context.relationType} relation '${t.context.relation}'.`}case\"INCOMPLETE_CONNECT_INPUT\":return`An operation failed because it depends on one or more records that were required but not found. Expected ${t.context.expectedRows} records to be connected, found only ${Array.isArray(e)?e.length:e}.`;case\"INCOMPLETE_CONNECT_OUTPUT\":return`The required connected records were not found. Expected ${t.context.expectedRows} records to be connected after connect operation on ${t.context.relationType} relation '${t.context.relation}', found ${Array.isArray(e)?e.length:e}.`;case\"RECORDS_NOT_CONNECTED\":return`The records for relation \\`${t.context.relation}\\` between the \\`${t.context.parent}\\` and \\`${t.context.child}\\` models are not connected.`;default:L(t,`Unknown error identifier: ${t}`)}}function mm(e){switch(e.error_identifier){case\"RELATION_VIOLATION\":return\"P2014\";case\"RECORDS_NOT_CONNECTED\":return\"P2017\";case\"INCOMPLETE_CONNECT_OUTPUT\":return\"P2018\";case\"MISSING_RECORD\":case\"MISSING_RELATED_RECORD\":case\"INCOMPLETE_CONNECT_INPUT\":return\"P2025\";default:L(e,`Unknown error identifier: ${e}`)}}var rr=class e{#t;#e;#r;#n=new en;#l;#i;#s;#o;#u;#a;constructor({transactionManager:t,placeholderValues:r,onQuery:n,tracingHelper:i,serializer:o,rawSerializer:s,provider:a,connectionInfo:d,sqlCommenter:f}){this.#t=t,this.#e=r,this.#r=n,this.#l=i,this.#i=o,this.#s=s??o,this.#o=a,this.#u=d,this.#a=f}static forSql(t){return new e({transactionManager:t.transactionManager,placeholderValues:t.placeholderValues,onQuery:t.onQuery,tracingHelper:t.tracingHelper,serializer:Ga,rawSerializer:Ka,provider:t.provider,connectionInfo:t.connectionInfo,sqlCommenter:t.sqlCommenter})}async run(t,r){let{value:n}=await this.interpretNode(t,r,this.#e,this.#n.snapshot()).catch(i=>ht(i));return n}async interpretNode(t,r,n,i){switch(t.type){case\"value\":return{value:me(t.args,n,i)};case\"seq\":{let o;for(let s of t.args)o=await this.interpretNode(s,r,n,i);return o??{value:void 0}}case\"get\":return{value:n[t.args.name]};case\"let\":{let o=Object.create(n);for(let s of t.args.bindings){let{value:a}=await this.interpretNode(s.expr,r,o,i);o[s.name]=a}return this.interpretNode(t.args.expr,r,o,i)}case\"getFirstNonEmpty\":{for(let o of t.args.names){let s=n[o];if(!Za(s))return{value:s}}return{value:[]}}case\"concat\":{let o=await Promise.all(t.args.map(s=>this.interpretNode(s,r,n,i).then(a=>a.value)));return{value:o.length>0?o.reduce((s,a)=>s.concat(Ci(a)),[]):[]}}case\"sum\":{let o=await Promise.all(t.args.map(s=>this.interpretNode(s,r,n,i).then(a=>a.value)));return{value:o.length>0?o.reduce((s,a)=>Ee(s)+Ee(a)):0}}case\"execute\":{let o=vi(t.args,n,i,this.#c()),s=0;for(let a of o){let d=this.#d(a);s+=await this.#m(d,r,()=>r.executeRaw(d).catch(f=>t.args.type===\"rawSql\"?zn(f):ht(f)))}return{value:s}}case\"query\":{let o=vi(t.args,n,i,this.#c()),s;for(let a of o){let d=this.#d(a),f=await this.#m(d,r,()=>r.queryRaw(d).catch(P=>t.args.type===\"rawSql\"?zn(P):ht(P)));s===void 0?s=f:(s.rows.push(...f.rows),s.lastInsertId=f.lastInsertId)}return{value:t.args.type===\"rawSql\"?this.#s(s):this.#i(s),lastInsertId:s?.lastInsertId}}case\"reverse\":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);return{value:Array.isArray(o)?o.reverse():o,lastInsertId:s}}case\"unique\":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);if(!Array.isArray(o))return{value:o,lastInsertId:s};if(o.length>1)throw new Error(`Expected zero or one element, got ${o.length}`);return{value:o[0]??null,lastInsertId:s}}case\"required\":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);if(Za(o))throw new Error(\"Required value is empty\");return{value:o,lastInsertId:s}}case\"mapField\":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.records,r,n,i);return{value:Ya(o,t.args.field),lastInsertId:s}}case\"join\":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.parent,r,n,i);if(o===null)return{value:null,lastInsertId:s};let a=await Promise.all(t.args.children.map(async d=>({joinExpr:d,childRecords:(await this.interpretNode(d.child,r,n,i)).value})));return{value:dm(o,a),lastInsertId:s}}case\"transaction\":{if(!this.#t.enabled)return this.interpretNode(t.args,r,n,i);let o=this.#t.manager,s=await o.startInternalTransaction(),a=await o.getTransaction(s,\"query\");try{let d=await this.interpretNode(t.args,a,n,i);return await o.commitTransaction(s.id),d}catch(d){throw await o.rollbackTransaction(s.id),d}}case\"dataMap\":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return{value:Vs(o,t.args.structure,t.args.enums),lastInsertId:s}}case\"validate\":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return za(o,t.args.rules,t.args),{value:o,lastInsertId:s}}case\"if\":{let{value:o}=await this.interpretNode(t.args.value,r,n,i);return Ai(o,t.args.rule)?await this.interpretNode(t.args.then,r,n,i):await this.interpretNode(t.args.else,r,n,i)}case\"unit\":return{value:void 0};case\"diff\":{let{value:o}=await this.interpretNode(t.args.from,r,n,i),{value:s}=await this.interpretNode(t.args.to,r,n,i),a=f=>f!==null?Tt(rn(f),t.args.fields):null,d=new Set(Ci(s).map(a));return{value:Ci(o).filter(f=>!d.has(a(f)))}}case\"process\":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return{value:tn(o,t.args.operations),lastInsertId:s}}case\"initializeRecord\":{let{lastInsertId:o}=await this.interpretNode(t.args.expr,r,n,i),s={};for(let[a,d]of Object.entries(t.args.fields))s[a]=fm(d,o,n,i);return{value:s,lastInsertId:o}}case\"mapRecord\":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i),a=o===null?{}:rn(o);for(let[d,f]of Object.entries(t.args.fields))a[d]=gm(f,a[d],n,i);return{value:a,lastInsertId:s}}default:L(t,`Unexpected node type: ${t.type}`)}}#c(){return this.#u?.maxBindValues!==void 0?this.#u.maxBindValues:this.#p()}#p(){if(this.#o!==void 0)switch(this.#o){case\"cockroachdb\":case\"postgres\":case\"postgresql\":case\"prisma+postgres\":return 32766;case\"mysql\":return 65535;case\"sqlite\":return 999;case\"sqlserver\":return 2098;case\"mongodb\":return;default:L(this.#o,`Unexpected provider: ${this.#o}`)}}#m(t,r,n){return Jr({query:t,execute:n,provider:this.#o??r.provider,tracingHelper:this.#l,onQuery:this.#r})}#d(t){if(!this.#a||this.#a.plugins.length===0)return t;let r=Bs(this.#a.plugins,{query:this.#a.queryInfo,sql:t.sql});return r?{...t,sql:js(t.sql,r)}:t}};function Za(e){return Array.isArray(e)?e.length===0:e==null}function Ci(e){return Array.isArray(e)?e:[e]}function Ee(e){if(typeof e==\"number\")return e;if(typeof e==\"string\")return Number(e);throw new Error(`Expected number, got ${typeof e}`)}function rn(e){if(typeof e==\"object\"&&e!==null)return e;throw new Error(`Expected object, got ${typeof e}`)}function Ya(e,t){return Array.isArray(e)?e.map(r=>Ya(r,t)):typeof e==\"object\"&&e!==null?e[t]??null:e}function dm(e,t){for(let{joinExpr:r,childRecords:n}of t){let i=r.on.map(([a])=>a),o=r.on.map(([,a])=>a),s={};for(let a of Array.isArray(e)?e:[e]){let d=rn(a),f=Tt(d,i);s[f]||(s[f]=[]),s[f].push(d),r.isRelationUnique?d[r.parentField]=null:d[r.parentField]=[]}for(let a of Array.isArray(n)?n:[n]){if(a===null)continue;let d=Tt(rn(a),o);for(let f of s[d]??[])r.isRelationUnique?f[r.parentField]=a:f[r.parentField].push(a)}}return e}function fm(e,t,r,n){switch(e.type){case\"value\":return me(e.value,r,n);case\"lastInsertId\":return t;default:L(e,`Unexpected field initializer type: ${e.type}`)}}function gm(e,t,r,n){switch(e.type){case\"set\":return me(e.value,r,n);case\"add\":return Ee(t)+Ee(me(e.value,r,n));case\"subtract\":return Ee(t)-Ee(me(e.value,r,n));case\"multiply\":return Ee(t)*Ee(me(e.value,r,n));case\"divide\":{let i=Ee(t),o=Ee(me(e.value,r,n));return o===0?null:i/o}default:L(e,`Unexpected field operation type: ${e.type}`)}}l();u();c();p();m();l();u();c();p();m();async function ym(){return globalThis.crypto??await Promise.resolve().then(()=>(Be(),In))}async function Xa(){return(await ym()).randomUUID()}l();u();c();p();m();async function el(e,t){return new Promise(r=>{e.addEventListener(t,r,{once:!0})})}l();u();c();p();m();var ue=class extends z{name=\"TransactionManagerError\";constructor(t,r){super(\"Transaction API error: \"+t,\"P2028\",r)}},nr=class extends ue{constructor(){super(\"Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.\")}},nn=class extends ue{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a committed transaction.`)}},on=class extends ue{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a transaction that was rolled back.`)}},sn=class extends ue{constructor(){super(\"Unable to start a transaction in the given time.\")}},an=class extends ue{constructor(t,{timeout:r,timeTaken:n}){super(`A ${t} cannot be executed on an expired transaction. The timeout for this transaction was ${r} ms, however ${n} ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.`,{operation:t,timeout:r,timeTaken:n})}},Pt=class extends ue{constructor(t){super(`Internal Consistency Error: ${t}`)}},ln=class extends ue{constructor(t){super(`Invalid isolation level: ${t}`,{isolationLevel:t})}};var hm=100,vt=X(\"prisma:client:transactionManager\"),wm=()=>({sql:\"COMMIT\",args:[],argTypes:[]}),bm=()=>({sql:\"ROLLBACK\",args:[],argTypes:[]}),xm=()=>({sql:'-- Implicit \"COMMIT\" query via underlying driver',args:[],argTypes:[]}),Em=()=>({sql:'-- Implicit \"ROLLBACK\" query via underlying driver',args:[],argTypes:[]}),ir=class{transactions=new Map;closedTransactions=[];driverAdapter;transactionOptions;tracingHelper;#t;#e;constructor({driverAdapter:t,transactionOptions:r,tracingHelper:n,onQuery:i,provider:o}){this.driverAdapter=t,this.transactionOptions=r,this.tracingHelper=n,this.#t=i,this.#e=o}async startInternalTransaction(t){let r=t!==void 0?this.#s(t):{};return await this.tracingHelper.runInChildSpan(\"start_transaction\",()=>this.#r(r))}async startTransaction(t){let r=t!==void 0?this.#s(t):this.transactionOptions;return await this.tracingHelper.runInChildSpan(\"start_transaction\",()=>this.#r(r))}async#r(t){let r={id:await Xa(),status:\"waiting\",timer:void 0,timeout:t.timeout,startedAt:Date.now(),transaction:void 0},n=new AbortController,i=tl(()=>n.abort(),t.maxWait);i?.unref?.();let o=this.driverAdapter.startTransaction(t.isolationLevel).catch(ht);switch(r.transaction=await Promise.race([o.finally(()=>clearTimeout(i)),el(n.signal,\"abort\").then(()=>{})]),this.transactions.set(r.id,r),r.status){case\"waiting\":if(n.signal.aborted)throw o.then(s=>s.rollback()).catch(s=>vt(\"error in discarded transaction:\",s)),await this.#i(r,\"timed_out\"),new sn;return r.status=\"running\",r.timer=this.#l(r.id,t.timeout),{id:r.id};case\"timed_out\":case\"running\":case\"committed\":case\"rolled_back\":throw new Pt(`Transaction in invalid state ${r.status} although it just finished startup.`);default:L(r.status,\"Unknown transaction status.\")}}async commitTransaction(t){return await this.tracingHelper.runInChildSpan(\"commit_transaction\",async()=>{let r=this.#n(t,\"commit\");await this.#i(r,\"committed\")})}async rollbackTransaction(t){return await this.tracingHelper.runInChildSpan(\"rollback_transaction\",async()=>{let r=this.#n(t,\"rollback\");await this.#i(r,\"rolled_back\")})}async getTransaction(t,r){let n=this.#n(t.id,r);if(n.status===\"closing\"&&(await n.closing,n=this.#n(t.id,r)),!n.transaction)throw new nr;return n.transaction}#n(t,r){let n=this.transactions.get(t);if(!n){let i=this.closedTransactions.find(o=>o.id===t);if(i)switch(vt(\"Transaction already closed.\",{transactionId:t,status:i.status}),i.status){case\"closing\":case\"waiting\":case\"running\":throw new Pt(\"Active transaction found in closed transactions list.\");case\"committed\":throw new nn(r);case\"rolled_back\":throw new on(r);case\"timed_out\":throw new an(r,{timeout:i.timeout,timeTaken:Date.now()-i.startedAt})}else throw vt(\"Transaction not found.\",t),new nr}if([\"committed\",\"rolled_back\",\"timed_out\"].includes(n.status))throw new Pt(\"Closed transaction found in active transactions map.\");return n}async cancelAllTransactions(){await Promise.allSettled([...this.transactions.values()].map(t=>this.#i(t,\"rolled_back\")))}#l(t,r){let n=Date.now(),i=tl(async()=>{vt(\"Transaction timed out.\",{transactionId:t,timeoutStartedAt:n,timeout:r});let o=this.transactions.get(t);o&&[\"running\",\"waiting\"].includes(o.status)?await this.#i(o,\"timed_out\"):vt(\"Transaction already committed or rolled back when timeout happened.\",t)},r);return i?.unref?.(),i}async#i(t,r){let n=async()=>{vt(\"Closing transaction.\",{transactionId:t.id,status:r});try{if(t.transaction&&r===\"committed\")if(t.transaction.options.usePhantomQuery)await this.#o(xm(),t.transaction,()=>t.transaction.commit());else{let i=wm();await this.#o(i,t.transaction,()=>t.transaction.executeRaw(i)).then(()=>t.transaction.commit(),o=>{let s=()=>Promise.reject(o);return t.transaction.rollback().then(s,s)})}else if(t.transaction)if(t.transaction.options.usePhantomQuery)await this.#o(Em(),t.transaction,()=>t.transaction.rollback());else{let i=bm();try{await this.#o(i,t.transaction,()=>t.transaction.executeRaw(i))}finally{await t.transaction.rollback()}}}finally{t.status=r,clearTimeout(t.timer),t.timer=void 0,this.transactions.delete(t.id),this.closedTransactions.push(t),this.closedTransactions.length>hm&&this.closedTransactions.shift()}};t.status===\"closing\"?(await t.closing,this.#n(t.id,r===\"committed\"?\"commit\":\"rollback\")):await Object.assign(t,{status:\"closing\",reason:r,closing:n()}).closing}#s(t){if(!t.timeout)throw new ue(\"timeout is required\");if(!t.maxWait)throw new ue(\"maxWait is required\");if(t.isolationLevel===\"SNAPSHOT\")throw new ln(t.isolationLevel);return{...t,timeout:t.timeout,maxWait:t.maxWait}}#o(t,r,n){return Jr({query:t,execute:n,provider:this.#e??r.provider,tracingHelper:this.tracingHelper,onQuery:this.#t})}};function tl(e,t){return t!==void 0?setTimeout(e,t):void 0}var Y=require(\"@prisma/client-runtime-utils\");var un=\"7.2.0\";l();u();c();p();m();function rl(e,t){return{batch:e,transaction:t?.kind===\"batch\"?{isolationLevel:t.options.isolationLevel}:void 0}}l();u();c();p();m();l();u();c();p();m();function nl(e){return e?e.replace(/\".*\"/g,'\"X\"').replace(/[\\s:\\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):\"\"}l();u();c();p();m();function il(e){return e.split(`\n`).map(t=>t.replace(/^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)\\s*/,\"\").replace(/\\+\\d+\\s*ms$/,\"\")).join(`\n`)}l();u();c();p();m();var ol=Ue(Ao());function sl({title:e,user:t=\"prisma\",repo:r=\"prisma\",template:n=\"bug_report.yml\",body:i}){return(0,ol.default)({user:t,repo:r,template:n,title:e,body:i})}function al({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:o,query:s}){let a=fo(6e3-(s?.length??0)),d=il(nt(a)),f=n?`# Description\n\\`\\`\\`\n${n}\n\\`\\`\\``:\"\",P=nt(`Hi Prisma Team! My Prisma Client just crashed. This is the report:\n## Versions\n\n| Name            | Version            |\n|-----------------|--------------------|\n| Node            | ${g.version?.padEnd(19)}| \n| OS              | ${t?.padEnd(19)}|\n| Prisma Client   | ${e?.padEnd(19)}|\n| Query Engine    | ${i?.padEnd(19)}|\n| Database        | ${o?.padEnd(19)}|\n\n${f}\n\n## Logs\n\\`\\`\\`\n${d}\n\\`\\`\\`\n\n## Client Snippet\n\\`\\`\\`ts\n// PLEASE FILL YOUR CODE SNIPPET HERE\n\\`\\`\\`\n\n## Schema\n\\`\\`\\`prisma\n// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE\n\\`\\`\\`\n\n## Prisma Engine Query\n\\`\\`\\`\n${s?nl(s):\"\"}\n\\`\\`\\`\n`),v=sl({title:r,body:P});return`${r}\n\nThis is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.\n\n${yr(v)}\n\nIf you want the Prisma team to look into it, please open the link above \\u{1F64F}\nTo increase the chance of success, please post your schema and a snippet of\nhow you used Prisma Client in the issue. \n`}l();u();c();p();m();var cn=class e{#t;#e;#r;#n;constructor(t,r,n){this.#t=t,this.#e=r,this.#r=n,this.#n=r.getConnectionInfo?.()}static async connect(t){let r,n;try{r=await t.driverAdapterFactory.connect(),n=new ir({driverAdapter:r,transactionOptions:t.transactionOptions,tracingHelper:t.tracingHelper,onQuery:t.onQuery,provider:t.provider})}catch(i){throw await r?.dispose(),i}return new e(t,r,n)}getConnectionInfo(){let t=this.#n??{supportsRelationJoins:!1};return Promise.resolve({provider:this.#e.provider,connectionInfo:t})}async execute({plan:t,placeholderValues:r,transaction:n,batchIndex:i,queryInfo:o}){let s=n?await this.#r.getTransaction(n,i!==void 0?\"batch query\":\"query\"):this.#e;return await rr.forSql({transactionManager:n?{enabled:!1}:{enabled:!0,manager:this.#r},placeholderValues:r,onQuery:this.#t.onQuery,tracingHelper:this.#t.tracingHelper,provider:this.#t.provider,connectionInfo:this.#n,sqlCommenter:this.#t.sqlCommenters&&{plugins:this.#t.sqlCommenters,queryInfo:o}}).run(t,s)}async startTransaction(t){return{...await this.#r.startTransaction(t),payload:void 0}}async commitTransaction(t){await this.#r.commitTransaction(t.id)}async rollbackTransaction(t){await this.#r.rollbackTransaction(t.id)}async disconnect(){try{await this.#r.cancelAllTransactions()}finally{await this.#e.dispose()}}apiKey(){return null}};l();u();c();p();m();var dl=require(\"@prisma/client-runtime-utils\");l();u();c();p();m();var pn=/^[\\u0009\\u0020-\\u007E\\u0080-\\u00FF]+$/;function ll(e,t,r){let n=r||{},i=n.encode||encodeURIComponent;if(typeof i!=\"function\")throw new TypeError(\"option encode is invalid\");if(!pn.test(e))throw new TypeError(\"argument name is invalid\");let o=i(t);if(o&&!pn.test(o))throw new TypeError(\"argument val is invalid\");let s=e+\"=\"+o;if(n.maxAge!==void 0&&n.maxAge!==null){let a=n.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError(\"option maxAge is invalid\");s+=\"; Max-Age=\"+Math.floor(a)}if(n.domain){if(!pn.test(n.domain))throw new TypeError(\"option domain is invalid\");s+=\"; Domain=\"+n.domain}if(n.path){if(!pn.test(n.path))throw new TypeError(\"option path is invalid\");s+=\"; Path=\"+n.path}if(n.expires){if(!Pm(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError(\"option expires is invalid\");s+=\"; Expires=\"+n.expires.toUTCString()}if(n.httpOnly&&(s+=\"; HttpOnly\"),n.secure&&(s+=\"; Secure\"),n.priority)switch(typeof n.priority==\"string\"?n.priority.toLowerCase():n.priority){case\"low\":{s+=\"; Priority=Low\";break}case\"medium\":{s+=\"; Priority=Medium\";break}case\"high\":{s+=\"; Priority=High\";break}default:throw new TypeError(\"option priority is invalid\")}if(n.sameSite)switch(typeof n.sameSite==\"string\"?n.sameSite.toLowerCase():n.sameSite){case!0:{s+=\"; SameSite=Strict\";break}case\"lax\":{s+=\"; SameSite=Lax\";break}case\"strict\":{s+=\"; SameSite=Strict\";break}case\"none\":{s+=\"; SameSite=None\";break}default:throw new TypeError(\"option sameSite is invalid\")}return n.partitioned&&(s+=\"; Partitioned\"),s}function Pm(e){return Object.prototype.toString.call(e)===\"[object Date]\"||e instanceof Date}function ul(e,t){let r=(e||\"\").split(\";\").filter(d=>typeof d==\"string\"&&!!d.trim()),n=r.shift()||\"\",i=vm(n),o=i.name,s=i.value;try{s=t?.decode===!1?s:(t?.decode||decodeURIComponent)(s)}catch{}let a={name:o,value:s};for(let d of r){let f=d.split(\"=\"),P=(f.shift()||\"\").trimStart().toLowerCase(),v=f.join(\"=\");switch(P){case\"expires\":{a.expires=new Date(v);break}case\"max-age\":{a.maxAge=Number.parseInt(v,10);break}case\"secure\":{a.secure=!0;break}case\"httponly\":{a.httpOnly=!0;break}case\"samesite\":{a.sameSite=v;break}default:a[P]=v}}return a}function vm(e){let t=\"\",r=\"\",n=e.split(\"=\");return n.length>1?(t=n.shift(),r=n.join(\"=\")):r=e,{name:t,value:r}}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var mn=class extends Error{clientVersion;cause;constructor(t,r){super(t),this.clientVersion=r.clientVersion,this.cause=r.cause}get[Symbol.toStringTag](){return this.name}};var dn=class extends mn{isRetryable;constructor(t,r){super(t,r),this.isRetryable=r.isRetryable??!0}};l();u();c();p();m();function cl(e,t){return{...e,isRetryable:t}}var ze=class extends dn{name=\"InvalidDatasourceError\";code=\"P6001\";constructor(t,r){super(t,cl(r,!1))}};Nt(ze,\"InvalidDatasourceError\");function pl(e){let t={clientVersion:e.clientVersion},r;try{r=new URL(e.accelerateUrl)}catch(d){let f=d.message;throw new ze(`Error validating \\`accelerateUrl\\`, the URL cannot be parsed, reason: ${f}`,t)}let{protocol:n,searchParams:i}=r;if(n!==\"prisma:\"&&n!==xr)throw new ze(\"Error validating `accelerateUrl`: the URL must start with the protocol `prisma://` or `prisma+postgres://`\",t);let o=i.get(\"api_key\");if(o===null||o.length<1)throw new ze(\"Error validating `accelerateUrl`: the URL must contain a valid API key\",t);let s=On(r)?\"http:\":\"https:\";g.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&r.searchParams.has(\"use_http\")&&(s=\"http:\");let a=new URL(r.href.replace(n,s));return{apiKey:o,url:a}}l();u();c();p();m();var ml=Ue(bo()),fn=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:t,tracingHelper:r,logLevel:n,logQueries:i,engineHash:o}){this.apiKey=t,this.tracingHelper=r,this.logLevel=n,this.logQueries=i,this.engineHash=o}build({traceparent:t,transactionId:r}={}){let n={Accept:\"application/json\",Authorization:`Bearer ${this.apiKey}`,\"Content-Type\":\"application/json\",\"Prisma-Engine-Hash\":this.engineHash,\"Prisma-Engine-Version\":ml.enginesVersion};this.tracingHelper.isEnabled()&&(n.traceparent=t??this.tracingHelper.getTraceParent()),r&&(n[\"X-Transaction-Id\"]=r);let i=this.#t();return i.length>0&&(n[\"X-Capture-Telemetry\"]=i.join(\", \")),n}#t(){let t=[];return this.tracingHelper.isEnabled()&&t.push(\"tracing\"),this.logLevel&&t.push(this.logLevel),this.logQueries&&t.push(\"query\"),t}};l();u();c();p();m();function Am(e){return e[0]*1e3+e[1]/1e6}function Si(e){return new Date(Am(e))}var fl=X(\"prisma:client:clientEngine:remoteExecutor\"),gn=class{#t;#e;#r;#n;#l;#i;constructor(t){this.#t=t.clientVersion,this.#n=t.logEmitter,this.#l=t.tracingHelper,this.#i=t.sqlCommenters;let{url:r,apiKey:n}=pl({clientVersion:t.clientVersion,accelerateUrl:t.accelerateUrl});this.#r=new Ri(r),this.#e=new fn({apiKey:n,engineHash:t.clientVersion,logLevel:t.logLevel,logQueries:t.logQueries,tracingHelper:t.tracingHelper})}async getConnectionInfo(){return await this.#s({path:\"/connection-info\",method:\"GET\"})}async execute({plan:t,placeholderValues:r,batchIndex:n,model:i,operation:o,transaction:s,customFetch:a,queryInfo:d}){let f=d&&this.#i?.length?Hr(this.#i,{query:d}):void 0;return(await this.#s({path:s?`/transaction/${s.id}/query`:\"/query\",method:\"POST\",body:{model:i,operation:o,plan:t,params:r,comments:f&&Object.keys(f).length>0?f:void 0},batchRequestIdx:n,fetch:a})).data}async startTransaction(t){return{...await this.#s({path:\"/transaction/start\",method:\"POST\",body:t}),payload:void 0}}async commitTransaction(t){await this.#s({path:`/transaction/${t.id}/commit`,method:\"POST\"})}async rollbackTransaction(t){await this.#s({path:`/transaction/${t.id}/rollback`,method:\"POST\"})}disconnect(){return Promise.resolve()}apiKey(){return this.#e.apiKey}async#s({path:t,method:r,body:n,fetch:i=globalThis.fetch,batchRequestIdx:o}){let s=await this.#r.request({method:r,path:t,headers:this.#e.build(),body:n,fetch:i});s.ok||await this.#o(s,o);let a=await s.json();return typeof a.extensions==\"object\"&&a.extensions!==null&&this.#u(a.extensions),a}async#o(t,r){let n=t.headers.get(\"Prisma-Error-Code\"),i=await t.text(),o,s=i;try{o=JSON.parse(i)}catch{o={}}typeof o.code==\"string\"&&(n=o.code),typeof o.error==\"string\"?s=o.error:typeof o.message==\"string\"?s=o.message:typeof o.InvalidRequestError==\"object\"&&o.InvalidRequestError!==null&&typeof o.InvalidRequestError.reason==\"string\"&&(s=o.InvalidRequestError.reason),s=s||`HTTP ${t.status}: ${t.statusText}`;let a=typeof o.meta==\"object\"&&o.meta!==null?o.meta:o;throw new dl.PrismaClientKnownRequestError(s,{clientVersion:this.#t,code:n??\"P6000\",batchRequestIdx:r,meta:a})}#u(t){if(t.logs)for(let r of t.logs)this.#a(r);t.spans&&this.#l.dispatchEngineSpans(t.spans)}#a(t){switch(t.level){case\"debug\":case\"trace\":fl(t);break;case\"error\":case\"warn\":case\"info\":{this.#n.emit(t.level,{timestamp:Si(t.timestamp),message:t.attributes.message??\"\",target:t.target??\"RemoteExecutor\"});break}case\"query\":{this.#n.emit(\"query\",{query:t.attributes.query??\"\",timestamp:Si(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??\"\",target:t.target??\"RemoteExecutor\"});break}default:throw new Error(`Unexpected log level: ${t.level}`)}}},Ri=class{#t;#e;#r;constructor(t){this.#t=t,this.#e=new Map}async request({method:t,path:r,headers:n,body:i,fetch:o}){let s=new URL(r,this.#t),a=this.#n(s);a&&(n.Cookie=a),this.#r&&(n[\"Accelerate-Query-Engine-Jwt\"]=this.#r);let d=await o(s.href,{method:t,body:i!==void 0?JSON.stringify(i):void 0,headers:n});return fl(t,s,d.status,d.statusText),this.#r=d.headers.get(\"Accelerate-Query-Engine-Jwt\")??void 0,this.#l(s,d),d}#n(t){let r=[],n=new Date;for(let[i,o]of this.#e){if(o.expires&&o.expires<n){this.#e.delete(i);continue}let s=o.domain??t.hostname,a=o.path??\"/\";t.hostname.endsWith(s)&&t.pathname.startsWith(a)&&r.push(ll(o.name,o.value))}return r.length>0?r.join(\"; \"):void 0}#l(t,r){let n=r.headers.getSetCookie?.()||[];if(n.length===0){let i=r.headers.get(\"Set-Cookie\");i&&n.push(i)}for(let i of n){let o=ul(i),s=o.domain??t.hostname,a=o.path??\"/\",d=`${s}:${a}:${o.name}`;this.#e.set(d,{name:o.name,value:o.value,domain:s,path:a,expires:o.expires})}}};l();u();c();p();m();var Oi=require(\"@prisma/client-runtime-utils\"),Ii={},gl={async loadQueryCompiler(e){let{clientVersion:t,compilerWasm:r}=e;if(r===void 0)throw new Oi.PrismaClientInitializationError(\"WASM query compiler was unexpectedly `undefined`\",t);let n;return e.activeProvider===void 0||Ii[e.activeProvider]===void 0?(n=(async()=>{let i=await r.getRuntime(),o=await r.getQueryCompilerWasmModule();if(o==null)throw new Oi.PrismaClientInitializationError(\"The loaded wasm module was unexpectedly `undefined` or `null` once loaded\",t);let s={\"./query_compiler_bg.js\":i},a=new WebAssembly.Instance(o,s),d=a.exports.__wbindgen_start;return i.__wbg_set_wasm(a.exports),d(),i.QueryCompiler})(),e.activeProvider!==void 0&&(Ii[e.activeProvider]=n)):n=Ii[e.activeProvider],await n}};var Cm=\"P2038\",or=X(\"prisma:client:clientEngine\"),hl=globalThis;hl.PRISMA_WASM_PANIC_REGISTRY={set_message(e){throw new Y.PrismaClientRustPanicError(e,un)}};var sr=class{name=\"ClientEngine\";#t;#e={type:\"disconnected\"};#r;#n;config;datamodel;logEmitter;logQueries;logLevel;tracingHelper;#l;constructor(t,r){if(t.accelerateUrl!==void 0)this.#n={remote:!0,accelerateUrl:t.accelerateUrl};else if(t.adapter)this.#n={remote:!1,driverAdapterFactory:t.adapter},or(\"Using driver adapter: %O\",t.adapter);else throw new Y.PrismaClientInitializationError(\"Missing configured driver adapter. Engine type `client` requires an active driver adapter. Please check your PrismaClient initialization code.\",t.clientVersion,Cm);this.#r=r??gl,this.config=t,this.logQueries=t.logQueries??!1,this.logLevel=t.logLevel??\"error\",this.logEmitter=t.logEmitter,this.datamodel=t.inlineSchema,this.tracingHelper=t.tracingHelper,t.enableDebugLogs&&(this.logLevel=\"debug\"),this.logQueries&&(this.#l=n=>{this.logEmitter.emit(\"query\",{...n,params:Wt(n.params),target:\"ClientEngine\"})})}async#i(){switch(this.#e.type){case\"disconnected\":{let t=this.tracingHelper.runInChildSpan(\"connect\",async()=>{let r,n;try{r=await this.#s(),n=await this.#o(r)}catch(o){throw this.#e={type:\"disconnected\"},n?.free(),await r?.disconnect(),o}let i={executor:r,queryCompiler:n};return this.#e={type:\"connected\",engine:i},i});return this.#e={type:\"connecting\",promise:t},await t}case\"connecting\":return await this.#e.promise;case\"connected\":return this.#e.engine;case\"disconnecting\":return await this.#e.promise,await this.#i()}}async#s(){return this.#n.remote?new gn({clientVersion:this.config.clientVersion,accelerateUrl:this.#n.accelerateUrl,logEmitter:this.logEmitter,logLevel:this.logLevel,logQueries:this.logQueries,tracingHelper:this.tracingHelper,sqlCommenters:this.config.sqlCommenters}):await cn.connect({driverAdapterFactory:this.#n.driverAdapterFactory,tracingHelper:this.tracingHelper,transactionOptions:{...this.config.transactionOptions,isolationLevel:this.#m(this.config.transactionOptions.isolationLevel)},onQuery:this.#l,provider:this.config.activeProvider,sqlCommenters:this.config.sqlCommenters})}async#o(t){let r=this.#t;r===void 0&&(r=await this.#r.loadQueryCompiler(this.config),this.#t=r);let{provider:n,connectionInfo:i}=await t.getConnectionInfo();try{return this.#p(()=>new r({datamodel:this.datamodel,provider:n,connectionInfo:i}),void 0,!1)}catch(o){throw this.#u(o)}}#u(t){if(t instanceof Y.PrismaClientRustPanicError)return t;try{let r=JSON.parse(t.message);return new Y.PrismaClientInitializationError(r.message,this.config.clientVersion,r.error_code)}catch{return t}}#a(t,r){if(t instanceof Y.PrismaClientInitializationError)return t;if(t.code===\"GenericFailure\"&&t.message?.startsWith(\"PANIC:\"))return new Y.PrismaClientRustPanicError(yl(this,t.message,r),this.config.clientVersion);if(t instanceof z)return new Y.PrismaClientKnownRequestError(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion});try{let n=JSON.parse(t);return new Y.PrismaClientUnknownRequestError(`${n.message}\n${n.backtrace}`,{clientVersion:this.config.clientVersion})}catch{return t}}#c(t){return t instanceof Y.PrismaClientRustPanicError?t:typeof t.message==\"string\"&&typeof t.code==\"string\"?new Y.PrismaClientKnownRequestError(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion}):typeof t.message==\"string\"?new Y.PrismaClientUnknownRequestError(t.message,{clientVersion:this.config.clientVersion}):t}#p(t,r,n=!0){let i=hl.PRISMA_WASM_PANIC_REGISTRY.set_message,o;globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=s=>{o=s};try{return t()}finally{if(globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=i,o)throw this.#t=void 0,n&&this.stop().catch(s=>or(\"failed to disconnect:\",s)),new Y.PrismaClientRustPanicError(yl(this,o,r),this.config.clientVersion)}}onBeforeExit(){throw new Error('\"beforeExit\" hook is not applicable to the client engine, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){await this.#i()}async stop(){switch(this.#e.type){case\"disconnected\":return;case\"connecting\":return await this.#e.promise,await this.stop();case\"connected\":{let t=this.#e.engine,r=this.tracingHelper.runInChildSpan(\"disconnect\",async()=>{try{await t.executor.disconnect(),t.queryCompiler.free()}finally{this.#e={type:\"disconnected\"}}});return this.#e={type:\"disconnecting\",promise:r},await r}case\"disconnecting\":return await this.#e.promise}}version(){return\"unknown\"}async transaction(t,r,n){let i,{executor:o}=await this.#i();try{if(t===\"start\"){let s=n;i=await o.startTransaction({...s,isolationLevel:this.#m(s.isolationLevel)})}else if(t===\"commit\"){let s=n;await o.commitTransaction(s)}else if(t===\"rollback\"){let s=n;await o.rollbackTransaction(s)}else Ae(t,\"Invalid transaction action.\")}catch(s){throw this.#a(s)}return i?{id:i.id,payload:void 0}:void 0}async request(t,{interactiveTransaction:r,customDataProxyFetch:n}){or(\"sending request\");let i=JSON.stringify(t),{executor:o,queryCompiler:s}=await this.#i().catch(d=>{throw this.#a(d,i)}),a;try{a=this.#p(()=>this.#d({queries:[t],execute:()=>s.compile(i)}))}catch(d){throw this.#c(d)}try{or(\"query plan created\",a);let d={},f=await o.execute({plan:a,model:t.modelName,operation:t.action,placeholderValues:d,transaction:r,batchIndex:void 0,customFetch:n?.(globalThis.fetch),queryInfo:{type:\"single\",modelName:t.modelName,action:t.action,query:t.query}});return or(\"query plan executed\"),{data:{[t.action]:f}}}catch(d){throw this.#a(d,i)}}async requestBatch(t,{transaction:r,customDataProxyFetch:n}){if(t.length===0)return[];let i=t[0].action,o=t[0].modelName,s=JSON.stringify(rl(t,r)),{executor:a,queryCompiler:d}=await this.#i().catch(P=>{throw this.#a(P,s)}),f;try{f=this.#p(()=>this.#d({queries:t,execute:()=>d.compileBatch(s)}))}catch(P){throw this.#c(P)}try{let P;r?.kind===\"itx\"&&(P=r.options);let v={};switch(f.type){case\"multi\":{if(r?.kind!==\"itx\"){let M=r?.options.isolationLevel?{...this.config.transactionOptions,isolationLevel:r.options.isolationLevel}:this.config.transactionOptions;P=await this.transaction(\"start\",{},M)}let S=[],C=!1;for(let[M,R]of f.plans.entries())try{let k=await a.execute({plan:R,placeholderValues:v,model:t[M].modelName,operation:t[M].action,batchIndex:M,transaction:P,customFetch:n?.(globalThis.fetch),queryInfo:{type:\"single\",...t[M]}});S.push({data:{[t[M].action]:k}})}catch(k){S.push(k),C=!0;break}return P!==void 0&&r?.kind!==\"itx\"&&(C?await this.transaction(\"rollback\",{},P):await this.transaction(\"commit\",{},P)),S}case\"compacted\":{if(!t.every(M=>M.action===i&&M.modelName===o)){let M=t.map(k=>k.action).join(\", \"),R=t.map(k=>k.modelName).join(\", \");throw new Error(`Internal error: All queries in a compacted batch must have the same action and model name, but received actions: [${M}] and model names: [${R}]. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.`)}if(o===void 0)throw new Error(\"Internal error: A compacted batch cannot contain raw queries. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.\");let S=await a.execute({plan:f.plan,placeholderValues:v,model:o,operation:i,batchIndex:void 0,transaction:P,customFetch:n?.(globalThis.fetch),queryInfo:{type:\"compacted\",action:i,modelName:o,queries:t}});return Us(S,f).map(M=>({data:{[i]:M}}))}}}catch(P){throw this.#a(P,s)}}async apiKey(){let{executor:t}=await this.#i();return t.apiKey()}#m(t){switch(t){case void 0:return;case\"ReadUncommitted\":return\"READ UNCOMMITTED\";case\"ReadCommitted\":return\"READ COMMITTED\";case\"RepeatableRead\":return\"REPEATABLE READ\";case\"Serializable\":return\"SERIALIZABLE\";case\"Snapshot\":return\"SNAPSHOT\";default:throw new Y.PrismaClientKnownRequestError(`Inconsistent column data: Conversion failed: Invalid isolation level \\`${t}\\``,{code:\"P2023\",clientVersion:this.config.clientVersion,meta:{providedIsolationLevel:t}})}}#d({queries:t,execute:r}){return this.tracingHelper.runInChildSpan({name:\"compile\",attributes:{models:t.map(n=>n.modelName).filter(n=>n!==void 0),actions:t.map(n=>n.action)}},r)}};function yl(e,t,r){return al({binaryTarget:void 0,title:t,version:e.config.clientVersion,engineVersion:\"unknown\",database:e.config.activeProvider,query:r})}function wl(e){return new sr(e)}l();u();c();p();m();var bl=e=>({command:e});l();u();c();p();m();var Sl=require(\"@prisma/client-runtime-utils\");l();u();c();p();m();var xl=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);l();u();c();p();m();var Pl=require(\"@prisma/client-runtime-utils\");function At(e){try{return El(e,\"fast\")}catch{return El(e,\"slow\")}}function El(e,t){return JSON.stringify(e.map(r=>vl(r,t)))}function vl(e,t){if(Array.isArray(e))return e.map(r=>vl(r,t));if(typeof e==\"bigint\")return{prisma__type:\"bigint\",prisma__value:e.toString()};if(it(e))return{prisma__type:\"date\",prisma__value:e.toJSON()};if(Pl.Decimal.isDecimal(e))return{prisma__type:\"decimal\",prisma__value:e.toJSON()};if(y.isBuffer(e))return{prisma__type:\"bytes\",prisma__value:e.toString(\"base64\")};if(Sm(e))return{prisma__type:\"bytes\",prisma__value:y.from(e).toString(\"base64\")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:\"bytes\",prisma__value:y.from(r,n,i).toString(\"base64\")}}return typeof e==\"object\"&&t===\"slow\"?Al(e):e}function Sm(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e==\"object\"&&e!==null?e[Symbol.toStringTag]===\"ArrayBuffer\"||e[Symbol.toStringTag]===\"SharedArrayBuffer\":!1}function Al(e){if(typeof e!=\"object\"||e===null)return e;if(typeof e.toJSON==\"function\")return e.toJSON();if(Array.isArray(e))return e.map(Tl);let t={};for(let r of Object.keys(e))t[r]=Tl(e[r]);return t}function Tl(e){return typeof e==\"bigint\"?e.toString():Al(e)}var Rm=/^(\\s*alter\\s)/i,Cl=X(\"prisma:client\");function ki(e,t,r,n){if(!(e!==\"postgresql\"&&e!==\"cockroachdb\")&&r.length>0&&Rm.exec(t))throw new Error(`Running ALTER using ${n} is not supported\nUsing the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.\n\nExample:\n  await prisma.$executeRawUnsafe(\\`ALTER USER prisma WITH PASSWORD '\\${password}'\\`)\n\nMore Information: https://pris.ly/d/execute-raw\n`)}var Mi=({clientMethod:e,activeProvider:t})=>r=>{let n=\"\",i;if(Ur(r))n=r.sql,i={values:At(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[o,...s]=r;n=o,i={values:At(s||[]),__prismaRawParameters__:!0}}else switch(t){case\"sqlite\":case\"mysql\":{n=r.sql,i={values:At(r.values),__prismaRawParameters__:!0};break}case\"cockroachdb\":case\"postgresql\":case\"postgres\":{n=r.text,i={values:At(r.values),__prismaRawParameters__:!0};break}case\"sqlserver\":{n=xl(r),i={values:At(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?Cl(`prisma.${e}(${n}, ${i.values})`):Cl(`prisma.${e}(${n})`),{query:n,parameters:i}},Rl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new Sl.Sql(t,r)}},Il={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};l();u();c();p();m();function Di(e){return function(r,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind===\"itx\"?i??=Ol(r(s)):Ol(r(s))}catch(a){return Promise.reject(a)}};return{get spec(){return n},then(s,a){return o().then(s,a)},catch(s){return o().catch(s)},finally(s){return o().finally(s)},requestTransaction(s){let a=o(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:\"PrismaPromise\"}}}function Ol(e){return typeof e.then==\"function\"?e:Promise.resolve(e)}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var kl={name:\"@prisma/instrumentation-contract\",version:\"7.2.0\",description:\"Shared types and utilities for Prisma instrumentation\",main:\"dist/index.js\",module:\"dist/index.mjs\",types:\"dist/index.d.ts\",exports:{\".\":{require:{types:\"./dist/index.d.ts\",default:\"./dist/index.js\"},import:{types:\"./dist/index.d.mts\",default:\"./dist/index.mjs\"}}},license:\"Apache-2.0\",homepage:\"https://www.prisma.io\",repository:{type:\"git\",url:\"https://github.com/prisma/prisma.git\",directory:\"packages/instrumentation-contract\"},bugs:\"https://github.com/prisma/prisma/issues\",scripts:{dev:\"DEV=true tsx helpers/build.ts\",build:\"tsx helpers/build.ts\",prepublishOnly:\"pnpm run build\",test:\"vitest run\"},files:[\"dist\"],sideEffects:!1,devDependencies:{\"@opentelemetry/api\":\"1.9.0\"},peerDependencies:{\"@opentelemetry/api\":\"^1.8\"}};var Om=kl.version.split(\".\")[0],km=\"PRISMA_INSTRUMENTATION\",Mm=`V${Om}_PRISMA_INSTRUMENTATION`,Ml=globalThis;function Dl(){let e=Ml[Mm];return e?.helper?e.helper:Ml[km]?.helper}var Dm={isEnabled(){return!1},getTraceParent(){return\"00-10-10-00\"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},Ni=class{isEnabled(){return this.getTracingHelper().isEnabled()}getTraceParent(t){return this.getTracingHelper().getTraceParent(t)}dispatchEngineSpans(t){return this.getTracingHelper().dispatchEngineSpans(t)}getActiveContext(){return this.getTracingHelper().getActiveContext()}runInChildSpan(t,r){return this.getTracingHelper().runInChildSpan(t,r)}getTracingHelper(){return Dl()??Dm}};function Nl(){return new Ni}l();u();c();p();m();function Ll(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}l();u();c();p();m();function _l(e){return typeof e==\"string\"?e:e.reduce((t,r)=>{let n=typeof r==\"string\"?r:r.level;return n===\"query\"?t:t&&(r===\"info\"||t===\"info\")?\"info\":n},void 0)}l();u();c();p();m();var $l=require(\"@prisma/client-runtime-utils\");l();u();c();p();m();function Fl(e){if(e.action!==\"findUnique\"&&e.action!==\"findUniqueOrThrow\")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(Li(e.query.arguments)),t.push(Li(e.query.selection)),t.join(\"\")}function Li(e){return`(${Object.keys(e).sort().map(r=>{let n=e[r];return typeof n==\"object\"&&n!==null?`(${r} ${Li(n)})`:r}).join(\" \")})`}l();u();c();p();m();var Nm={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function _i(e){return Nm[e]}l();u();c();p();m();var yn=class{constructor(t){this.options=t;this.batches={}}batches;tickActive=!1;request(t){let r=this.options.batchBy(t);return r?(this.batches[r]||(this.batches[r]=[],this.tickActive||(this.tickActive=!0,g.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((n,i)=>{this.batches[r].push({request:t,resolve:n,reject:i})})):this.options.singleLoader(t)}dispatchBatches(){for(let t in this.batches){let r=this.batches[t];delete this.batches[t],r.length===1?this.options.singleLoader(r[0].request).then(n=>{n instanceof Error?r[0].reject(n):r[0].resolve(n)}).catch(n=>{r[0].reject(n)}):(r.sort((n,i)=>this.options.batchOrder(n.request,i.request)),this.options.batchLoader(r.map(n=>n.request)).then(n=>{if(n instanceof Error)for(let i=0;i<r.length;i++)r[i].reject(n);else for(let i=0;i<r.length;i++){let o=n[i];o instanceof Error?r[i].reject(o):r[i].resolve(o)}}).catch(n=>{for(let i=0;i<r.length;i++)r[i].reject(n)}))}}get[Symbol.toStringTag](){return\"DataLoader\"}};l();u();c();p();m();var Ul=require(\"@prisma/client-runtime-utils\");function Ze(e,t){if(t===null)return t;switch(e){case\"bigint\":return BigInt(t);case\"bytes\":{let{buffer:r,byteOffset:n,byteLength:i}=y.from(t,\"base64\");return new Uint8Array(r,n,i)}case\"decimal\":return new Ul.Decimal(t);case\"datetime\":case\"date\":return new Date(t);case\"time\":return new Date(`1970-01-01T${t}Z`);case\"bigint-array\":return t.map(r=>Ze(\"bigint\",r));case\"bytes-array\":return t.map(r=>Ze(\"bytes\",r));case\"decimal-array\":return t.map(r=>Ze(\"decimal\",r));case\"datetime-array\":return t.map(r=>Ze(\"datetime\",r));case\"date-array\":return t.map(r=>Ze(\"date\",r));case\"time-array\":return t.map(r=>Ze(\"time\",r));default:return t}}function hn(e){let t=[],r=Lm(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],o={...r};for(let s=0;s<i.length;s++)o[e.columns[s]]=Ze(e.types[s],i[s]);t.push(o)}return t}function Lm(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var _m=X(\"prisma:client:request_handler\"),wn=class{client;dataloader;logEmitter;constructor(t,r){this.logEmitter=r,this.client=t,this.dataloader=new yn({batchLoader:Rs(async({requests:n,customDataProxyFetch:i})=>{let{transaction:o,otelParentCtx:s}=n[0],a=n.map(v=>v.protocolQuery),d=this.client._tracingHelper.getTraceParent(s),f=n.some(v=>_i(v.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:d,transaction:Fm(o),containsWrite:f,customDataProxyFetch:i})).map((v,S)=>{if(v instanceof Error)return v;try{return this.mapQueryEngineResult(n[S],v)}catch(C){return C}})}),singleLoader:async n=>{let i=n.transaction?.kind===\"itx\"?ql(n.transaction):void 0,o=await this.client._engine.request(n.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:i,isWrite:_i(n.protocolQuery.action),customDataProxyFetch:n.customDataProxyFetch});return this.mapQueryEngineResult(n,o)},batchBy:n=>n.transaction?.id?`transaction-${n.transaction.id}`:Fl(n.protocolQuery),batchOrder(n,i){return n.transaction?.kind===\"batch\"&&i.transaction?.kind===\"batch\"?n.transaction.index-i.transaction.index:0}})}async request(t){try{return await this.dataloader.request(t)}catch(r){let{clientMethod:n,callsite:i,transaction:o,args:s,modelName:a}=t;this.handleAndLogRequestError({error:r,clientMethod:n,callsite:i,transaction:o,args:s,modelName:a,globalOmit:t.globalOmit})}}mapQueryEngineResult({dataPath:t,unpacker:r},n){let i=n?.data,o=this.unpack(i,t,r);return g.env.PRISMA_CLIENT_GET_TIME?{data:o}:o}handleAndLogRequestError(t){try{this.handleRequestError(t)}catch(r){throw this.logEmitter&&this.logEmitter.emit(\"error\",{message:r.message,target:t.clientMethod,timestamp:new Date}),r}}handleRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:o,modelName:s,globalOmit:a}){if(_m(t),Um(t,i))throw t;if(t instanceof D.PrismaClientKnownRequestError&&$m(t)){let f=Vl(t.meta);Mr({args:o,errors:[f],callsite:n,errorFormat:this.client._errorFormat,originalMethod:r,clientVersion:this.client._clientVersion,globalOmit:a})}let d=t.message;if(n&&(d=vr({callsite:n,originalMethod:r,isPanic:t.isPanic,showColors:this.client._errorFormat===\"pretty\",message:d})),d=this.sanitizeMessage(d),t.code){let f=s?{modelName:s,...t.meta}:t.meta;throw new D.PrismaClientKnownRequestError(d,{code:t.code,clientVersion:this.client._clientVersion,meta:f,batchRequestIdx:t.batchRequestIdx})}else{if(t.isPanic)throw new D.PrismaClientRustPanicError(d,this.client._clientVersion);if(t instanceof D.PrismaClientUnknownRequestError)throw new D.PrismaClientUnknownRequestError(d,{clientVersion:this.client._clientVersion,batchRequestIdx:t.batchRequestIdx});if(t instanceof D.PrismaClientInitializationError)throw new D.PrismaClientInitializationError(d,this.client._clientVersion);if(t instanceof D.PrismaClientRustPanicError)throw new D.PrismaClientRustPanicError(d,this.client._clientVersion)}throw t.clientVersion=this.client._clientVersion,t}sanitizeMessage(t){return this.client._errorFormat&&this.client._errorFormat!==\"pretty\"?nt(t):t}unpack(t,r,n){if(!t||(t.data&&(t=t.data),!t))return t;let i=Object.keys(t)[0],o=Object.values(t)[0],s=r.filter(f=>f!==\"select\"&&f!==\"include\"),a=Qn(o,s),d=i===\"queryRaw\"?hn(a):De(a);return n?n(d):d}get[Symbol.toStringTag](){return\"RequestHandler\"}};function Fm(e){if(e){if(e.kind===\"batch\")return{kind:\"batch\",options:{isolationLevel:e.isolationLevel}};if(e.kind===\"itx\")return{kind:\"itx\",options:ql(e)};Ae(e,\"Unknown transaction kind\")}}function ql(e){return{id:e.id,payload:e.payload}}function Um(e,t){return(0,$l.hasBatchIndex)(e)&&t?.kind===\"batch\"&&e.batchRequestIdx!==t.index}function $m(e){return e.code===\"P2009\"||e.code===\"P2012\"}function Vl(e){if(e.kind===\"Union\")return{kind:\"Union\",errors:e.errors.map(Vl)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}l();u();c();p();m();var Fi=un;l();u();c();p();m();var Jl=Ue(_n());l();u();c();p();m();var j=class extends Error{constructor(t){super(t+`\nRead more at https://pris.ly/d/client-constructor`),this.name=\"PrismaClientConstructorValidationError\"}get[Symbol.toStringTag](){return\"PrismaClientConstructorValidationError\"}};Nt(j,\"PrismaClientConstructorValidationError\");var Bl=[\"errorFormat\",\"adapter\",\"accelerateUrl\",\"log\",\"transactionOptions\",\"omit\",\"comments\",\"__internal\"],jl=[\"pretty\",\"colorless\",\"minimal\"],Ql=[\"info\",\"query\",\"warn\",\"error\"],qm={adapter:()=>{},accelerateUrl:e=>{if(e!==void 0){if(typeof e!=\"string\")throw new j(`Invalid value ${JSON.stringify(e)} for \"accelerateUrl\" provided to PrismaClient constructor.`);if(e.trim().length===0)throw new j('\"accelerateUrl\" provided to PrismaClient constructor must be a non-empty string.')}},errorFormat:e=>{if(e){if(typeof e!=\"string\")throw new j(`Invalid value ${JSON.stringify(e)} for \"errorFormat\" provided to PrismaClient constructor.`);if(!jl.includes(e)){let t=ar(e,jl);throw new j(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new j(`Invalid value ${JSON.stringify(e)} for \"log\" provided to PrismaClient constructor.`);function t(r){if(typeof r==\"string\"&&!Ql.includes(r)){let n=ar(r,Ql);throw new j(`Invalid log level \"${r}\" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let o=[\"stdout\",\"event\"];if(!o.includes(i)){let s=ar(i,o);throw new j(`Invalid value ${JSON.stringify(i)} for \"emit\" in logLevel provided to PrismaClient constructor.${s}`)}}};if(r&&typeof r==\"object\")for(let[i,o]of Object.entries(r))if(n[i])n[i](o);else throw new j(`Invalid property ${i} for \"log\" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new j(`Invalid value ${t} for maxWait in \"transactionOptions\" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new j(`Invalid value ${r} for timeout in \"transactionOptions\" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!=\"object\")throw new j('\"omit\" option is expected to be an object.');if(e===null)throw new j('\"omit\" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let o=jm(n,t.runtimeDataModel);if(!o){r.push({kind:\"UnknownModel\",modelKey:n});continue}for(let[s,a]of Object.entries(i)){let d=o.fields.find(f=>f.name===s);if(!d){r.push({kind:\"UnknownField\",modelKey:n,fieldName:s});continue}if(d.relationName){r.push({kind:\"RelationInOmit\",modelKey:n,fieldName:s});continue}typeof a!=\"boolean\"&&r.push({kind:\"InvalidFieldValue\",modelKey:n,fieldName:s})}}if(r.length>0)throw new j(Qm(e,r))},comments:e=>{if(e!==void 0){if(!Array.isArray(e))throw new j(`Invalid value ${JSON.stringify(e)} for \"comments\" provided to PrismaClient constructor. Expected an array of SQL commenter plugins.`);for(let t=0;t<e.length;t++)if(typeof e[t]!=\"function\")throw new j(`Invalid value at index ${t} for \"comments\" provided to PrismaClient constructor. Each plugin must be a function.`)}},__internal:e=>{if(!e)return;let t=[\"debug\",\"engine\",\"configOverride\"];if(typeof e!=\"object\")throw new j(`Invalid value ${JSON.stringify(e)} for \"__internal\" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=ar(r,t);throw new j(`Invalid property ${JSON.stringify(r)} for \"__internal\" provided to PrismaClient constructor.${n}`)}}};function Vm(e){let t=e.adapter!==void 0,r=e.accelerateUrl!==void 0;if(t&&r)throw new j('The \"adapter\" and \"accelerateUrl\" options are mutually exclusive. Please provide only one of them.');if(!t&&!r)throw new j('Using engine type \"client\" requires either \"adapter\" or \"accelerateUrl\" to be provided to PrismaClient constructor.')}function Wl(e,t){for(let[r,n]of Object.entries(e)){if(!Bl.includes(r)){let i=ar(r,Bl);throw new j(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}qm[r](n,t)}Vm(e)}function ar(e,t){if(t.length===0||typeof e!=\"string\")return\"\";let r=Bm(e,t);return r?` Did you mean \"${r}\"?`:\"\"}function Bm(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,Jl.default)(e,i)}));r.sort((i,o)=>i.distance<o.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function jm(e,t){return Hl(t.models,e)??Hl(t.types,e)}function Hl(e,t){let r=Object.keys(e).find(n=>Ie(n)===t);if(r)return e[r]}function Qm(e,t){let r=mt(e);for(let o of t)switch(o.kind){case\"UnknownModel\":r.arguments.getField(o.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${o.modelKey}.`);break;case\"UnknownField\":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model \"${o.modelKey}\" does not have a field named \"${o.fieldName}\".`);break;case\"RelationInOmit\":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in \"omit\".');break;case\"InvalidFieldValue\":r.arguments.getDeepFieldValue([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>\"Omit field option value must be a boolean.\");break}let{message:n,args:i}=kr(r,\"colorless\");return`Error validating \"omit\" option:\n\n${i}\n\n${n}`}l();u();c();p();m();var Gl=require(\"@prisma/client-runtime-utils\");function Kl(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,o=!1,s=0,a=()=>{o||(s++,s===e.length&&(o=!0,i?r(i):t(n)))},d=f=>{o||(o=!0,r(f))};for(let f=0;f<e.length;f++)e[f].then(P=>{n[f]=P,a()},P=>{if(!(0,Gl.hasBatchIndex)(P)){d(P);return}P.batchRequestIdx===f?d(P):(i||(i=P),a())})})}var lr=X(\"prisma:client\");typeof globalThis==\"object\"&&(globalThis.NODE_CLIENT=!0);var Hm={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},Jm=Symbol.for(\"prisma.client.transaction.id\"),Wm={id:0,nextId(){return++this.id}};function Yl(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=Di();constructor(n){if(!n)throw new D.PrismaClientInitializationError(\"`PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:\\n\\n```\\nnew PrismaClient({\\n  ...\\n})\\n```\\n\\nor\\n\\n```\\nconstructor() {\\n  super({ ... });\\n}\\n```\\n          \",Fi);e=n.__internal?.configOverride?.(e)??e,Wl(n,e);let i=new $r().on(\"error\",()=>{});this._extensions=dt.empty(),this._previewFeatures=e.previewFeatures,this._clientVersion=e.clientVersion??Fi,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=Nl();let o;if(n.adapter){o=n.adapter;let s=e.activeProvider===\"postgresql\"||e.activeProvider===\"cockroachdb\"?\"postgres\":e.activeProvider;if(o.provider!==s)throw new D.PrismaClientInitializationError(`The Driver Adapter \\`${o.adapterName}\\`, based on \\`${o.provider}\\`, is not compatible with the provider \\`${s}\\` specified in the Prisma schema.`,this._clientVersion)}try{let s=n??{},d=(s.__internal??{}).debug===!0;if(d&&X.enable(\"prisma:client\"),s.errorFormat?this._errorFormat=s.errorFormat:g.env.NODE_ENV===\"production\"?this._errorFormat=\"minimal\":g.env.NO_COLOR?this._errorFormat=\"colorless\":this._errorFormat=\"colorless\",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={enableDebugLogs:d,logLevel:s.log&&_l(s.log),logQueries:s.log&&!!(typeof s.log==\"string\"?s.log===\"query\":s.log.find(f=>typeof f==\"string\"?f===\"query\":f.level===\"query\")),compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:s.transactionOptions?.maxWait??2e3,timeout:s.transactionOptions?.timeout??5e3,isolationLevel:s.transactionOptions?.isolationLevel},logEmitter:i,adapter:o,accelerateUrl:s.accelerateUrl,sqlCommenters:s.comments},this._accelerateEngineConfig=Object.create(this._engineConfig),this._accelerateEngineConfig.accelerateUtils={resolveDatasourceUrl:()=>{if(s.accelerateUrl)return s.accelerateUrl;throw new D.PrismaClientInitializationError(`\\`accelerateUrl\\` is required when using \\`@prisma/extension-accelerate\\`:\n\nnew PrismaClient({\n  accelerateUrl: \"prisma://...\",\n}).$extends(withAccelerate())\n`,e.clientVersion)}},lr(\"clientVersion\",e.clientVersion),this._engine=wl(this._engineConfig),this._requestHandler=new wn(this,i),s.log)for(let f of s.log){let P=typeof f==\"string\"?f:f.emit===\"stdout\"?f.level:null;P&&this.$on(P,v=>{Dt.log(`${Dt.tags[P]??\"\"}`,v.message||v.query)})}}catch(s){throw s.clientVersion=this._clientVersion,s}return this._appliedParent=Qt(this)}get[Symbol.toStringTag](){return\"PrismaClient\"}$on(n,i){return n===\"beforeExit\"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{go()}}$executeRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:\"executeRaw\",args:o,transaction:n,clientMethod:i,argsMapper:Mi({clientMethod:i,activeProvider:a}),callsite:Me(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$executeRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0){let[s,a]=zl(n,i);return ki(this._activeProvider,s.text,s.values,Array.isArray(n)?\"prisma.$executeRaw`<SQL>`\":\"prisma.$executeRaw(sql`<SQL>`)\"),this.$executeRawInternal(o,\"$executeRaw\",s,a)}throw new D.PrismaClientValidationError(\"`$executeRaw` is a tag function, please use it like the following:\\n```\\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\\n```\\n\\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\\n\",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(o=>(ki(this._activeProvider,n,i,\"prisma.$executeRawUnsafe(<SQL>, [...values])\"),this.$executeRawInternal(o,\"$executeRawUnsafe\",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!==\"mongodb\")throw new D.PrismaClientValidationError(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:\"$runCommandRaw\",dataPath:[],action:\"runCommandRaw\",argsMapper:bl,callsite:Me(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:\"queryRaw\",args:o,transaction:n,clientMethod:i,argsMapper:Mi({clientMethod:i,activeProvider:a}),callsite:Me(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$queryRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(o,\"$queryRaw\",...zl(n,i));throw new D.PrismaClientValidationError(\"`$queryRaw` is a tag function, please use it like the following:\\n```\\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\\n```\\n\\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\\n\",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag(\"typedSql\"))throw new D.PrismaClientValidationError(\"`typedSql` preview feature must be enabled in order to access $queryRawTyped API\",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,\"$queryRawTyped\",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(o=>this.$queryRawInternal(o,\"$queryRawUnsafe\",[n,...i]))}_transactionWithArray({promises:n,options:i}){let o=Wm.nextId(),s=Ll(n.length),a=n.map((d,f)=>{if(d?.[Symbol.toStringTag]!==\"PrismaPromise\")throw new Error(\"All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.\");let P=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,v={kind:\"batch\",id:o,index:f,isolationLevel:P,lock:s};return d.requestTransaction?.(v)??d});return Kl(a)}async _transactionWithCallback({callback:n,options:i}){let o={traceparent:this._tracingHelper.getTraceParent()},s={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction(\"start\",o,s),d;try{let f={kind:\"itx\",...a};d=await n(this._createItxClient(f)),await this._engine.transaction(\"commit\",o,a)}catch(f){throw await this._engine.transaction(\"rollback\",o,a).catch(()=>{}),f}return d}_createItxClient(n){return pe(Qt(pe(ws(this),[te(\"_appliedParent\",()=>this._appliedParent._createItxClient(n)),te(\"_createPrismaPromise\",()=>Di(n)),te(Jm,()=>n.id)])),[ft(Ps)])}$transaction(n,i){let o;typeof n==\"function\"?this._engineConfig.adapter?.adapterName===\"@prisma/adapter-d1\"?o=()=>{throw new Error(\"Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.\")}:o=()=>this._transactionWithCallback({callback:n,options:i}):o=()=>this._transactionWithArray({promises:n,options:i});let s={name:\"transaction\",attributes:{method:\"$transaction\"}};return this._tracingHelper.runInChildSpan(s,o)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??Hm,o={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},s={operation:{name:\"operation\",attributes:{method:o.action,model:o.model,name:o.model?`${o.model}.${o.action}`:o.action}}},a=async d=>{let{runInTransaction:f,args:P,...v}=d,S={...n,...v};P&&(S.args=i.middlewareArgsToRequestArgs(P)),n.transaction!==void 0&&f===!1&&delete S.transaction;let C=await Ss(this,S);return S.model?Ts({result:C,modelName:S.model,args:S.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):C};return this._tracingHelper.runInChildSpan(s.operation,()=>a(o))}async _executeRequest({args:n,clientMethod:i,dataPath:o,callsite:s,action:a,model:d,argsMapper:f,transaction:P,unpacker:v,otelParentCtx:S,customDataProxyFetch:C}){try{n=f?f(n):n;let M={name:\"serialize\"},R=this._tracingHelper.runInChildSpan(M,()=>_r({modelName:d,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:i,callsite:s,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return X.enabled(\"prisma:client\")&&(lr(\"Prisma Client call:\"),lr(`prisma.${i}(${ls(n)})`),lr(\"Generated request:\"),lr(JSON.stringify(R,null,2)+`\n`)),P?.kind===\"batch\"&&await P.lock,this._requestHandler.request({protocolQuery:R,modelName:d,action:a,clientMethod:i,dataPath:o,callsite:s,args:n,extensions:this._extensions,transaction:P,unpacker:v,otelParentCtx:S,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:C})}catch(M){throw M.clientVersion=this._clientVersion,M}}_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$extends=bs}return t}function zl(e,t){return Gm(e)?[new Zl.Sql(e,t),Rl]:[e,Il]}function Gm(e){return Array.isArray(e)&&Array.isArray(e.raw)}l();u();c();p();m();var Km=new Set([\"toJSON\",\"$$typeof\",\"asymmetricMatch\",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function Xl(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!Km.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}l();u();c();p();m();var zm=()=>globalThis.process?.release?.name===\"node\",Zm=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,Ym=()=>!!globalThis.Deno,Xm=()=>typeof globalThis.Netlify==\"object\",ed=()=>typeof globalThis.EdgeRuntime==\"object\",td=()=>globalThis.navigator?.userAgent===\"Cloudflare-Workers\";function rd(){return[[Xm,\"netlify\"],[ed,\"edge-light\"],[td,\"workerd\"],[Ym,\"deno\"],[Zm,\"bun\"],[zm,\"node\"]].flatMap(r=>r[0]()?[r[1]]:[]).at(0)??\"\"}var nd={node:\"Node.js\",workerd:\"Cloudflare Workers\",deno:\"Deno and Deno Deploy\",netlify:\"Netlify Edge Functions\",\"edge-light\":\"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)\"};function eu(){let e=rd();return{id:e,prettyName:nd[e]||e,isEdge:[\"workerd\",\"deno\",\"netlify\",\"edge-light\"].includes(e)}}var D=require(\"@prisma/client-runtime-utils\"),Te=require(\"@prisma/client-runtime-utils\"),ee=require(\"@prisma/client-runtime-utils\"),tu=require(\"@prisma/client-runtime-utils\");0&&(module.exports={AnyNull,DMMF,DbNull,Debug,Decimal,Extensions,JsonNull,NullTypes,ObjectEnumValue,PrismaClientInitializationError,PrismaClientKnownRequestError,PrismaClientRustPanicError,PrismaClientUnknownRequestError,PrismaClientValidationError,Public,Sql,createParam,defineDmmfProperty,deserializeJsonResponse,deserializeRawResult,dmmfToRuntimeDataModel,empty,getPrismaClient,getRuntime,isAnyNull,isDbNull,isJsonNull,join,makeStrictEnum,makeTypedQueryFactory,raw,serializeJsonQuery,skip,sqltag,warnOnce});\n//# sourceMappingURL=wasm-compiler-edge.js.map\n", "\"use strict\";var h=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var j=Object.prototype.hasOwnProperty;var D=(e,t)=>{for(var n in t)h(e,n,{get:t[n],enumerable:!0})},O=(e,t,n,_)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let r of M(t))!j.call(e,r)&&r!==n&&h(e,r,{get:()=>t[r],enumerable:!(_=T(t,r))||_.enumerable});return e};var B=e=>O(h({},\"__esModule\",{value:!0}),e);var xe={};D(xe,{QueryCompiler:()=>F,__wbg_Error_e83987f665cf5504:()=>q,__wbg_Number_bb48ca12f395cd08:()=>C,__wbg_String_8f0eb39a4a4c2f66:()=>k,__wbg___wbindgen_boolean_get_6d5a1ee65bab5f68:()=>W,__wbg___wbindgen_debug_string_df47ffb5e35e6763:()=>V,__wbg___wbindgen_in_bb933bd9e1b3bc0f:()=>z,__wbg___wbindgen_is_object_c818261d21f283a4:()=>L,__wbg___wbindgen_is_string_fbb76cb2940daafd:()=>P,__wbg___wbindgen_is_undefined_2d472862bd29a478:()=>Q,__wbg___wbindgen_jsval_loose_eq_b664b38a2f582147:()=>Y,__wbg___wbindgen_number_get_a20bf9b85341449d:()=>G,__wbg___wbindgen_string_get_e4f06c90489ad01b:()=>J,__wbg___wbindgen_throw_b855445ff6a94295:()=>X,__wbg_entries_e171b586f8f6bdbf:()=>H,__wbg_getTime_14776bfb48a1bff9:()=>K,__wbg_get_7bed016f185add81:()=>Z,__wbg_get_with_ref_key_1dc361bd10053bfe:()=>v,__wbg_instanceof_ArrayBuffer_70beb1189ca63b38:()=>ee,__wbg_instanceof_Uint8Array_20c8e73002f7af98:()=>te,__wbg_isSafeInteger_d216eda7911dde36:()=>ne,__wbg_length_69bca3cb64fc8748:()=>re,__wbg_length_cdd215e10d9dd507:()=>_e,__wbg_new_0_f9740686d739025c:()=>oe,__wbg_new_1acc0b6eea89d040:()=>ce,__wbg_new_5a79be3ab53b8aa5:()=>ie,__wbg_new_68651c719dcda04e:()=>se,__wbg_new_e17d9f43105b08be:()=>ue,__wbg_prototypesetcall_2a6620b6922694b2:()=>fe,__wbg_set_3f1d0b984ed272ed:()=>be,__wbg_set_907fb406c34a251d:()=>de,__wbg_set_c213c871859d6500:()=>ae,__wbg_set_message_82ae475bb413aa5c:()=>ge,__wbg_set_wasm:()=>N,__wbindgen_cast_2241b6af4c4b2941:()=>le,__wbindgen_cast_4625c577ab2ec9ee:()=>we,__wbindgen_cast_9ae0607507abb057:()=>pe,__wbindgen_cast_d6cd19b81560fd6e:()=>ye,__wbindgen_init_externref_table:()=>me});module.exports=B(xe);var A=()=>{};A.prototype=A;let o;function N(e){o=e}let p=null;function a(){return(p===null||p.byteLength===0)&&(p=new Uint8Array(o.memory.buffer)),p}let y=new TextDecoder(\"utf-8\",{ignoreBOM:!0,fatal:!0});y.decode();const U=2146435072;let S=0;function R(e,t){return S+=t,S>=U&&(y=new TextDecoder(\"utf-8\",{ignoreBOM:!0,fatal:!0}),y.decode(),S=t),y.decode(a().subarray(e,e+t))}function m(e,t){return e=e>>>0,R(e,t)}let f=0;const g=new TextEncoder;\"encodeInto\"in g||(g.encodeInto=function(e,t){const n=g.encode(e);return t.set(n),{read:e.length,written:n.length}});function l(e,t,n){if(n===void 0){const i=g.encode(e),d=t(i.length,1)>>>0;return a().subarray(d,d+i.length).set(i),f=i.length,d}let _=e.length,r=t(_,1)>>>0;const s=a();let c=0;for(;c<_;c++){const i=e.charCodeAt(c);if(i>127)break;s[r+c]=i}if(c!==_){c!==0&&(e=e.slice(c)),r=n(r,_,_=c+e.length*3,1)>>>0;const i=a().subarray(r+c,r+_),d=g.encodeInto(e,i);c+=d.written,r=n(r,_,c,1)>>>0}return f=c,r}let b=null;function u(){return(b===null||b.buffer.detached===!0||b.buffer.detached===void 0&&b.buffer!==o.memory.buffer)&&(b=new DataView(o.memory.buffer)),b}function x(e){return e==null}function I(e){const t=typeof e;if(t==\"number\"||t==\"boolean\"||e==null)return`${e}`;if(t==\"string\")return`\"${e}\"`;if(t==\"symbol\"){const r=e.description;return r==null?\"Symbol\":`Symbol(${r})`}if(t==\"function\"){const r=e.name;return typeof r==\"string\"&&r.length>0?`Function(${r})`:\"Function\"}if(Array.isArray(e)){const r=e.length;let s=\"[\";r>0&&(s+=I(e[0]));for(let c=1;c<r;c++)s+=\", \"+I(e[c]);return s+=\"]\",s}const n=/\\[object ([^\\]]+)\\]/.exec(toString.call(e));let _;if(n&&n.length>1)_=n[1];else return toString.call(e);if(_==\"Object\")try{return\"Object(\"+JSON.stringify(e)+\")\"}catch{return\"Object\"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:_}function $(e,t){return e=e>>>0,a().subarray(e/1,e/1+t)}function w(e){const t=o.__wbindgen_externrefs.get(e);return o.__externref_table_dealloc(e),t}const E=typeof FinalizationRegistry>\"u\"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>o.__wbg_querycompiler_free(e>>>0,1));class F{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),t}free(){const t=this.__destroy_into_raw();o.__wbg_querycompiler_free(t,0)}compileBatch(t){const n=l(t,o.__wbindgen_malloc,o.__wbindgen_realloc),_=f,r=o.querycompiler_compileBatch(this.__wbg_ptr,n,_);if(r[2])throw w(r[1]);return w(r[0])}constructor(t){const n=o.querycompiler_new(t);if(n[2])throw w(n[1]);return this.__wbg_ptr=n[0]>>>0,E.register(this,this.__wbg_ptr,this),this}compile(t){const n=l(t,o.__wbindgen_malloc,o.__wbindgen_realloc),_=f,r=o.querycompiler_compile(this.__wbg_ptr,n,_);if(r[2])throw w(r[1]);return w(r[0])}}Symbol.dispose&&(F.prototype[Symbol.dispose]=F.prototype.free);function q(e,t){return Error(m(e,t))}function C(e){return Number(e)}function k(e,t){const n=String(t),_=l(n,o.__wbindgen_malloc,o.__wbindgen_realloc),r=f;u().setInt32(e+4*1,r,!0),u().setInt32(e+4*0,_,!0)}function W(e){const t=e,n=typeof t==\"boolean\"?t:void 0;return x(n)?16777215:n?1:0}function V(e,t){const n=I(t),_=l(n,o.__wbindgen_malloc,o.__wbindgen_realloc),r=f;u().setInt32(e+4*1,r,!0),u().setInt32(e+4*0,_,!0)}function z(e,t){return e in t}function L(e){const t=e;return typeof t==\"object\"&&t!==null}function P(e){return typeof e==\"string\"}function Q(e){return e===void 0}function Y(e,t){return e==t}function G(e,t){const n=t,_=typeof n==\"number\"?n:void 0;u().setFloat64(e+8*1,x(_)?0:_,!0),u().setInt32(e+4*0,!x(_),!0)}function J(e,t){const n=t,_=typeof n==\"string\"?n:void 0;var r=x(_)?0:l(_,o.__wbindgen_malloc,o.__wbindgen_realloc),s=f;u().setInt32(e+4*1,s,!0),u().setInt32(e+4*0,r,!0)}function X(e,t){throw new Error(m(e,t))}function H(e){return Object.entries(e)}function K(e){return e.getTime()}function Z(e,t){return e[t>>>0]}function v(e,t){return e[t]}function ee(e){let t;try{t=e instanceof ArrayBuffer}catch{t=!1}return t}function te(e){let t;try{t=e instanceof Uint8Array}catch{t=!1}return t}function ne(e){return Number.isSafeInteger(e)}function re(e){return e.length}function _e(e){return e.length}function oe(){return new Date}function ce(){return new Object}function ie(e){return new Uint8Array(e)}function se(){return new Map}function ue(){return new Array}function fe(e,t,n){Uint8Array.prototype.set.call($(e,t),n)}function be(e,t,n){e[t]=n}function de(e,t,n){return e.set(t,n)}function ae(e,t,n){e[t>>>0]=n}function ge(e,t){global.PRISMA_WASM_PANIC_REGISTRY.set_message(m(e,t))}function le(e,t){return m(e,t)}function we(e){return BigInt.asUintN(64,e)}function pe(e){return e}function ye(e){return e}function me(){const e=o.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}0&&(module.exports={QueryCompiler,__wbg_Error_e83987f665cf5504,__wbg_Number_bb48ca12f395cd08,__wbg_String_8f0eb39a4a4c2f66,__wbg___wbindgen_boolean_get_6d5a1ee65bab5f68,__wbg___wbindgen_debug_string_df47ffb5e35e6763,__wbg___wbindgen_in_bb933bd9e1b3bc0f,__wbg___wbindgen_is_object_c818261d21f283a4,__wbg___wbindgen_is_string_fbb76cb2940daafd,__wbg___wbindgen_is_undefined_2d472862bd29a478,__wbg___wbindgen_jsval_loose_eq_b664b38a2f582147,__wbg___wbindgen_number_get_a20bf9b85341449d,__wbg___wbindgen_string_get_e4f06c90489ad01b,__wbg___wbindgen_throw_b855445ff6a94295,__wbg_entries_e171b586f8f6bdbf,__wbg_getTime_14776bfb48a1bff9,__wbg_get_7bed016f185add81,__wbg_get_with_ref_key_1dc361bd10053bfe,__wbg_instanceof_ArrayBuffer_70beb1189ca63b38,__wbg_instanceof_Uint8Array_20c8e73002f7af98,__wbg_isSafeInteger_d216eda7911dde36,__wbg_length_69bca3cb64fc8748,__wbg_length_cdd215e10d9dd507,__wbg_new_0_f9740686d739025c,__wbg_new_1acc0b6eea89d040,__wbg_new_5a79be3ab53b8aa5,__wbg_new_68651c719dcda04e,__wbg_new_e17d9f43105b08be,__wbg_prototypesetcall_2a6620b6922694b2,__wbg_set_3f1d0b984ed272ed,__wbg_set_907fb406c34a251d,__wbg_set_c213c871859d6500,__wbg_set_message_82ae475bb413aa5c,__wbg_set_wasm,__wbindgen_cast_2241b6af4c4b2941,__wbindgen_cast_4625c577ab2ec9ee,__wbindgen_cast_9ae0607507abb057,__wbindgen_cast_d6cd19b81560fd6e,__wbindgen_init_externref_table});\n", "\n/* !!! This is code generated by Prisma. Do not edit directly. !!!\n/* eslint-disable */\n// biome-ignore-all lint: generated file\nexport default import('./query_compiler_bg.wasm')", "\n/* !!! This is code generated by Prisma. Do not edit directly. !!!\n/* eslint-disable */\n// biome-ignore-all lint: generated file\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nconst {\n  PrismaClientKnownRequestError,\n  PrismaClientUnknownRequestError,\n  PrismaClientRustPanicError,\n  PrismaClientInitializationError,\n  PrismaClientValidationError,\n  getPrismaClient,\n  sqltag,\n  empty,\n  join,\n  raw,\n  skip,\n  Decimal,\n  Debug,\n  DbNull,\n  JsonNull,\n  AnyNull,\n  NullTypes,\n  makeStrictEnum,\n  Extensions,\n  warnOnce,\n  defineDmmfProperty,\n  Public,\n  getRuntime,\n  createParam,\n} = require('./runtime/wasm-compiler-edge.js')\n\n\nconst Prisma = {}\n\nexports.Prisma = Prisma\nexports.$Enums = {}\n\n/**\n * Prisma Client JS version: 7.2.0\n * Query Engine version: 0c8ef2ce45c83248ab3df073180d5eda9e8be7a3\n */\nPrisma.prismaVersion = {\n  client: \"7.2.0\",\n  engine: \"0c8ef2ce45c83248ab3df073180d5eda9e8be7a3\"\n}\n\nPrisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;\nPrisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError\nPrisma.PrismaClientRustPanicError = PrismaClientRustPanicError\nPrisma.PrismaClientInitializationError = PrismaClientInitializationError\nPrisma.PrismaClientValidationError = PrismaClientValidationError\nPrisma.Decimal = Decimal\n\n/**\n * Re-export of sql-template-tag\n */\nPrisma.sql = sqltag\nPrisma.empty = empty\nPrisma.join = join\nPrisma.raw = raw\nPrisma.validator = Public.validator\n\n/**\n* Extensions\n*/\nPrisma.getExtensionContext = Extensions.getExtensionContext\nPrisma.defineExtension = Extensions.defineExtension\n\n/**\n * Shorthand utilities for JSON filtering\n */\nPrisma.DbNull = DbNull\nPrisma.JsonNull = JsonNull\nPrisma.AnyNull = AnyNull\n\nPrisma.NullTypes = NullTypes\n\n\n\n\n\n/**\n * Enums\n */\nexports.Prisma.TransactionIsolationLevel = makeStrictEnum({\n  Serializable: 'Serializable'\n});\n\nexports.Prisma.ActorScalarFieldEnum = {\n  apId: 'apId',\n  type: 'type',\n  preferredUsername: 'preferredUsername',\n  name: 'name',\n  summary: 'summary',\n  iconUrl: 'iconUrl',\n  headerUrl: 'headerUrl',\n  inbox: 'inbox',\n  outbox: 'outbox',\n  followersUrl: 'followersUrl',\n  followingUrl: 'followingUrl',\n  publicKeyPem: 'publicKeyPem',\n  privateKeyPem: 'privateKeyPem',\n  takosUserId: 'takosUserId',\n  followerCount: 'followerCount',\n  followingCount: 'followingCount',\n  postCount: 'postCount',\n  isPrivate: 'isPrivate',\n  role: 'role',\n  createdAt: 'createdAt',\n  updatedAt: 'updatedAt'\n};\n\nexports.Prisma.ActorCacheScalarFieldEnum = {\n  apId: 'apId',\n  type: 'type',\n  preferredUsername: 'preferredUsername',\n  name: 'name',\n  summary: 'summary',\n  iconUrl: 'iconUrl',\n  inbox: 'inbox',\n  outbox: 'outbox',\n  followersUrl: 'followersUrl',\n  followingUrl: 'followingUrl',\n  sharedInbox: 'sharedInbox',\n  publicKeyId: 'publicKeyId',\n  publicKeyPem: 'publicKeyPem',\n  rawJson: 'rawJson',\n  lastFetchedAt: 'lastFetchedAt',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.ObjectScalarFieldEnum = {\n  apId: 'apId',\n  type: 'type',\n  attributedTo: 'attributedTo',\n  content: 'content',\n  summary: 'summary',\n  attachmentsJson: 'attachmentsJson',\n  inReplyTo: 'inReplyTo',\n  conversation: 'conversation',\n  visibility: 'visibility',\n  toJson: 'toJson',\n  ccJson: 'ccJson',\n  audienceJson: 'audienceJson',\n  communityApId: 'communityApId',\n  endTime: 'endTime',\n  likeCount: 'likeCount',\n  replyCount: 'replyCount',\n  announceCount: 'announceCount',\n  shareCount: 'shareCount',\n  published: 'published',\n  updated: 'updated',\n  isLocal: 'isLocal',\n  rawJson: 'rawJson'\n};\n\nexports.Prisma.FollowScalarFieldEnum = {\n  followerApId: 'followerApId',\n  followingApId: 'followingApId',\n  status: 'status',\n  activityApId: 'activityApId',\n  createdAt: 'createdAt',\n  acceptedAt: 'acceptedAt'\n};\n\nexports.Prisma.LikeScalarFieldEnum = {\n  actorApId: 'actorApId',\n  objectApId: 'objectApId',\n  activityApId: 'activityApId',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.AnnounceScalarFieldEnum = {\n  actorApId: 'actorApId',\n  objectApId: 'objectApId',\n  activityApId: 'activityApId',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.BookmarkScalarFieldEnum = {\n  actorApId: 'actorApId',\n  objectApId: 'objectApId',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.BlockScalarFieldEnum = {\n  blockerApId: 'blockerApId',\n  blockedApId: 'blockedApId',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.MuteScalarFieldEnum = {\n  muterApId: 'muterApId',\n  mutedApId: 'mutedApId',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.ActivityScalarFieldEnum = {\n  apId: 'apId',\n  type: 'type',\n  actorApId: 'actorApId',\n  objectApId: 'objectApId',\n  objectJson: 'objectJson',\n  targetApId: 'targetApId',\n  rawJson: 'rawJson',\n  direction: 'direction',\n  processed: 'processed',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.DeliveryQueueScalarFieldEnum = {\n  id: 'id',\n  activityApId: 'activityApId',\n  inboxUrl: 'inboxUrl',\n  attempts: 'attempts',\n  lastAttemptAt: 'lastAttemptAt',\n  nextAttemptAt: 'nextAttemptAt',\n  error: 'error',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.CommunityScalarFieldEnum = {\n  apId: 'apId',\n  type: 'type',\n  preferredUsername: 'preferredUsername',\n  name: 'name',\n  summary: 'summary',\n  iconUrl: 'iconUrl',\n  inbox: 'inbox',\n  outbox: 'outbox',\n  followersUrl: 'followersUrl',\n  visibility: 'visibility',\n  joinPolicy: 'joinPolicy',\n  postPolicy: 'postPolicy',\n  publicKeyPem: 'publicKeyPem',\n  privateKeyPem: 'privateKeyPem',\n  createdBy: 'createdBy',\n  memberCount: 'memberCount',\n  createdAt: 'createdAt',\n  lastMessageAt: 'lastMessageAt'\n};\n\nexports.Prisma.CommunityMemberScalarFieldEnum = {\n  communityApId: 'communityApId',\n  actorApId: 'actorApId',\n  role: 'role',\n  joinedAt: 'joinedAt'\n};\n\nexports.Prisma.CommunityJoinRequestScalarFieldEnum = {\n  communityApId: 'communityApId',\n  actorApId: 'actorApId',\n  status: 'status',\n  createdAt: 'createdAt',\n  processedAt: 'processedAt'\n};\n\nexports.Prisma.CommunityInviteScalarFieldEnum = {\n  id: 'id',\n  communityApId: 'communityApId',\n  invitedByApId: 'invitedByApId',\n  invitedApId: 'invitedApId',\n  createdAt: 'createdAt',\n  expiresAt: 'expiresAt',\n  usedAt: 'usedAt',\n  usedByApId: 'usedByApId'\n};\n\nexports.Prisma.ObjectRecipientScalarFieldEnum = {\n  objectApId: 'objectApId',\n  recipientApId: 'recipientApId',\n  type: 'type',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.InboxScalarFieldEnum = {\n  actorApId: 'actorApId',\n  activityApId: 'activityApId',\n  read: 'read',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.SessionScalarFieldEnum = {\n  id: 'id',\n  memberId: 'memberId',\n  accessToken: 'accessToken',\n  refreshToken: 'refreshToken',\n  expiresAt: 'expiresAt',\n  createdAt: 'createdAt',\n  provider: 'provider',\n  providerAccessToken: 'providerAccessToken',\n  providerRefreshToken: 'providerRefreshToken',\n  providerTokenExpiresAt: 'providerTokenExpiresAt'\n};\n\nexports.Prisma.StoryViewScalarFieldEnum = {\n  actorApId: 'actorApId',\n  storyApId: 'storyApId',\n  viewedAt: 'viewedAt'\n};\n\nexports.Prisma.StoryVoteScalarFieldEnum = {\n  id: 'id',\n  storyApId: 'storyApId',\n  actorApId: 'actorApId',\n  optionIndex: 'optionIndex',\n  createdAt: 'createdAt'\n};\n\nexports.Prisma.StoryShareScalarFieldEnum = {\n  id: 'id',\n  storyApId: 'storyApId',\n  actorApId: 'actorApId',\n  sharedAt: 'sharedAt'\n};\n\nexports.Prisma.NotificationArchivedScalarFieldEnum = {\n  actorApId: 'actorApId',\n  activityApId: 'activityApId',\n  archivedAt: 'archivedAt'\n};\n\nexports.Prisma.InstanceActorScalarFieldEnum = {\n  apId: 'apId',\n  preferredUsername: 'preferredUsername',\n  name: 'name',\n  summary: 'summary',\n  publicKeyPem: 'publicKeyPem',\n  privateKeyPem: 'privateKeyPem',\n  joinPolicy: 'joinPolicy',\n  postingPolicy: 'postingPolicy',\n  visibility: 'visibility',\n  createdAt: 'createdAt',\n  updatedAt: 'updatedAt'\n};\n\nexports.Prisma.DmTypingScalarFieldEnum = {\n  actorApId: 'actorApId',\n  recipientApId: 'recipientApId',\n  lastTypedAt: 'lastTypedAt'\n};\n\nexports.Prisma.DmReadStatusScalarFieldEnum = {\n  actorApId: 'actorApId',\n  conversationId: 'conversationId',\n  lastReadAt: 'lastReadAt'\n};\n\nexports.Prisma.DmArchivedConversationScalarFieldEnum = {\n  actorApId: 'actorApId',\n  conversationId: 'conversationId',\n  archivedAt: 'archivedAt'\n};\n\nexports.Prisma.SortOrder = {\n  asc: 'asc',\n  desc: 'desc'\n};\n\nexports.Prisma.NullsOrder = {\n  first: 'first',\n  last: 'last'\n};\n\n\nexports.Prisma.ModelName = {\n  Actor: 'Actor',\n  ActorCache: 'ActorCache',\n  Object: 'Object',\n  Follow: 'Follow',\n  Like: 'Like',\n  Announce: 'Announce',\n  Bookmark: 'Bookmark',\n  Block: 'Block',\n  Mute: 'Mute',\n  Activity: 'Activity',\n  DeliveryQueue: 'DeliveryQueue',\n  Community: 'Community',\n  CommunityMember: 'CommunityMember',\n  CommunityJoinRequest: 'CommunityJoinRequest',\n  CommunityInvite: 'CommunityInvite',\n  ObjectRecipient: 'ObjectRecipient',\n  Inbox: 'Inbox',\n  Session: 'Session',\n  StoryView: 'StoryView',\n  StoryVote: 'StoryVote',\n  StoryShare: 'StoryShare',\n  NotificationArchived: 'NotificationArchived',\n  InstanceActor: 'InstanceActor',\n  DmTyping: 'DmTyping',\n  DmReadStatus: 'DmReadStatus',\n  DmArchivedConversation: 'DmArchivedConversation'\n};\n/**\n * Create the Client\n */\nconst config = {\n  \"previewFeatures\": [],\n  \"clientVersion\": \"7.2.0\",\n  \"engineVersion\": \"0c8ef2ce45c83248ab3df073180d5eda9e8be7a3\",\n  \"activeProvider\": \"sqlite\",\n  \"inlineSchema\": \"// Yurucommu Database Schema\\n// Prisma with SQLite/D1 support for multi-runtime\\n\\ngenerator client {\\n  provider = \\\"prisma-client-js\\\"\\n  output   = \\\"../src/generated/prisma\\\"\\n}\\n\\ndatasource db {\\n  provider = \\\"sqlite\\\"\\n}\\n\\n// ============================================================\\n// ACTORS (Local accounts - Person type)\\n// ============================================================\\nmodel Actor {\\n  apId              String  @id @map(\\\"ap_id\\\")\\n  type              String  @default(\\\"Person\\\")\\n  preferredUsername String  @unique @map(\\\"preferred_username\\\")\\n  name              String?\\n  summary           String?\\n  iconUrl           String? @map(\\\"icon_url\\\")\\n  headerUrl         String? @map(\\\"header_url\\\")\\n  inbox             String\\n  outbox            String\\n  followersUrl      String  @map(\\\"followers_url\\\")\\n  followingUrl      String  @map(\\\"following_url\\\")\\n  publicKeyPem      String  @map(\\\"public_key_pem\\\")\\n  privateKeyPem     String  @map(\\\"private_key_pem\\\")\\n  takosUserId       String? @unique @map(\\\"takos_user_id\\\")\\n  followerCount     Int     @default(0) @map(\\\"follower_count\\\")\\n  followingCount    Int     @default(0) @map(\\\"following_count\\\")\\n  postCount         Int     @default(0) @map(\\\"post_count\\\")\\n  isPrivate         Int     @default(0) @map(\\\"is_private\\\")\\n  role              String  @default(\\\"member\\\")\\n  createdAt         String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n  updatedAt         String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"updated_at\\\")\\n\\n  // Relations\\n  sessions              Session[]\\n  objectsAuthored       Object[]               @relation(\\\"AuthoredObjects\\\")\\n  followsAsFollower     Follow[]               @relation(\\\"FollowerFollows\\\")\\n  followsAsFollowing    Follow[]               @relation(\\\"FollowingFollows\\\")\\n  likes                 Like[]\\n  announces             Announce[]\\n  bookmarks             Bookmark[]\\n  blocksAsBlocker       Block[]                @relation(\\\"BlockerBlocks\\\")\\n  blocksAsBlocked       Block[]                @relation(\\\"BlockedBlocks\\\")\\n  mutesAsMuter          Mute[]                 @relation(\\\"MuterMutes\\\")\\n  mutesAsMuted          Mute[]                 @relation(\\\"MutedMutes\\\")\\n  activities            Activity[]\\n  storyViews            StoryView[]\\n  storyVotes            StoryVote[]\\n  storyShares           StoryShare[]\\n  communityMemberships  CommunityMember[]\\n  communityJoinRequests CommunityJoinRequest[]\\n  communityInvites      CommunityInvite[]      @relation(\\\"InvitedByActor\\\")\\n  inboxItems            Inbox[]\\n  objectRecipients      ObjectRecipient[]\\n\\n  @@index([preferredUsername])\\n  @@index([takosUserId])\\n  @@map(\\\"actors\\\")\\n}\\n\\n// ============================================================\\n// ACTOR_CACHE (Remote actors - cached from federation)\\n// ============================================================\\nmodel ActorCache {\\n  apId              String  @id @map(\\\"ap_id\\\")\\n  type              String  @default(\\\"Person\\\")\\n  preferredUsername String? @map(\\\"preferred_username\\\")\\n  name              String?\\n  summary           String?\\n  iconUrl           String? @map(\\\"icon_url\\\")\\n  inbox             String\\n  outbox            String?\\n  followersUrl      String? @map(\\\"followers_url\\\")\\n  followingUrl      String? @map(\\\"following_url\\\")\\n  sharedInbox       String? @map(\\\"shared_inbox\\\")\\n  publicKeyId       String? @map(\\\"public_key_id\\\")\\n  publicKeyPem      String? @map(\\\"public_key_pem\\\")\\n  rawJson           String  @map(\\\"raw_json\\\")\\n  lastFetchedAt     String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"last_fetched_at\\\")\\n  createdAt         String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  @@map(\\\"actor_cache\\\")\\n}\\n\\n// ============================================================\\n// OBJECTS (All AP objects - Note, Article, etc.)\\n// ============================================================\\nmodel Object {\\n  apId            String  @id @map(\\\"ap_id\\\")\\n  type            String  @default(\\\"Note\\\")\\n  attributedTo    String  @map(\\\"attributed_to\\\")\\n  content         String  @default(\\\"\\\")\\n  summary         String?\\n  attachmentsJson String  @default(\\\"[]\\\") @map(\\\"attachments_json\\\")\\n  inReplyTo       String? @map(\\\"in_reply_to\\\")\\n  conversation    String?\\n  visibility      String  @default(\\\"public\\\")\\n  toJson          String  @default(\\\"[]\\\") @map(\\\"to_json\\\")\\n  ccJson          String  @default(\\\"[]\\\") @map(\\\"cc_json\\\")\\n  audienceJson    String  @default(\\\"[]\\\") @map(\\\"audience_json\\\")\\n  communityApId   String? @map(\\\"community_ap_id\\\")\\n  endTime         String? @map(\\\"end_time\\\")\\n  likeCount       Int     @default(0) @map(\\\"like_count\\\")\\n  replyCount      Int     @default(0) @map(\\\"reply_count\\\")\\n  announceCount   Int     @default(0) @map(\\\"announce_count\\\")\\n  shareCount      Int     @default(0) @map(\\\"share_count\\\")\\n  published       String  @default(dbgenerated(\\\"datetime('now')\\\"))\\n  updated         String?\\n  isLocal         Int     @default(1) @map(\\\"is_local\\\")\\n  rawJson         String? @map(\\\"raw_json\\\")\\n\\n  // Relations\\n  author      Actor             @relation(\\\"AuthoredObjects\\\", fields: [attributedTo], references: [apId], onDelete: Cascade)\\n  community   Community?        @relation(fields: [communityApId], references: [apId], onDelete: SetNull)\\n  likes       Like[]\\n  announces   Announce[]\\n  bookmarks   Bookmark[]\\n  storyViews  StoryView[]\\n  storyVotes  StoryVote[]\\n  storyShares StoryShare[]\\n  recipients  ObjectRecipient[]\\n  activities  Activity[]\\n\\n  @@index([attributedTo])\\n  @@index([inReplyTo])\\n  @@index([communityApId])\\n  @@index([published(sort: Desc)])\\n  @@index([visibility])\\n  @@index([endTime])\\n  // Compound indexes for common query patterns\\n  @@index([attributedTo, published(sort: Desc)])\\n  @@index([visibility, published(sort: Desc)])\\n  @@index([type, visibility, published(sort: Desc)])\\n  @@map(\\\"objects\\\")\\n}\\n\\n// ============================================================\\n// FOLLOWS\\n// ============================================================\\nmodel Follow {\\n  followerApId  String  @map(\\\"follower_ap_id\\\")\\n  followingApId String  @map(\\\"following_ap_id\\\")\\n  status        String  @default(\\\"pending\\\")\\n  activityApId  String? @map(\\\"activity_ap_id\\\")\\n  createdAt     String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n  acceptedAt    String? @map(\\\"accepted_at\\\")\\n\\n  // Relations\\n  follower  Actor @relation(\\\"FollowerFollows\\\", fields: [followerApId], references: [apId], onDelete: Cascade)\\n  following Actor @relation(\\\"FollowingFollows\\\", fields: [followingApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([followerApId, followingApId])\\n  @@index([followerApId, status])\\n  @@index([followingApId, status])\\n  @@map(\\\"follows\\\")\\n}\\n\\n// ============================================================\\n// LIKES\\n// ============================================================\\nmodel Like {\\n  actorApId    String  @map(\\\"actor_ap_id\\\")\\n  objectApId   String  @map(\\\"object_ap_id\\\")\\n  activityApId String? @map(\\\"activity_ap_id\\\")\\n  createdAt    String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  // Relations\\n  actor  Actor  @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n  object Object @relation(fields: [objectApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([actorApId, objectApId])\\n  @@index([objectApId])\\n  @@index([actorApId])\\n  @@map(\\\"likes\\\")\\n}\\n\\n// ============================================================\\n// ANNOUNCES (Reposts/Boosts)\\n// ============================================================\\nmodel Announce {\\n  actorApId    String  @map(\\\"actor_ap_id\\\")\\n  objectApId   String  @map(\\\"object_ap_id\\\")\\n  activityApId String? @map(\\\"activity_ap_id\\\")\\n  createdAt    String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  // Relations\\n  actor  Actor  @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n  object Object @relation(fields: [objectApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([actorApId, objectApId])\\n  @@index([objectApId])\\n  @@index([actorApId])\\n  @@map(\\\"announces\\\")\\n}\\n\\n// ============================================================\\n// BOOKMARKS\\n// ============================================================\\nmodel Bookmark {\\n  actorApId  String @map(\\\"actor_ap_id\\\")\\n  objectApId String @map(\\\"object_ap_id\\\")\\n  createdAt  String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  // Relations\\n  actor  Actor  @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n  object Object @relation(fields: [objectApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([actorApId, objectApId])\\n  @@index([actorApId])\\n  @@map(\\\"bookmarks\\\")\\n}\\n\\n// ============================================================\\n// BLOCKS\\n// ============================================================\\nmodel Block {\\n  blockerApId String @map(\\\"blocker_ap_id\\\")\\n  blockedApId String @map(\\\"blocked_ap_id\\\")\\n  createdAt   String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  // Relations\\n  blocker Actor @relation(\\\"BlockerBlocks\\\", fields: [blockerApId], references: [apId], onDelete: Cascade)\\n  blocked Actor @relation(\\\"BlockedBlocks\\\", fields: [blockedApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([blockerApId, blockedApId])\\n  @@index([blockerApId])\\n  @@index([blockedApId])\\n  @@map(\\\"blocks\\\")\\n}\\n\\n// ============================================================\\n// MUTES\\n// ============================================================\\nmodel Mute {\\n  muterApId String @map(\\\"muter_ap_id\\\")\\n  mutedApId String @map(\\\"muted_ap_id\\\")\\n  createdAt String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  // Relations\\n  muter Actor @relation(\\\"MuterMutes\\\", fields: [muterApId], references: [apId], onDelete: Cascade)\\n  muted Actor @relation(\\\"MutedMutes\\\", fields: [mutedApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([muterApId, mutedApId])\\n  @@index([muterApId])\\n  @@index([mutedApId])\\n  @@map(\\\"mutes\\\")\\n}\\n\\n// ============================================================\\n// ACTIVITIES\\n// ============================================================\\nmodel Activity {\\n  apId       String  @id @map(\\\"ap_id\\\")\\n  type       String\\n  actorApId  String  @map(\\\"actor_ap_id\\\")\\n  objectApId String? @map(\\\"object_ap_id\\\")\\n  objectJson String? @map(\\\"object_json\\\")\\n  targetApId String? @map(\\\"target_ap_id\\\")\\n  rawJson    String  @map(\\\"raw_json\\\")\\n  direction  String?\\n  processed  Int     @default(0)\\n  createdAt  String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  // Relations\\n  actor      Actor   @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n  object     Object? @relation(fields: [objectApId], references: [apId], onDelete: SetNull)\\n  inboxItems Inbox[]\\n\\n  @@index([actorApId])\\n  @@index([objectApId])\\n  @@index([type, createdAt(sort: Desc)])\\n  @@index([direction, processed])\\n  @@map(\\\"activities\\\")\\n}\\n\\n// ============================================================\\n// DELIVERY_QUEUE\\n// ============================================================\\nmodel DeliveryQueue {\\n  id            String  @id\\n  activityApId  String  @map(\\\"activity_ap_id\\\")\\n  inboxUrl      String  @map(\\\"inbox_url\\\")\\n  attempts      Int     @default(0)\\n  lastAttemptAt String? @map(\\\"last_attempt_at\\\")\\n  nextAttemptAt String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"next_attempt_at\\\")\\n  error         String?\\n  createdAt     String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  @@index([nextAttemptAt])\\n  @@map(\\\"delivery_queue\\\")\\n}\\n\\n// ============================================================\\n// COMMUNITIES\\n// ============================================================\\nmodel Community {\\n  apId              String  @id @map(\\\"ap_id\\\")\\n  type              String  @default(\\\"Group\\\")\\n  preferredUsername String  @unique @map(\\\"preferred_username\\\")\\n  name              String\\n  summary           String?\\n  iconUrl           String? @map(\\\"icon_url\\\")\\n  inbox             String\\n  outbox            String\\n  followersUrl      String  @map(\\\"followers_url\\\")\\n  visibility        String  @default(\\\"public\\\")\\n  joinPolicy        String  @default(\\\"open\\\") @map(\\\"join_policy\\\")\\n  postPolicy        String  @default(\\\"members\\\") @map(\\\"post_policy\\\")\\n  publicKeyPem      String  @map(\\\"public_key_pem\\\")\\n  privateKeyPem     String  @map(\\\"private_key_pem\\\")\\n  createdBy         String  @map(\\\"created_by\\\")\\n  memberCount       Int     @default(0) @map(\\\"member_count\\\")\\n  createdAt         String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n  lastMessageAt     String? @map(\\\"last_message_at\\\")\\n\\n  // Relations\\n  members      CommunityMember[]\\n  objects      Object[]\\n  joinRequests CommunityJoinRequest[]\\n  invites      CommunityInvite[]\\n\\n  @@map(\\\"communities\\\")\\n}\\n\\n// ============================================================\\n// COMMUNITY_MEMBERS\\n// ============================================================\\nmodel CommunityMember {\\n  communityApId String @map(\\\"community_ap_id\\\")\\n  actorApId     String @map(\\\"actor_ap_id\\\")\\n  role          String @default(\\\"member\\\")\\n  joinedAt      String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"joined_at\\\")\\n\\n  // Relations\\n  community Community @relation(fields: [communityApId], references: [apId], onDelete: Cascade)\\n  actor     Actor     @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([communityApId, actorApId])\\n  @@index([actorApId])\\n  @@map(\\\"community_members\\\")\\n}\\n\\n// ============================================================\\n// COMMUNITY_JOIN_REQUESTS\\n// ============================================================\\nmodel CommunityJoinRequest {\\n  communityApId String  @map(\\\"community_ap_id\\\")\\n  actorApId     String  @map(\\\"actor_ap_id\\\")\\n  status        String  @default(\\\"pending\\\")\\n  createdAt     String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n  processedAt   String? @map(\\\"processed_at\\\")\\n\\n  // Relations\\n  community Community @relation(fields: [communityApId], references: [apId], onDelete: Cascade)\\n  actor     Actor     @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([communityApId, actorApId])\\n  @@index([communityApId, status])\\n  @@index([actorApId])\\n  @@map(\\\"community_join_requests\\\")\\n}\\n\\n// ============================================================\\n// COMMUNITY_INVITES\\n// ============================================================\\nmodel CommunityInvite {\\n  id            String  @id\\n  communityApId String  @map(\\\"community_ap_id\\\")\\n  invitedByApId String  @map(\\\"invited_by_ap_id\\\")\\n  invitedApId   String? @map(\\\"invited_ap_id\\\")\\n  createdAt     String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n  expiresAt     String? @map(\\\"expires_at\\\")\\n  usedAt        String? @map(\\\"used_at\\\")\\n  usedByApId    String? @map(\\\"used_by_ap_id\\\")\\n\\n  // Relations\\n  community Community @relation(fields: [communityApId], references: [apId], onDelete: Cascade)\\n  invitedBy Actor     @relation(\\\"InvitedByActor\\\", fields: [invitedByApId], references: [apId], onDelete: Cascade)\\n\\n  @@index([communityApId])\\n  @@index([invitedByApId])\\n  @@map(\\\"community_invites\\\")\\n}\\n\\n// ============================================================\\n// OBJECT_RECIPIENTS\\n// ============================================================\\nmodel ObjectRecipient {\\n  objectApId    String @map(\\\"object_ap_id\\\")\\n  recipientApId String @map(\\\"recipient_ap_id\\\")\\n  type          String\\n  createdAt     String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  // Relations\\n  object    Object @relation(fields: [objectApId], references: [apId], onDelete: Cascade)\\n  recipient Actor  @relation(fields: [recipientApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([objectApId, recipientApId])\\n  @@index([recipientApId, createdAt(sort: Desc)])\\n  @@map(\\\"object_recipients\\\")\\n}\\n\\n// ============================================================\\n// INBOX\\n// ============================================================\\nmodel Inbox {\\n  actorApId    String @map(\\\"actor_ap_id\\\")\\n  activityApId String @map(\\\"activity_ap_id\\\")\\n  read         Int    @default(0)\\n  createdAt    String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  // Relations\\n  actor    Actor    @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n  activity Activity @relation(fields: [activityApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([actorApId, activityApId])\\n  @@index([actorApId, read, createdAt(sort: Desc)])\\n  @@index([activityApId])\\n  @@map(\\\"inbox\\\")\\n}\\n\\n// ============================================================\\n// SESSIONS\\n// ============================================================\\nmodel Session {\\n  id                     String  @id\\n  memberId               String  @map(\\\"member_id\\\")\\n  accessToken            String  @map(\\\"access_token\\\")\\n  refreshToken           String? @map(\\\"refresh_token\\\")\\n  expiresAt              String  @map(\\\"expires_at\\\")\\n  createdAt              String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n  provider               String?\\n  providerAccessToken    String? @map(\\\"provider_access_token\\\")\\n  providerRefreshToken   String? @map(\\\"provider_refresh_token\\\")\\n  providerTokenExpiresAt String? @map(\\\"provider_token_expires_at\\\")\\n\\n  // Relations\\n  member Actor @relation(fields: [memberId], references: [apId], onDelete: Cascade)\\n\\n  @@index([memberId])\\n  @@index([provider])\\n  @@index([expiresAt])\\n  @@map(\\\"sessions\\\")\\n}\\n\\n// ============================================================\\n// STORY_VIEWS\\n// ============================================================\\nmodel StoryView {\\n  actorApId String @map(\\\"actor_ap_id\\\")\\n  storyApId String @map(\\\"story_ap_id\\\")\\n  viewedAt  String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"viewed_at\\\")\\n\\n  // Relations\\n  actor Actor  @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n  story Object @relation(fields: [storyApId], references: [apId], onDelete: Cascade)\\n\\n  @@id([actorApId, storyApId])\\n  @@index([actorApId])\\n  @@index([storyApId])\\n  @@map(\\\"story_views\\\")\\n}\\n\\n// ============================================================\\n// STORY_VOTES\\n// ============================================================\\nmodel StoryVote {\\n  id          String @id\\n  storyApId   String @map(\\\"story_ap_id\\\")\\n  actorApId   String @map(\\\"actor_ap_id\\\")\\n  optionIndex Int    @map(\\\"option_index\\\")\\n  createdAt   String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n\\n  // Relations\\n  actor Actor  @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n  story Object @relation(fields: [storyApId], references: [apId], onDelete: Cascade)\\n\\n  @@unique([storyApId, actorApId])\\n  @@index([storyApId])\\n  @@index([actorApId])\\n  @@map(\\\"story_votes\\\")\\n}\\n\\n// ============================================================\\n// STORY_SHARES\\n// ============================================================\\nmodel StoryShare {\\n  id        String @id\\n  storyApId String @map(\\\"story_ap_id\\\")\\n  actorApId String @map(\\\"actor_ap_id\\\")\\n  sharedAt  String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"shared_at\\\")\\n\\n  // Relations\\n  actor Actor  @relation(fields: [actorApId], references: [apId], onDelete: Cascade)\\n  story Object @relation(fields: [storyApId], references: [apId], onDelete: Cascade)\\n\\n  @@unique([storyApId, actorApId])\\n  @@index([storyApId])\\n  @@index([actorApId])\\n  @@map(\\\"story_shares\\\")\\n}\\n\\n// ============================================================\\n// NOTIFICATION_ARCHIVED\\n// ============================================================\\nmodel NotificationArchived {\\n  actorApId    String @map(\\\"actor_ap_id\\\")\\n  activityApId String @map(\\\"activity_ap_id\\\")\\n  archivedAt   String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"archived_at\\\")\\n\\n  @@id([actorApId, activityApId])\\n  @@index([actorApId])\\n  @@map(\\\"notification_archived\\\")\\n}\\n\\n// ============================================================\\n// INSTANCE_ACTOR\\n// ============================================================\\nmodel InstanceActor {\\n  apId              String  @id @map(\\\"ap_id\\\")\\n  preferredUsername String  @map(\\\"preferred_username\\\")\\n  name              String?\\n  summary           String?\\n  publicKeyPem      String  @map(\\\"public_key_pem\\\")\\n  privateKeyPem     String  @map(\\\"private_key_pem\\\")\\n  joinPolicy        String  @default(\\\"open\\\") @map(\\\"join_policy\\\")\\n  postingPolicy     String  @default(\\\"members\\\") @map(\\\"posting_policy\\\")\\n  visibility        String  @default(\\\"public\\\")\\n  createdAt         String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"created_at\\\")\\n  updatedAt         String  @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"updated_at\\\")\\n\\n  @@map(\\\"instance_actor\\\")\\n}\\n\\n// ============================================================\\n// DM_TYPING\\n// ============================================================\\nmodel DmTyping {\\n  actorApId     String @map(\\\"actor_ap_id\\\")\\n  recipientApId String @map(\\\"recipient_ap_id\\\")\\n  lastTypedAt   String @map(\\\"last_typed_at\\\")\\n\\n  @@id([actorApId, recipientApId])\\n  @@index([recipientApId, lastTypedAt(sort: Desc)])\\n  @@map(\\\"dm_typing\\\")\\n}\\n\\n// ============================================================\\n// DM_READ_STATUS\\n// ============================================================\\nmodel DmReadStatus {\\n  actorApId      String @map(\\\"actor_ap_id\\\")\\n  conversationId String @map(\\\"conversation_id\\\")\\n  lastReadAt     String @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"last_read_at\\\")\\n\\n  @@id([actorApId, conversationId])\\n  @@index([actorApId])\\n  @@index([actorApId, lastReadAt(sort: Desc)])\\n  @@map(\\\"dm_read_status\\\")\\n}\\n\\n// ============================================================\\n// DM_ARCHIVED_CONVERSATIONS\\n// ============================================================\\nmodel DmArchivedConversation {\\n  actorApId      String  @map(\\\"actor_ap_id\\\")\\n  conversationId String  @map(\\\"conversation_id\\\")\\n  archivedAt     String? @default(dbgenerated(\\\"datetime('now')\\\")) @map(\\\"archived_at\\\")\\n\\n  @@id([actorApId, conversationId])\\n  @@index([actorApId])\\n  @@map(\\\"dm_archived_conversations\\\")\\n}\\n\"\n}\n\nconfig.runtimeDataModel = JSON.parse(\"{\\\"models\\\":{\\\"Actor\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"apId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"ap_id\\\"},{\\\"name\\\":\\\"type\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"preferredUsername\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"preferred_username\\\"},{\\\"name\\\":\\\"name\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"summary\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"iconUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"icon_url\\\"},{\\\"name\\\":\\\"headerUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"header_url\\\"},{\\\"name\\\":\\\"inbox\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"outbox\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"followersUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"followers_url\\\"},{\\\"name\\\":\\\"followingUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"following_url\\\"},{\\\"name\\\":\\\"publicKeyPem\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"public_key_pem\\\"},{\\\"name\\\":\\\"privateKeyPem\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"private_key_pem\\\"},{\\\"name\\\":\\\"takosUserId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"takos_user_id\\\"},{\\\"name\\\":\\\"followerCount\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"follower_count\\\"},{\\\"name\\\":\\\"followingCount\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"following_count\\\"},{\\\"name\\\":\\\"postCount\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"post_count\\\"},{\\\"name\\\":\\\"isPrivate\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"is_private\\\"},{\\\"name\\\":\\\"role\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"updatedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"updated_at\\\"},{\\\"name\\\":\\\"sessions\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Session\\\",\\\"relationName\\\":\\\"ActorToSession\\\"},{\\\"name\\\":\\\"objectsAuthored\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"AuthoredObjects\\\"},{\\\"name\\\":\\\"followsAsFollower\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Follow\\\",\\\"relationName\\\":\\\"FollowerFollows\\\"},{\\\"name\\\":\\\"followsAsFollowing\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Follow\\\",\\\"relationName\\\":\\\"FollowingFollows\\\"},{\\\"name\\\":\\\"likes\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Like\\\",\\\"relationName\\\":\\\"ActorToLike\\\"},{\\\"name\\\":\\\"announces\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Announce\\\",\\\"relationName\\\":\\\"ActorToAnnounce\\\"},{\\\"name\\\":\\\"bookmarks\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Bookmark\\\",\\\"relationName\\\":\\\"ActorToBookmark\\\"},{\\\"name\\\":\\\"blocksAsBlocker\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Block\\\",\\\"relationName\\\":\\\"BlockerBlocks\\\"},{\\\"name\\\":\\\"blocksAsBlocked\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Block\\\",\\\"relationName\\\":\\\"BlockedBlocks\\\"},{\\\"name\\\":\\\"mutesAsMuter\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Mute\\\",\\\"relationName\\\":\\\"MuterMutes\\\"},{\\\"name\\\":\\\"mutesAsMuted\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Mute\\\",\\\"relationName\\\":\\\"MutedMutes\\\"},{\\\"name\\\":\\\"activities\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Activity\\\",\\\"relationName\\\":\\\"ActivityToActor\\\"},{\\\"name\\\":\\\"storyViews\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"StoryView\\\",\\\"relationName\\\":\\\"ActorToStoryView\\\"},{\\\"name\\\":\\\"storyVotes\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"StoryVote\\\",\\\"relationName\\\":\\\"ActorToStoryVote\\\"},{\\\"name\\\":\\\"storyShares\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"StoryShare\\\",\\\"relationName\\\":\\\"ActorToStoryShare\\\"},{\\\"name\\\":\\\"communityMemberships\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"CommunityMember\\\",\\\"relationName\\\":\\\"ActorToCommunityMember\\\"},{\\\"name\\\":\\\"communityJoinRequests\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"CommunityJoinRequest\\\",\\\"relationName\\\":\\\"ActorToCommunityJoinRequest\\\"},{\\\"name\\\":\\\"communityInvites\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"CommunityInvite\\\",\\\"relationName\\\":\\\"InvitedByActor\\\"},{\\\"name\\\":\\\"inboxItems\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Inbox\\\",\\\"relationName\\\":\\\"ActorToInbox\\\"},{\\\"name\\\":\\\"objectRecipients\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"ObjectRecipient\\\",\\\"relationName\\\":\\\"ActorToObjectRecipient\\\"}],\\\"dbName\\\":\\\"actors\\\"},\\\"ActorCache\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"apId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"ap_id\\\"},{\\\"name\\\":\\\"type\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"preferredUsername\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"preferred_username\\\"},{\\\"name\\\":\\\"name\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"summary\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"iconUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"icon_url\\\"},{\\\"name\\\":\\\"inbox\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"outbox\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"followersUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"followers_url\\\"},{\\\"name\\\":\\\"followingUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"following_url\\\"},{\\\"name\\\":\\\"sharedInbox\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"shared_inbox\\\"},{\\\"name\\\":\\\"publicKeyId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"public_key_id\\\"},{\\\"name\\\":\\\"publicKeyPem\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"public_key_pem\\\"},{\\\"name\\\":\\\"rawJson\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"raw_json\\\"},{\\\"name\\\":\\\"lastFetchedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"last_fetched_at\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"}],\\\"dbName\\\":\\\"actor_cache\\\"},\\\"Object\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"apId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"ap_id\\\"},{\\\"name\\\":\\\"type\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"attributedTo\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"attributed_to\\\"},{\\\"name\\\":\\\"content\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"summary\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"attachmentsJson\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"attachments_json\\\"},{\\\"name\\\":\\\"inReplyTo\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"in_reply_to\\\"},{\\\"name\\\":\\\"conversation\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"visibility\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"toJson\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"to_json\\\"},{\\\"name\\\":\\\"ccJson\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"cc_json\\\"},{\\\"name\\\":\\\"audienceJson\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"audience_json\\\"},{\\\"name\\\":\\\"communityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"community_ap_id\\\"},{\\\"name\\\":\\\"endTime\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"end_time\\\"},{\\\"name\\\":\\\"likeCount\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"like_count\\\"},{\\\"name\\\":\\\"replyCount\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"reply_count\\\"},{\\\"name\\\":\\\"announceCount\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"announce_count\\\"},{\\\"name\\\":\\\"shareCount\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"share_count\\\"},{\\\"name\\\":\\\"published\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"updated\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"isLocal\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"is_local\\\"},{\\\"name\\\":\\\"rawJson\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"raw_json\\\"},{\\\"name\\\":\\\"author\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"AuthoredObjects\\\"},{\\\"name\\\":\\\"community\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Community\\\",\\\"relationName\\\":\\\"CommunityToObject\\\"},{\\\"name\\\":\\\"likes\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Like\\\",\\\"relationName\\\":\\\"LikeToObject\\\"},{\\\"name\\\":\\\"announces\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Announce\\\",\\\"relationName\\\":\\\"AnnounceToObject\\\"},{\\\"name\\\":\\\"bookmarks\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Bookmark\\\",\\\"relationName\\\":\\\"BookmarkToObject\\\"},{\\\"name\\\":\\\"storyViews\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"StoryView\\\",\\\"relationName\\\":\\\"ObjectToStoryView\\\"},{\\\"name\\\":\\\"storyVotes\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"StoryVote\\\",\\\"relationName\\\":\\\"ObjectToStoryVote\\\"},{\\\"name\\\":\\\"storyShares\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"StoryShare\\\",\\\"relationName\\\":\\\"ObjectToStoryShare\\\"},{\\\"name\\\":\\\"recipients\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"ObjectRecipient\\\",\\\"relationName\\\":\\\"ObjectToObjectRecipient\\\"},{\\\"name\\\":\\\"activities\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Activity\\\",\\\"relationName\\\":\\\"ActivityToObject\\\"}],\\\"dbName\\\":\\\"objects\\\"},\\\"Follow\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"followerApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"follower_ap_id\\\"},{\\\"name\\\":\\\"followingApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"following_ap_id\\\"},{\\\"name\\\":\\\"status\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"activityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"activity_ap_id\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"acceptedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"accepted_at\\\"},{\\\"name\\\":\\\"follower\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"FollowerFollows\\\"},{\\\"name\\\":\\\"following\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"FollowingFollows\\\"}],\\\"dbName\\\":\\\"follows\\\"},\\\"Like\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"objectApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"object_ap_id\\\"},{\\\"name\\\":\\\"activityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"activity_ap_id\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToLike\\\"},{\\\"name\\\":\\\"object\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"LikeToObject\\\"}],\\\"dbName\\\":\\\"likes\\\"},\\\"Announce\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"objectApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"object_ap_id\\\"},{\\\"name\\\":\\\"activityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"activity_ap_id\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToAnnounce\\\"},{\\\"name\\\":\\\"object\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"AnnounceToObject\\\"}],\\\"dbName\\\":\\\"announces\\\"},\\\"Bookmark\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"objectApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"object_ap_id\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToBookmark\\\"},{\\\"name\\\":\\\"object\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"BookmarkToObject\\\"}],\\\"dbName\\\":\\\"bookmarks\\\"},\\\"Block\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"blockerApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"blocker_ap_id\\\"},{\\\"name\\\":\\\"blockedApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"blocked_ap_id\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"blocker\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"BlockerBlocks\\\"},{\\\"name\\\":\\\"blocked\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"BlockedBlocks\\\"}],\\\"dbName\\\":\\\"blocks\\\"},\\\"Mute\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"muterApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"muter_ap_id\\\"},{\\\"name\\\":\\\"mutedApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"muted_ap_id\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"muter\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"MuterMutes\\\"},{\\\"name\\\":\\\"muted\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"MutedMutes\\\"}],\\\"dbName\\\":\\\"mutes\\\"},\\\"Activity\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"apId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"ap_id\\\"},{\\\"name\\\":\\\"type\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"objectApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"object_ap_id\\\"},{\\\"name\\\":\\\"objectJson\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"object_json\\\"},{\\\"name\\\":\\\"targetApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"target_ap_id\\\"},{\\\"name\\\":\\\"rawJson\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"raw_json\\\"},{\\\"name\\\":\\\"direction\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"processed\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActivityToActor\\\"},{\\\"name\\\":\\\"object\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"ActivityToObject\\\"},{\\\"name\\\":\\\"inboxItems\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Inbox\\\",\\\"relationName\\\":\\\"ActivityToInbox\\\"}],\\\"dbName\\\":\\\"activities\\\"},\\\"DeliveryQueue\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"activityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"activity_ap_id\\\"},{\\\"name\\\":\\\"inboxUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"inbox_url\\\"},{\\\"name\\\":\\\"attempts\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\"},{\\\"name\\\":\\\"lastAttemptAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"last_attempt_at\\\"},{\\\"name\\\":\\\"nextAttemptAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"next_attempt_at\\\"},{\\\"name\\\":\\\"error\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"}],\\\"dbName\\\":\\\"delivery_queue\\\"},\\\"Community\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"apId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"ap_id\\\"},{\\\"name\\\":\\\"type\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"preferredUsername\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"preferred_username\\\"},{\\\"name\\\":\\\"name\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"summary\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"iconUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"icon_url\\\"},{\\\"name\\\":\\\"inbox\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"outbox\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"followersUrl\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"followers_url\\\"},{\\\"name\\\":\\\"visibility\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"joinPolicy\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"join_policy\\\"},{\\\"name\\\":\\\"postPolicy\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"post_policy\\\"},{\\\"name\\\":\\\"publicKeyPem\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"public_key_pem\\\"},{\\\"name\\\":\\\"privateKeyPem\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"private_key_pem\\\"},{\\\"name\\\":\\\"createdBy\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_by\\\"},{\\\"name\\\":\\\"memberCount\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"member_count\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"lastMessageAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"last_message_at\\\"},{\\\"name\\\":\\\"members\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"CommunityMember\\\",\\\"relationName\\\":\\\"CommunityToCommunityMember\\\"},{\\\"name\\\":\\\"objects\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"CommunityToObject\\\"},{\\\"name\\\":\\\"joinRequests\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"CommunityJoinRequest\\\",\\\"relationName\\\":\\\"CommunityToCommunityJoinRequest\\\"},{\\\"name\\\":\\\"invites\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"CommunityInvite\\\",\\\"relationName\\\":\\\"CommunityToCommunityInvite\\\"}],\\\"dbName\\\":\\\"communities\\\"},\\\"CommunityMember\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"communityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"community_ap_id\\\"},{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"role\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"joinedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"joined_at\\\"},{\\\"name\\\":\\\"community\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Community\\\",\\\"relationName\\\":\\\"CommunityToCommunityMember\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToCommunityMember\\\"}],\\\"dbName\\\":\\\"community_members\\\"},\\\"CommunityJoinRequest\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"communityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"community_ap_id\\\"},{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"status\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"processedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"processed_at\\\"},{\\\"name\\\":\\\"community\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Community\\\",\\\"relationName\\\":\\\"CommunityToCommunityJoinRequest\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToCommunityJoinRequest\\\"}],\\\"dbName\\\":\\\"community_join_requests\\\"},\\\"CommunityInvite\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"communityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"community_ap_id\\\"},{\\\"name\\\":\\\"invitedByApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"invited_by_ap_id\\\"},{\\\"name\\\":\\\"invitedApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"invited_ap_id\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"expiresAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"expires_at\\\"},{\\\"name\\\":\\\"usedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"used_at\\\"},{\\\"name\\\":\\\"usedByApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"used_by_ap_id\\\"},{\\\"name\\\":\\\"community\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Community\\\",\\\"relationName\\\":\\\"CommunityToCommunityInvite\\\"},{\\\"name\\\":\\\"invitedBy\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"InvitedByActor\\\"}],\\\"dbName\\\":\\\"community_invites\\\"},\\\"ObjectRecipient\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"objectApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"object_ap_id\\\"},{\\\"name\\\":\\\"recipientApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"recipient_ap_id\\\"},{\\\"name\\\":\\\"type\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"object\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"ObjectToObjectRecipient\\\"},{\\\"name\\\":\\\"recipient\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToObjectRecipient\\\"}],\\\"dbName\\\":\\\"object_recipients\\\"},\\\"Inbox\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"activityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"activity_ap_id\\\"},{\\\"name\\\":\\\"read\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToInbox\\\"},{\\\"name\\\":\\\"activity\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Activity\\\",\\\"relationName\\\":\\\"ActivityToInbox\\\"}],\\\"dbName\\\":\\\"inbox\\\"},\\\"Session\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"memberId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"member_id\\\"},{\\\"name\\\":\\\"accessToken\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"access_token\\\"},{\\\"name\\\":\\\"refreshToken\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"refresh_token\\\"},{\\\"name\\\":\\\"expiresAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"expires_at\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"provider\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"providerAccessToken\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"provider_access_token\\\"},{\\\"name\\\":\\\"providerRefreshToken\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"provider_refresh_token\\\"},{\\\"name\\\":\\\"providerTokenExpiresAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"provider_token_expires_at\\\"},{\\\"name\\\":\\\"member\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToSession\\\"}],\\\"dbName\\\":\\\"sessions\\\"},\\\"StoryView\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"storyApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"story_ap_id\\\"},{\\\"name\\\":\\\"viewedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"viewed_at\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToStoryView\\\"},{\\\"name\\\":\\\"story\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"ObjectToStoryView\\\"}],\\\"dbName\\\":\\\"story_views\\\"},\\\"StoryVote\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"storyApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"story_ap_id\\\"},{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"optionIndex\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\",\\\"dbName\\\":\\\"option_index\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToStoryVote\\\"},{\\\"name\\\":\\\"story\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"ObjectToStoryVote\\\"}],\\\"dbName\\\":\\\"story_votes\\\"},\\\"StoryShare\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"storyApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"story_ap_id\\\"},{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"sharedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"shared_at\\\"},{\\\"name\\\":\\\"actor\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Actor\\\",\\\"relationName\\\":\\\"ActorToStoryShare\\\"},{\\\"name\\\":\\\"story\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"Object\\\",\\\"relationName\\\":\\\"ObjectToStoryShare\\\"}],\\\"dbName\\\":\\\"story_shares\\\"},\\\"NotificationArchived\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"activityApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"activity_ap_id\\\"},{\\\"name\\\":\\\"archivedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"archived_at\\\"}],\\\"dbName\\\":\\\"notification_archived\\\"},\\\"InstanceActor\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"apId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"ap_id\\\"},{\\\"name\\\":\\\"preferredUsername\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"preferred_username\\\"},{\\\"name\\\":\\\"name\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"summary\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"publicKeyPem\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"public_key_pem\\\"},{\\\"name\\\":\\\"privateKeyPem\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"private_key_pem\\\"},{\\\"name\\\":\\\"joinPolicy\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"join_policy\\\"},{\\\"name\\\":\\\"postingPolicy\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"posting_policy\\\"},{\\\"name\\\":\\\"visibility\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"createdAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"created_at\\\"},{\\\"name\\\":\\\"updatedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"updated_at\\\"}],\\\"dbName\\\":\\\"instance_actor\\\"},\\\"DmTyping\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"recipientApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"recipient_ap_id\\\"},{\\\"name\\\":\\\"lastTypedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"last_typed_at\\\"}],\\\"dbName\\\":\\\"dm_typing\\\"},\\\"DmReadStatus\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"conversationId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"conversation_id\\\"},{\\\"name\\\":\\\"lastReadAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"last_read_at\\\"}],\\\"dbName\\\":\\\"dm_read_status\\\"},\\\"DmArchivedConversation\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"actorApId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"actor_ap_id\\\"},{\\\"name\\\":\\\"conversationId\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"conversation_id\\\"},{\\\"name\\\":\\\"archivedAt\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\",\\\"dbName\\\":\\\"archived_at\\\"}],\\\"dbName\\\":\\\"dm_archived_conversations\\\"}},\\\"enums\\\":{},\\\"types\\\":{}}\")\ndefineDmmfProperty(exports.Prisma, config.runtimeDataModel)\nconfig.compilerWasm = {\n  getRuntime: async () => require('./query_compiler_bg.js'),\n  getQueryCompilerWasmModule: async () => {\n    const loader = (await import('#wasm-compiler-loader')).default\n    const compiler = (await loader).default\n    return compiler\n  }\n}\nif (typeof globalThis !== 'undefined' && globalThis['DEBUG'] || (typeof process !== 'undefined' && process.env && process.env.DEBUG) || undefined) {\n  Debug.enable(typeof globalThis !== 'undefined' && globalThis['DEBUG'] || (typeof process !== 'undefined' && process.env && process.env.DEBUG) || undefined)\n}\n\nconst PrismaClient = getPrismaClient(config)\nexports.PrismaClient = PrismaClient\nObject.assign(exports, Prisma)\n", "\n/* !!! This is code generated by Prisma. Do not edit directly. !!!\n/* eslint-disable */\n// biome-ignore-all lint: generated file\nmodule.exports = { ...require('#main-entry-point') }", "var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// ../../node_modules/.pnpm/kleur@4.1.5/node_modules/kleur/colors.mjs\nvar colors_exports = {};\n__export(colors_exports, {\n  $: () => $,\n  bgBlack: () => bgBlack,\n  bgBlue: () => bgBlue,\n  bgCyan: () => bgCyan,\n  bgGreen: () => bgGreen,\n  bgMagenta: () => bgMagenta,\n  bgRed: () => bgRed,\n  bgWhite: () => bgWhite,\n  bgYellow: () => bgYellow,\n  black: () => black,\n  blue: () => blue,\n  bold: () => bold,\n  cyan: () => cyan,\n  dim: () => dim,\n  gray: () => gray,\n  green: () => green,\n  grey: () => grey,\n  hidden: () => hidden,\n  inverse: () => inverse,\n  italic: () => italic,\n  magenta: () => magenta,\n  red: () => red,\n  reset: () => reset,\n  strikethrough: () => strikethrough,\n  underline: () => underline,\n  white: () => white,\n  yellow: () => yellow\n});\nvar FORCE_COLOR;\nvar NODE_DISABLE_COLORS;\nvar NO_COLOR;\nvar TERM;\nvar isTTY = true;\nif (typeof process !== \"undefined\") {\n  ({ FORCE_COLOR, NODE_DISABLE_COLORS, NO_COLOR, TERM } = process.env || {});\n  isTTY = process.stdout && process.stdout.isTTY;\n}\nvar $ = {\n  enabled: !NODE_DISABLE_COLORS && NO_COLOR == null && TERM !== \"dumb\" && (FORCE_COLOR != null && FORCE_COLOR !== \"0\" || isTTY)\n};\nfunction init(x, y) {\n  let rgx = new RegExp(`\\\\x1b\\\\[${y}m`, \"g\");\n  let open = `\\x1B[${x}m`, close = `\\x1B[${y}m`;\n  return function(txt) {\n    if (!$.enabled || txt == null) return txt;\n    return open + (!!~(\"\" + txt).indexOf(close) ? txt.replace(rgx, close + open) : txt) + close;\n  };\n}\nvar reset = init(0, 0);\nvar bold = init(1, 22);\nvar dim = init(2, 22);\nvar italic = init(3, 23);\nvar underline = init(4, 24);\nvar inverse = init(7, 27);\nvar hidden = init(8, 28);\nvar strikethrough = init(9, 29);\nvar black = init(30, 39);\nvar red = init(31, 39);\nvar green = init(32, 39);\nvar yellow = init(33, 39);\nvar blue = init(34, 39);\nvar magenta = init(35, 39);\nvar cyan = init(36, 39);\nvar white = init(37, 39);\nvar gray = init(90, 39);\nvar grey = init(90, 39);\nvar bgBlack = init(40, 49);\nvar bgRed = init(41, 49);\nvar bgGreen = init(42, 49);\nvar bgYellow = init(43, 49);\nvar bgBlue = init(44, 49);\nvar bgMagenta = init(45, 49);\nvar bgCyan = init(46, 49);\nvar bgWhite = init(47, 49);\n\n// src/index.ts\nvar MAX_ARGS_HISTORY = 100;\nvar COLORS = [\"green\", \"yellow\", \"blue\", \"magenta\", \"cyan\", \"red\"];\nvar argsHistory = [];\nvar lastTimestamp = Date.now();\nvar lastColor = 0;\nvar processEnv = typeof process !== \"undefined\" ? process.env : {};\nglobalThis.DEBUG ??= processEnv.DEBUG ?? \"\";\nglobalThis.DEBUG_COLORS ??= processEnv.DEBUG_COLORS ? processEnv.DEBUG_COLORS === \"true\" : true;\nvar topProps = {\n  enable(namespace) {\n    if (typeof namespace === \"string\") {\n      globalThis.DEBUG = namespace;\n    }\n  },\n  disable() {\n    const prev = globalThis.DEBUG;\n    globalThis.DEBUG = \"\";\n    return prev;\n  },\n  // this is the core logic to check if logging should happen or not\n  enabled(namespace) {\n    const listenedNamespaces = globalThis.DEBUG.split(\",\").map((s) => {\n      return s.replace(/[.+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    });\n    const isListened = listenedNamespaces.some((listenedNamespace) => {\n      if (listenedNamespace === \"\" || listenedNamespace[0] === \"-\") return false;\n      return namespace.match(RegExp(listenedNamespace.split(\"*\").join(\".*\") + \"$\"));\n    });\n    const isExcluded = listenedNamespaces.some((listenedNamespace) => {\n      if (listenedNamespace === \"\" || listenedNamespace[0] !== \"-\") return false;\n      return namespace.match(RegExp(listenedNamespace.slice(1).split(\"*\").join(\".*\") + \"$\"));\n    });\n    return isListened && !isExcluded;\n  },\n  log: (...args) => {\n    const [namespace, format, ...rest] = args;\n    const logWithFormatting = console.warn ?? console.log;\n    logWithFormatting(`${namespace} ${format}`, ...rest);\n  },\n  formatters: {}\n  // not implemented\n};\nfunction debugCreate(namespace) {\n  const instanceProps = {\n    color: COLORS[lastColor++ % COLORS.length],\n    enabled: topProps.enabled(namespace),\n    namespace,\n    log: topProps.log,\n    extend: () => {\n    }\n    // not implemented\n  };\n  const debugCall = (...args) => {\n    const { enabled, namespace: namespace2, color, log } = instanceProps;\n    if (args.length !== 0) {\n      argsHistory.push([namespace2, ...args]);\n    }\n    if (argsHistory.length > MAX_ARGS_HISTORY) {\n      argsHistory.shift();\n    }\n    if (topProps.enabled(namespace2) || enabled) {\n      const stringArgs = args.map((arg) => {\n        if (typeof arg === \"string\") {\n          return arg;\n        }\n        return safeStringify(arg);\n      });\n      const ms = `+${Date.now() - lastTimestamp}ms`;\n      lastTimestamp = Date.now();\n      if (globalThis.DEBUG_COLORS) {\n        log(colors_exports[color](bold(namespace2)), ...stringArgs, colors_exports[color](ms));\n      } else {\n        log(namespace2, ...stringArgs, ms);\n      }\n    }\n  };\n  return new Proxy(debugCall, {\n    get: (_, prop) => instanceProps[prop],\n    set: (_, prop, value) => instanceProps[prop] = value\n  });\n}\nvar Debug = new Proxy(debugCreate, {\n  get: (_, prop) => topProps[prop],\n  set: (_, prop, value) => topProps[prop] = value\n});\nfunction safeStringify(value, indent = 2) {\n  const cache = /* @__PURE__ */ new Set();\n  return JSON.stringify(\n    value,\n    (key, value2) => {\n      if (typeof value2 === \"object\" && value2 !== null) {\n        if (cache.has(value2)) {\n          return `[Circular *]`;\n        }\n        cache.add(value2);\n      } else if (typeof value2 === \"bigint\") {\n        return value2.toString();\n      }\n      return value2;\n    },\n    indent\n  );\n}\nfunction getLogs(numChars = 7500) {\n  const logs = argsHistory.map(([namespace, ...args]) => {\n    return `${namespace} ${args.map((arg) => {\n      if (typeof arg === \"string\") {\n        return arg;\n      } else {\n        return JSON.stringify(arg);\n      }\n    }).join(\" \")}`;\n  }).join(\"\\n\");\n  if (logs.length < numChars) {\n    return logs;\n  }\n  return logs.slice(-numChars);\n}\nfunction clearLogs() {\n  argsHistory.length = 0;\n}\nvar index_default = Debug;\nexport {\n  Debug,\n  clearLogs,\n  index_default as default,\n  getLogs\n};\n", "// src/debug.ts\nimport { Debug } from \"@prisma/debug\";\n\n// src/error.ts\nvar DriverAdapterError = class extends Error {\n  name = \"DriverAdapterError\";\n  cause;\n  constructor(payload) {\n    super(typeof payload[\"message\"] === \"string\" ? payload[\"message\"] : payload.kind);\n    this.cause = payload;\n  }\n};\nfunction isDriverAdapterError(error) {\n  return error[\"name\"] === \"DriverAdapterError\" && typeof error[\"cause\"] === \"object\";\n}\n\n// src/result.ts\nfunction ok(value) {\n  return {\n    ok: true,\n    value,\n    map(fn) {\n      return ok(fn(value));\n    },\n    flatMap(fn) {\n      return fn(value);\n    }\n  };\n}\nfunction err(error) {\n  return {\n    ok: false,\n    error,\n    map() {\n      return err(error);\n    },\n    flatMap() {\n      return err(error);\n    }\n  };\n}\n\n// src/binder.ts\nvar debug = Debug(\"driver-adapter-utils\");\nvar ErrorRegistryInternal = class {\n  registeredErrors = [];\n  consumeError(id) {\n    return this.registeredErrors[id];\n  }\n  registerNewError(error) {\n    let i = 0;\n    while (this.registeredErrors[i] !== void 0) {\n      i++;\n    }\n    this.registeredErrors[i] = { error };\n    return i;\n  }\n};\nfunction copySymbolsFromSource(source, target) {\n  const symbols = Object.getOwnPropertySymbols(source);\n  const symbolObject = Object.fromEntries(symbols.map((symbol) => [symbol, true]));\n  Object.assign(target, symbolObject);\n}\nvar bindMigrationAwareSqlAdapterFactory = (adapterFactory) => {\n  const errorRegistry = new ErrorRegistryInternal();\n  const boundFactory = {\n    adapterName: adapterFactory.adapterName,\n    provider: adapterFactory.provider,\n    errorRegistry,\n    connect: async (...args) => {\n      const ctx = await wrapAsync(errorRegistry, adapterFactory.connect.bind(adapterFactory))(...args);\n      return ctx.map((ctx2) => bindAdapter(ctx2, errorRegistry));\n    },\n    connectToShadowDb: async (...args) => {\n      const ctx = await wrapAsync(errorRegistry, adapterFactory.connectToShadowDb.bind(adapterFactory))(...args);\n      return ctx.map((ctx2) => bindAdapter(ctx2, errorRegistry));\n    }\n  };\n  copySymbolsFromSource(adapterFactory, boundFactory);\n  return boundFactory;\n};\nvar bindSqlAdapterFactory = (adapterFactory) => {\n  const errorRegistry = new ErrorRegistryInternal();\n  const boundFactory = {\n    adapterName: adapterFactory.adapterName,\n    provider: adapterFactory.provider,\n    errorRegistry,\n    connect: async (...args) => {\n      const ctx = await wrapAsync(errorRegistry, adapterFactory.connect.bind(adapterFactory))(...args);\n      return ctx.map((ctx2) => bindAdapter(ctx2, errorRegistry));\n    }\n  };\n  copySymbolsFromSource(adapterFactory, boundFactory);\n  return boundFactory;\n};\nvar bindAdapter = (adapter, errorRegistry = new ErrorRegistryInternal()) => {\n  const boundAdapter = {\n    adapterName: adapter.adapterName,\n    errorRegistry,\n    queryRaw: wrapAsync(errorRegistry, adapter.queryRaw.bind(adapter)),\n    executeRaw: wrapAsync(errorRegistry, adapter.executeRaw.bind(adapter)),\n    executeScript: wrapAsync(errorRegistry, adapter.executeScript.bind(adapter)),\n    dispose: wrapAsync(errorRegistry, adapter.dispose.bind(adapter)),\n    provider: adapter.provider,\n    startTransaction: async (...args) => {\n      const ctx = await wrapAsync(errorRegistry, adapter.startTransaction.bind(adapter))(...args);\n      return ctx.map((ctx2) => bindTransaction(errorRegistry, ctx2));\n    }\n  };\n  if (adapter.getConnectionInfo) {\n    boundAdapter.getConnectionInfo = wrapSync(errorRegistry, adapter.getConnectionInfo.bind(adapter));\n  }\n  return boundAdapter;\n};\nvar bindTransaction = (errorRegistry, transaction) => {\n  return {\n    adapterName: transaction.adapterName,\n    provider: transaction.provider,\n    options: transaction.options,\n    queryRaw: wrapAsync(errorRegistry, transaction.queryRaw.bind(transaction)),\n    executeRaw: wrapAsync(errorRegistry, transaction.executeRaw.bind(transaction)),\n    commit: wrapAsync(errorRegistry, transaction.commit.bind(transaction)),\n    rollback: wrapAsync(errorRegistry, transaction.rollback.bind(transaction))\n  };\n};\nfunction wrapAsync(registry, fn) {\n  return async (...args) => {\n    try {\n      return ok(await fn(...args));\n    } catch (error) {\n      debug(\"[error@wrapAsync]\", error);\n      if (isDriverAdapterError(error)) {\n        return err(error.cause);\n      }\n      const id = registry.registerNewError(error);\n      return err({ kind: \"GenericJs\", id });\n    }\n  };\n}\nfunction wrapSync(registry, fn) {\n  return (...args) => {\n    try {\n      return ok(fn(...args));\n    } catch (error) {\n      debug(\"[error@wrapSync]\", error);\n      if (isDriverAdapterError(error)) {\n        return err(error.cause);\n      }\n      const id = registry.registerNewError(error);\n      return err({ kind: \"GenericJs\", id });\n    }\n  };\n}\n\n// src/const.ts\nvar ColumnTypeEnum = {\n  // Scalars\n  Int32: 0,\n  Int64: 1,\n  Float: 2,\n  Double: 3,\n  Numeric: 4,\n  Boolean: 5,\n  Character: 6,\n  Text: 7,\n  Date: 8,\n  Time: 9,\n  DateTime: 10,\n  Json: 11,\n  Enum: 12,\n  Bytes: 13,\n  Set: 14,\n  Uuid: 15,\n  // Arrays\n  Int32Array: 64,\n  Int64Array: 65,\n  FloatArray: 66,\n  DoubleArray: 67,\n  NumericArray: 68,\n  BooleanArray: 69,\n  CharacterArray: 70,\n  TextArray: 71,\n  DateArray: 72,\n  TimeArray: 73,\n  DateTimeArray: 74,\n  JsonArray: 75,\n  EnumArray: 76,\n  BytesArray: 77,\n  UuidArray: 78,\n  // Custom\n  UnknownNumber: 128\n};\n\n// src/mock.ts\nvar mockAdapterErrors = {\n  queryRaw: new Error(\"Not implemented: queryRaw\"),\n  executeRaw: new Error(\"Not implemented: executeRaw\"),\n  startTransaction: new Error(\"Not implemented: startTransaction\"),\n  executeScript: new Error(\"Not implemented: executeScript\"),\n  dispose: new Error(\"Not implemented: dispose\")\n};\nfunction mockAdapter(provider) {\n  return {\n    provider,\n    adapterName: \"@prisma/adapter-mock\",\n    queryRaw: () => Promise.reject(mockAdapterErrors.queryRaw),\n    executeRaw: () => Promise.reject(mockAdapterErrors.executeRaw),\n    startTransaction: () => Promise.reject(mockAdapterErrors.startTransaction),\n    executeScript: () => Promise.reject(mockAdapterErrors.executeScript),\n    dispose: () => Promise.reject(mockAdapterErrors.dispose),\n    [Symbol.for(\"adapter.mockAdapter\")]: true\n  };\n}\nfunction mockAdapterFactory(provider) {\n  return {\n    provider,\n    adapterName: \"@prisma/adapter-mock\",\n    connect: () => Promise.resolve(mockAdapter(provider)),\n    [Symbol.for(\"adapter.mockAdapterFactory\")]: true\n  };\n}\nfunction mockMigrationAwareAdapterFactory(provider) {\n  return {\n    provider,\n    adapterName: \"@prisma/adapter-mock\",\n    connect: () => Promise.resolve(mockAdapter(provider)),\n    connectToShadowDb: () => Promise.resolve(mockAdapter(provider)),\n    [Symbol.for(\"adapter.mockMigrationAwareAdapterFactory\")]: true\n  };\n}\nexport {\n  ColumnTypeEnum,\n  Debug,\n  DriverAdapterError,\n  bindAdapter,\n  bindMigrationAwareSqlAdapterFactory,\n  bindSqlAdapterFactory,\n  err,\n  isDriverAdapterError,\n  mockAdapter,\n  mockAdapterErrors,\n  mockAdapterFactory,\n  mockMigrationAwareAdapterFactory,\n  ok\n};\n", "import { Hono } from 'hono';\nimport { getCookie } from 'hono/cookie';\nimport type { Env, Variables, Actor } from './types';\nimport { getPrismaD1 } from './lib/db';\n\n// Import route modules\nimport authRoutes from './routes/auth';\nimport actorsRoutes from './routes/actors';\nimport followRoutes from './routes/follow';\nimport timelineRoutes from './routes/timeline';\nimport postsRoutes from './routes/posts';\nimport notificationsRoutes from './routes/notifications';\nimport storiesRoutes from './routes/stories';\nimport searchRoutes from './routes/search';\nimport communitiesRoutes from './routes/communities';\nimport dmRoutes from './routes/dm';\nimport mediaRoutes from './routes/media';\nimport activitypubRoutes from './routes/activitypub';\nimport takosProxyRoutes from './routes/takos-proxy';\n\n// Import middleware\nimport { rateLimit, RateLimitConfigs } from './middleware/rate-limit';\nimport { csrfProtection } from './middleware/csrf';\nimport { createErrorMiddleware, notFoundHandler } from './middleware/error-handler';\n\nconst app = new Hono<{ Bindings: Env; Variables: Variables }>();\n\n// ============================================================\n// GLOBAL ERROR HANDLER\n// ============================================================\n\napp.onError(createErrorMiddleware());\n\n// ============================================================\n// SECURITY HEADERS\n// ============================================================\n\napp.use('*', async (c, next) => {\n  await next();\n\n  // COOP/COEP Headers (Required for FFmpeg WASM SharedArrayBuffer)\n  // Using 'credentialless' instead of 'require-corp' to allow cross-origin resources\n  c.header('Cross-Origin-Opener-Policy', 'same-origin');\n  c.header('Cross-Origin-Embedder-Policy', 'credentialless');\n\n  // Content Security Policy\n  // Restricts sources for scripts, styles, and other resources\n  //\n  // CSP Security Notes:\n  // - 'unsafe-eval' for scripts: REQUIRED for FFmpeg WASM (@ffmpeg/ffmpeg) which uses eval() internally.\n  //   This is a known limitation of the library. If FFmpeg is removed, unsafe-eval should also be removed.\n  //   See: https://github.com/ffmpegwasm/ffmpeg.wasm/issues/263\n  // - 'unsafe-inline' for scripts: Required for FFmpeg WASM worker initialization.\n  // - 'unsafe-inline' for styles: Required for CSS-in-JS and dynamic style attributes.\n  //   Consider migrating to nonce-based CSP in the future.\n  // - unpkg.com: Required for loading FFmpeg WASM binaries from CDN.\n  // - takos.jp: Required for OAuth authentication and API calls to takos platform.\n  const takosUrl = c.env.TAKOS_URL || 'https://takos.jp';\n  const csp = [\n    \"default-src 'self'\",\n    \"script-src 'self' 'unsafe-inline' 'unsafe-eval' https://unpkg.com https://static.cloudflareinsights.com\",\n    \"style-src 'self' 'unsafe-inline'\",\n    \"img-src 'self' data: blob: https:\",\n    \"media-src 'self' data: blob:\",\n    \"font-src 'self' data:\",\n    `connect-src 'self' https://unpkg.com wss: ${takosUrl}`,\n    \"worker-src 'self' blob:\",\n    \"frame-ancestors 'none'\",\n    `form-action 'self' ${takosUrl}`,\n    \"base-uri 'self'\",\n  ].join('; ');\n  c.header('Content-Security-Policy', csp);\n\n  // Additional security headers\n  c.header('X-Content-Type-Options', 'nosniff');\n  c.header('X-Frame-Options', 'DENY');\n  c.header('Referrer-Policy', 'strict-origin-when-cross-origin');\n  c.header('Permissions-Policy', 'camera=(), microphone=(), geolocation=()');\n});\n\n// ============================================================\n// PRISMA MIDDLEWARE\n// ============================================================\n\napp.use('*', async (c, next) => {\n  // Use pre-created Prisma client if available (non-Cloudflare runtimes),\n  // otherwise create one with D1 adapter (Cloudflare Workers)\n  const prisma = c.env.PRISMA ?? getPrismaD1(c.env.DB);\n  c.set('prisma', prisma);\n  await next();\n});\n\n// ============================================================\n// AUTH MIDDLEWARE\n// ============================================================\n\napp.use('/api/*', async (c, next) => {\n  const sessionId = getCookie(c, 'session');\n  if (sessionId) {\n    const prisma = c.get('prisma');\n    const session = await prisma.session.findFirst({\n      where: {\n        id: sessionId,\n        expiresAt: { gt: new Date().toISOString() },\n      },\n      include: { member: true },\n    });\n\n    if (session) {\n      // Convert Prisma model to Actor type\n      const actor: Actor = {\n        ap_id: session.member.apId,\n        type: session.member.type,\n        preferred_username: session.member.preferredUsername,\n        name: session.member.name,\n        summary: session.member.summary,\n        icon_url: session.member.iconUrl,\n        header_url: session.member.headerUrl,\n        inbox: session.member.inbox,\n        outbox: session.member.outbox,\n        followers_url: session.member.followersUrl,\n        following_url: session.member.followingUrl,\n        public_key_pem: session.member.publicKeyPem,\n        private_key_pem: session.member.privateKeyPem,\n        takos_user_id: session.member.takosUserId,\n        follower_count: session.member.followerCount,\n        following_count: session.member.followingCount,\n        post_count: session.member.postCount,\n        is_private: session.member.isPrivate,\n        role: session.member.role as 'owner' | 'moderator' | 'member',\n        created_at: session.member.createdAt,\n      };\n      c.set('actor', actor);\n    }\n  }\n  await next();\n});\n\n// ============================================================\n// CSRF PROTECTION\n// ============================================================\n\n// Apply CSRF protection to API routes (checks Origin header for state-changing requests)\napp.use('/api/*', csrfProtection());\n\n// ============================================================\n// RATE LIMITING\n// ============================================================\n\n// Apply general rate limit to all API routes\napp.use('/api/*', rateLimit(RateLimitConfigs.general));\n\n// Apply stricter rate limits to specific endpoints\napp.use('/api/auth/*', rateLimit(RateLimitConfigs.auth));\napp.use('/api/search/*', rateLimit(RateLimitConfigs.search));\napp.use('/api/media/*', rateLimit(RateLimitConfigs.mediaUpload));\napp.use('/api/dm/*', rateLimit(RateLimitConfigs.dm));\n\n// Apply post creation rate limit to prevent spam\n// This specifically targets POST requests to /api/posts (creating new posts)\napp.post('/api/posts', rateLimit(RateLimitConfigs.postCreate));\n\n// Rate limit for ActivityPub inbox (federation)\napp.use('/ap/*/inbox', rateLimit(RateLimitConfigs.inbox));\n\n// ============================================================\n// MOUNT ROUTES\n// ============================================================\n\n// Auth routes\napp.route('/api/auth', authRoutes);\n\n// Actor/Profile routes\napp.route('/api/actors', actorsRoutes);\n\n// Follow routes\napp.route('/api/follow', followRoutes);\n\n// Timeline routes\napp.route('/api/timeline', timelineRoutes);\n\n// Posts, likes, bookmarks routes\napp.route('/api/posts', postsRoutes);\n\n// Bookmarks alias (frontend calls /api/bookmarks, backend has /api/posts/bookmarks)\napp.get('/api/bookmarks', async (c) => {\n  // Forward to posts/bookmarks handler\n  const url = new URL(c.req.url);\n  url.pathname = '/api/posts/bookmarks';\n  const newReq = new Request(url.toString(), c.req.raw);\n  return app.fetch(newReq, c.env, c.executionCtx);\n});\n\n// Notifications routes\napp.route('/api/notifications', notificationsRoutes);\n\n// Stories routes\napp.route('/api/stories', storiesRoutes);\n\n// Search routes\napp.route('/api/search', searchRoutes);\n\n// Communities routes\napp.route('/api/communities', communitiesRoutes);\n\n// DM routes\napp.route('/api/dm', dmRoutes);\n\n// Media routes\napp.route('/api/media', mediaRoutes);\napp.route('/media', mediaRoutes);\n\n// Takos API proxy (for users logged in with Takos)\napp.route('/api/takos', takosProxyRoutes);\n\n// ActivityPub routes (WebFinger, actor endpoints, inbox/outbox)\napp.route('/', activitypubRoutes);\n\n// ============================================================\n// FALLBACK TO STATIC ASSETS\n// ============================================================\n\napp.all('*', async (c) => {\n  // Check if ASSETS binding is available\n  if (!c.env.ASSETS) {\n    // Return a friendly error for missing static assets\n    return c.json({\n      error: 'Static assets not configured',\n      message: 'This instance is running in API-only mode. Frontend assets are not available.',\n      hint: 'Access /api/* endpoints for API functionality.',\n    }, 503);\n  }\n  return c.env.ASSETS.fetch(c.req.raw);\n});\n\nexport default app;\n", "// src/index.ts\nimport { Hono } from \"./hono.js\";\nexport {\n  Hono\n};\n", "// src/hono.ts\nimport { HonoBase } from \"./hono-base.js\";\nimport { RegExpRouter } from \"./router/reg-exp-router/index.js\";\nimport { SmartRouter } from \"./router/smart-router/index.js\";\nimport { TrieRouter } from \"./router/trie-router/index.js\";\nvar Hono = class extends HonoBase {\n  /**\n   * Creates an instance of the Hono class.\n   *\n   * @param options - Optional configuration options for the Hono instance.\n   */\n  constructor(options = {}) {\n    super(options);\n    this.router = options.router ?? new SmartRouter({\n      routers: [new RegExpRouter(), new TrieRouter()]\n    });\n  }\n};\nexport {\n  Hono\n};\n", "// src/hono-base.ts\nimport { compose } from \"./compose.js\";\nimport { Context } from \"./context.js\";\nimport { METHODS, METHOD_NAME_ALL, METHOD_NAME_ALL_LOWERCASE } from \"./router.js\";\nimport { COMPOSED_HANDLER } from \"./utils/constants.js\";\nimport { getPath, getPathNoStrict, mergePath } from \"./utils/url.js\";\nvar notFoundHandler = (c) => {\n  return c.text(\"404 Not Found\", 404);\n};\nvar errorHandler = (err, c) => {\n  if (\"getResponse\" in err) {\n    const res = err.getResponse();\n    return c.newResponse(res.body, res);\n  }\n  console.error(err);\n  return c.text(\"Internal Server Error\", 500);\n};\nvar Hono = class _Hono {\n  get;\n  post;\n  put;\n  delete;\n  options;\n  patch;\n  all;\n  on;\n  use;\n  /*\n    This class is like an abstract class and does not have a router.\n    To use it, inherit the class and implement router in the constructor.\n  */\n  router;\n  getPath;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  _basePath = \"/\";\n  #path = \"/\";\n  routes = [];\n  constructor(options = {}) {\n    const allMethods = [...METHODS, METHOD_NAME_ALL_LOWERCASE];\n    allMethods.forEach((method) => {\n      this[method] = (args1, ...args) => {\n        if (typeof args1 === \"string\") {\n          this.#path = args1;\n        } else {\n          this.#addRoute(method, this.#path, args1);\n        }\n        args.forEach((handler) => {\n          this.#addRoute(method, this.#path, handler);\n        });\n        return this;\n      };\n    });\n    this.on = (method, path, ...handlers) => {\n      for (const p of [path].flat()) {\n        this.#path = p;\n        for (const m of [method].flat()) {\n          handlers.map((handler) => {\n            this.#addRoute(m.toUpperCase(), this.#path, handler);\n          });\n        }\n      }\n      return this;\n    };\n    this.use = (arg1, ...handlers) => {\n      if (typeof arg1 === \"string\") {\n        this.#path = arg1;\n      } else {\n        this.#path = \"*\";\n        handlers.unshift(arg1);\n      }\n      handlers.forEach((handler) => {\n        this.#addRoute(METHOD_NAME_ALL, this.#path, handler);\n      });\n      return this;\n    };\n    const { strict, ...optionsWithoutStrict } = options;\n    Object.assign(this, optionsWithoutStrict);\n    this.getPath = strict ?? true ? options.getPath ?? getPath : getPathNoStrict;\n  }\n  #clone() {\n    const clone = new _Hono({\n      router: this.router,\n      getPath: this.getPath\n    });\n    clone.errorHandler = this.errorHandler;\n    clone.#notFoundHandler = this.#notFoundHandler;\n    clone.routes = this.routes;\n    return clone;\n  }\n  #notFoundHandler = notFoundHandler;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  errorHandler = errorHandler;\n  /**\n   * `.route()` allows grouping other Hono instance in routes.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#grouping}\n   *\n   * @param {string} path - base Path\n   * @param {Hono} app - other Hono instance\n   * @returns {Hono} routed Hono instance\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * const app2 = new Hono()\n   *\n   * app2.get(\"/user\", (c) => c.text(\"user\"))\n   * app.route(\"/api\", app2) // GET /api/user\n   * ```\n   */\n  route(path, app) {\n    const subApp = this.basePath(path);\n    app.routes.map((r) => {\n      let handler;\n      if (app.errorHandler === errorHandler) {\n        handler = r.handler;\n      } else {\n        handler = async (c, next) => (await compose([], app.errorHandler)(c, () => r.handler(c, next))).res;\n        handler[COMPOSED_HANDLER] = r.handler;\n      }\n      subApp.#addRoute(r.method, r.path, handler);\n    });\n    return this;\n  }\n  /**\n   * `.basePath()` allows base paths to be specified.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#base-path}\n   *\n   * @param {string} path - base Path\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * const api = new Hono().basePath('/api')\n   * ```\n   */\n  basePath(path) {\n    const subApp = this.#clone();\n    subApp._basePath = mergePath(this._basePath, path);\n    return subApp;\n  }\n  /**\n   * `.onError()` handles an error and returns a customized Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#error-handling}\n   *\n   * @param {ErrorHandler} handler - request Handler for error\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.onError((err, c) => {\n   *   console.error(`${err}`)\n   *   return c.text('Custom Error Message', 500)\n   * })\n   * ```\n   */\n  onError = (handler) => {\n    this.errorHandler = handler;\n    return this;\n  };\n  /**\n   * `.notFound()` allows you to customize a Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#not-found}\n   *\n   * @param {NotFoundHandler} handler - request handler for not-found\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.notFound((c) => {\n   *   return c.text('Custom 404 Message', 404)\n   * })\n   * ```\n   */\n  notFound = (handler) => {\n    this.#notFoundHandler = handler;\n    return this;\n  };\n  /**\n   * `.mount()` allows you to mount applications built with other frameworks into your Hono application.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#mount}\n   *\n   * @param {string} path - base Path\n   * @param {Function} applicationHandler - other Request Handler\n   * @param {MountOptions} [options] - options of `.mount()`\n   * @returns {Hono} mounted Hono instance\n   *\n   * @example\n   * ```ts\n   * import { Router as IttyRouter } from 'itty-router'\n   * import { Hono } from 'hono'\n   * // Create itty-router application\n   * const ittyRouter = IttyRouter()\n   * // GET /itty-router/hello\n   * ittyRouter.get('/hello', () => new Response('Hello from itty-router'))\n   *\n   * const app = new Hono()\n   * app.mount('/itty-router', ittyRouter.handle)\n   * ```\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * // Send the request to another application without modification.\n   * app.mount('/app', anotherApp, {\n   *   replaceRequest: (req) => req,\n   * })\n   * ```\n   */\n  mount(path, applicationHandler, options) {\n    let replaceRequest;\n    let optionHandler;\n    if (options) {\n      if (typeof options === \"function\") {\n        optionHandler = options;\n      } else {\n        optionHandler = options.optionHandler;\n        if (options.replaceRequest === false) {\n          replaceRequest = (request) => request;\n        } else {\n          replaceRequest = options.replaceRequest;\n        }\n      }\n    }\n    const getOptions = optionHandler ? (c) => {\n      const options2 = optionHandler(c);\n      return Array.isArray(options2) ? options2 : [options2];\n    } : (c) => {\n      let executionContext = void 0;\n      try {\n        executionContext = c.executionCtx;\n      } catch {\n      }\n      return [c.env, executionContext];\n    };\n    replaceRequest ||= (() => {\n      const mergedPath = mergePath(this._basePath, path);\n      const pathPrefixLength = mergedPath === \"/\" ? 0 : mergedPath.length;\n      return (request) => {\n        const url = new URL(request.url);\n        url.pathname = url.pathname.slice(pathPrefixLength) || \"/\";\n        return new Request(url, request);\n      };\n    })();\n    const handler = async (c, next) => {\n      const res = await applicationHandler(replaceRequest(c.req.raw), ...getOptions(c));\n      if (res) {\n        return res;\n      }\n      await next();\n    };\n    this.#addRoute(METHOD_NAME_ALL, mergePath(path, \"*\"), handler);\n    return this;\n  }\n  #addRoute(method, path, handler) {\n    method = method.toUpperCase();\n    path = mergePath(this._basePath, path);\n    const r = { basePath: this._basePath, path, method, handler };\n    this.router.add(method, path, [handler, r]);\n    this.routes.push(r);\n  }\n  #handleError(err, c) {\n    if (err instanceof Error) {\n      return this.errorHandler(err, c);\n    }\n    throw err;\n  }\n  #dispatch(request, executionCtx, env, method) {\n    if (method === \"HEAD\") {\n      return (async () => new Response(null, await this.#dispatch(request, executionCtx, env, \"GET\")))();\n    }\n    const path = this.getPath(request, { env });\n    const matchResult = this.router.match(method, path);\n    const c = new Context(request, {\n      path,\n      matchResult,\n      env,\n      executionCtx,\n      notFoundHandler: this.#notFoundHandler\n    });\n    if (matchResult[0].length === 1) {\n      let res;\n      try {\n        res = matchResult[0][0][0][0](c, async () => {\n          c.res = await this.#notFoundHandler(c);\n        });\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n      return res instanceof Promise ? res.then(\n        (resolved) => resolved || (c.finalized ? c.res : this.#notFoundHandler(c))\n      ).catch((err) => this.#handleError(err, c)) : res ?? this.#notFoundHandler(c);\n    }\n    const composed = compose(matchResult[0], this.errorHandler, this.#notFoundHandler);\n    return (async () => {\n      try {\n        const context = await composed(c);\n        if (!context.finalized) {\n          throw new Error(\n            \"Context is not finalized. Did you forget to return a Response object or `await next()`?\"\n          );\n        }\n        return context.res;\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n    })();\n  }\n  /**\n   * `.fetch()` will be entry point of your app.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#fetch}\n   *\n   * @param {Request} request - request Object of request\n   * @param {Env} Env - env Object\n   * @param {ExecutionContext} - context of execution\n   * @returns {Response | Promise<Response>} response of request\n   *\n   */\n  fetch = (request, ...rest) => {\n    return this.#dispatch(request, rest[1], rest[0], request.method);\n  };\n  /**\n   * `.request()` is a useful method for testing.\n   * You can pass a URL or pathname to send a GET request.\n   * app will return a Response object.\n   * ```ts\n   * test('GET /hello is ok', async () => {\n   *   const res = await app.request('/hello')\n   *   expect(res.status).toBe(200)\n   * })\n   * ```\n   * @see https://hono.dev/docs/api/hono#request\n   */\n  request = (input, requestInit, Env, executionCtx) => {\n    if (input instanceof Request) {\n      return this.fetch(requestInit ? new Request(input, requestInit) : input, Env, executionCtx);\n    }\n    input = input.toString();\n    return this.fetch(\n      new Request(\n        /^https?:\\/\\//.test(input) ? input : `http://localhost${mergePath(\"/\", input)}`,\n        requestInit\n      ),\n      Env,\n      executionCtx\n    );\n  };\n  /**\n   * `.fire()` automatically adds a global fetch event listener.\n   * This can be useful for environments that adhere to the Service Worker API, such as non-ES module Cloudflare Workers.\n   * @deprecated\n   * Use `fire` from `hono/service-worker` instead.\n   * ```ts\n   * import { Hono } from 'hono'\n   * import { fire } from 'hono/service-worker'\n   *\n   * const app = new Hono()\n   * // ...\n   * fire(app)\n   * ```\n   * @see https://hono.dev/docs/api/hono#fire\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n   * @see https://developers.cloudflare.com/workers/reference/migrate-to-module-workers/\n   */\n  fire = () => {\n    addEventListener(\"fetch\", (event) => {\n      event.respondWith(this.#dispatch(event.request, event, void 0, event.request.method));\n    });\n  };\n};\nexport {\n  Hono as HonoBase\n};\n", "// src/compose.ts\nvar compose = (middleware, onError, onNotFound) => {\n  return (context, next) => {\n    let index = -1;\n    return dispatch(0);\n    async function dispatch(i) {\n      if (i <= index) {\n        throw new Error(\"next() called multiple times\");\n      }\n      index = i;\n      let res;\n      let isError = false;\n      let handler;\n      if (middleware[i]) {\n        handler = middleware[i][0][0];\n        context.req.routeIndex = i;\n      } else {\n        handler = i === middleware.length && next || void 0;\n      }\n      if (handler) {\n        try {\n          res = await handler(context, () => dispatch(i + 1));\n        } catch (err) {\n          if (err instanceof Error && onError) {\n            context.error = err;\n            res = await onError(err, context);\n            isError = true;\n          } else {\n            throw err;\n          }\n        }\n      } else {\n        if (context.finalized === false && onNotFound) {\n          res = await onNotFound(context);\n        }\n      }\n      if (res && (context.finalized === false || isError)) {\n        context.res = res;\n      }\n      return context;\n    }\n  };\n};\nexport {\n  compose\n};\n", "// src/context.ts\nimport { HonoRequest } from \"./request.js\";\nimport { HtmlEscapedCallbackPhase, resolveCallback } from \"./utils/html.js\";\nvar TEXT_PLAIN = \"text/plain; charset=UTF-8\";\nvar setDefaultContentType = (contentType, headers) => {\n  return {\n    \"Content-Type\": contentType,\n    ...headers\n  };\n};\nvar Context = class {\n  #rawRequest;\n  #req;\n  /**\n   * `.env` can get bindings (environment variables, secrets, KV namespaces, D1 database, R2 bucket etc.) in Cloudflare Workers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#env}\n   *\n   * @example\n   * ```ts\n   * // Environment object for Cloudflare Workers\n   * app.get('*', async c => {\n   *   const counter = c.env.COUNTER\n   * })\n   * ```\n   */\n  env = {};\n  #var;\n  finalized = false;\n  /**\n   * `.error` can get the error object from the middleware if the Handler throws an error.\n   *\n   * @see {@link https://hono.dev/docs/api/context#error}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   await next()\n   *   if (c.error) {\n   *     // do something...\n   *   }\n   * })\n   * ```\n   */\n  error;\n  #status;\n  #executionCtx;\n  #res;\n  #layout;\n  #renderer;\n  #notFoundHandler;\n  #preparedHeaders;\n  #matchResult;\n  #path;\n  /**\n   * Creates an instance of the Context class.\n   *\n   * @param req - The Request object.\n   * @param options - Optional configuration options for the context.\n   */\n  constructor(req, options) {\n    this.#rawRequest = req;\n    if (options) {\n      this.#executionCtx = options.executionCtx;\n      this.env = options.env;\n      this.#notFoundHandler = options.notFoundHandler;\n      this.#path = options.path;\n      this.#matchResult = options.matchResult;\n    }\n  }\n  /**\n   * `.req` is the instance of {@link HonoRequest}.\n   */\n  get req() {\n    this.#req ??= new HonoRequest(this.#rawRequest, this.#path, this.#matchResult);\n    return this.#req;\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#event}\n   * The FetchEvent associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have a FetchEvent.\n   */\n  get event() {\n    if (this.#executionCtx && \"respondWith\" in this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no FetchEvent\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#executionctx}\n   * The ExecutionContext associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have an ExecutionContext.\n   */\n  get executionCtx() {\n    if (this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no ExecutionContext\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#res}\n   * The Response object for the current request.\n   */\n  get res() {\n    return this.#res ||= new Response(null, {\n      headers: this.#preparedHeaders ??= new Headers()\n    });\n  }\n  /**\n   * Sets the Response object for the current request.\n   *\n   * @param _res - The Response object to set.\n   */\n  set res(_res) {\n    if (this.#res && _res) {\n      _res = new Response(_res.body, _res);\n      for (const [k, v] of this.#res.headers.entries()) {\n        if (k === \"content-type\") {\n          continue;\n        }\n        if (k === \"set-cookie\") {\n          const cookies = this.#res.headers.getSetCookie();\n          _res.headers.delete(\"set-cookie\");\n          for (const cookie of cookies) {\n            _res.headers.append(\"set-cookie\", cookie);\n          }\n        } else {\n          _res.headers.set(k, v);\n        }\n      }\n    }\n    this.#res = _res;\n    this.finalized = true;\n  }\n  /**\n   * `.render()` can create a response within a layout.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   return c.render('Hello!')\n   * })\n   * ```\n   */\n  render = (...args) => {\n    this.#renderer ??= (content) => this.html(content);\n    return this.#renderer(...args);\n  };\n  /**\n   * Sets the layout for the response.\n   *\n   * @param layout - The layout to set.\n   * @returns The layout function.\n   */\n  setLayout = (layout) => this.#layout = layout;\n  /**\n   * Gets the current layout for the response.\n   *\n   * @returns The current layout function.\n   */\n  getLayout = () => this.#layout;\n  /**\n   * `.setRenderer()` can set the layout in the custom middleware.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```tsx\n   * app.use('*', async (c, next) => {\n   *   c.setRenderer((content) => {\n   *     return c.html(\n   *       <html>\n   *         <body>\n   *           <p>{content}</p>\n   *         </body>\n   *       </html>\n   *     )\n   *   })\n   *   await next()\n   * })\n   * ```\n   */\n  setRenderer = (renderer) => {\n    this.#renderer = renderer;\n  };\n  /**\n   * `.header()` can set headers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#header}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  header = (name, value, options) => {\n    if (this.finalized) {\n      this.#res = new Response(this.#res.body, this.#res);\n    }\n    const headers = this.#res ? this.#res.headers : this.#preparedHeaders ??= new Headers();\n    if (value === void 0) {\n      headers.delete(name);\n    } else if (options?.append) {\n      headers.append(name, value);\n    } else {\n      headers.set(name, value);\n    }\n  };\n  status = (status) => {\n    this.#status = status;\n  };\n  /**\n   * `.set()` can set the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   c.set('message', 'Hono is hot!!')\n   *   await next()\n   * })\n   * ```\n   */\n  set = (key, value) => {\n    this.#var ??= /* @__PURE__ */ new Map();\n    this.#var.set(key, value);\n  };\n  /**\n   * `.get()` can use the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   const message = c.get('message')\n   *   return c.text(`The message is \"${message}\"`)\n   * })\n   * ```\n   */\n  get = (key) => {\n    return this.#var ? this.#var.get(key) : void 0;\n  };\n  /**\n   * `.var` can access the value of a variable.\n   *\n   * @see {@link https://hono.dev/docs/api/context#var}\n   *\n   * @example\n   * ```ts\n   * const result = c.var.client.oneMethod()\n   * ```\n   */\n  // c.var.propName is a read-only\n  get var() {\n    if (!this.#var) {\n      return {};\n    }\n    return Object.fromEntries(this.#var);\n  }\n  #newResponse(data, arg, headers) {\n    const responseHeaders = this.#res ? new Headers(this.#res.headers) : this.#preparedHeaders ?? new Headers();\n    if (typeof arg === \"object\" && \"headers\" in arg) {\n      const argHeaders = arg.headers instanceof Headers ? arg.headers : new Headers(arg.headers);\n      for (const [key, value] of argHeaders) {\n        if (key.toLowerCase() === \"set-cookie\") {\n          responseHeaders.append(key, value);\n        } else {\n          responseHeaders.set(key, value);\n        }\n      }\n    }\n    if (headers) {\n      for (const [k, v] of Object.entries(headers)) {\n        if (typeof v === \"string\") {\n          responseHeaders.set(k, v);\n        } else {\n          responseHeaders.delete(k);\n          for (const v2 of v) {\n            responseHeaders.append(k, v2);\n          }\n        }\n      }\n    }\n    const status = typeof arg === \"number\" ? arg : arg?.status ?? this.#status;\n    return new Response(data, { status, headers: responseHeaders });\n  }\n  newResponse = (...args) => this.#newResponse(...args);\n  /**\n   * `.body()` can return the HTTP response.\n   * You can set headers with `.header()` and set HTTP status code with `.status`.\n   * This can also be set in `.text()`, `.json()` and so on.\n   *\n   * @see {@link https://hono.dev/docs/api/context#body}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *   // Set HTTP status code\n   *   c.status(201)\n   *\n   *   // Return the response body\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  body = (data, arg, headers) => this.#newResponse(data, arg, headers);\n  /**\n   * `.text()` can render text as `Content-Type:text/plain`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#text}\n   *\n   * @example\n   * ```ts\n   * app.get('/say', (c) => {\n   *   return c.text('Hello!')\n   * })\n   * ```\n   */\n  text = (text, arg, headers) => {\n    return !this.#preparedHeaders && !this.#status && !arg && !headers && !this.finalized ? new Response(text) : this.#newResponse(\n      text,\n      arg,\n      setDefaultContentType(TEXT_PLAIN, headers)\n    );\n  };\n  /**\n   * `.json()` can render JSON as `Content-Type:application/json`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#json}\n   *\n   * @example\n   * ```ts\n   * app.get('/api', (c) => {\n   *   return c.json({ message: 'Hello!' })\n   * })\n   * ```\n   */\n  json = (object, arg, headers) => {\n    return this.#newResponse(\n      JSON.stringify(object),\n      arg,\n      setDefaultContentType(\"application/json\", headers)\n    );\n  };\n  html = (html, arg, headers) => {\n    const res = (html2) => this.#newResponse(html2, arg, setDefaultContentType(\"text/html; charset=UTF-8\", headers));\n    return typeof html === \"object\" ? resolveCallback(html, HtmlEscapedCallbackPhase.Stringify, false, {}).then(res) : res(html);\n  };\n  /**\n   * `.redirect()` can Redirect, default status code is 302.\n   *\n   * @see {@link https://hono.dev/docs/api/context#redirect}\n   *\n   * @example\n   * ```ts\n   * app.get('/redirect', (c) => {\n   *   return c.redirect('/')\n   * })\n   * app.get('/redirect-permanently', (c) => {\n   *   return c.redirect('/', 301)\n   * })\n   * ```\n   */\n  redirect = (location, status) => {\n    const locationString = String(location);\n    this.header(\n      \"Location\",\n      // Multibyes should be encoded\n      // eslint-disable-next-line no-control-regex\n      !/[^\\x00-\\xFF]/.test(locationString) ? locationString : encodeURI(locationString)\n    );\n    return this.newResponse(null, status ?? 302);\n  };\n  /**\n   * `.notFound()` can return the Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/context#notfound}\n   *\n   * @example\n   * ```ts\n   * app.get('/notfound', (c) => {\n   *   return c.notFound()\n   * })\n   * ```\n   */\n  notFound = () => {\n    this.#notFoundHandler ??= () => new Response();\n    return this.#notFoundHandler(this);\n  };\n};\nexport {\n  Context,\n  TEXT_PLAIN\n};\n", "// src/request.ts\nimport { HTTPException } from \"./http-exception.js\";\nimport { GET_MATCH_RESULT } from \"./request/constants.js\";\nimport { parseBody } from \"./utils/body.js\";\nimport { decodeURIComponent_, getQueryParam, getQueryParams, tryDecode } from \"./utils/url.js\";\nvar tryDecodeURIComponent = (str) => tryDecode(str, decodeURIComponent_);\nvar HonoRequest = class {\n  /**\n   * `.raw` can get the raw Request object.\n   *\n   * @see {@link https://hono.dev/docs/api/request#raw}\n   *\n   * @example\n   * ```ts\n   * // For Cloudflare Workers\n   * app.post('/', async (c) => {\n   *   const metadata = c.req.raw.cf?.hostMetadata?\n   *   ...\n   * })\n   * ```\n   */\n  raw;\n  #validatedData;\n  // Short name of validatedData\n  #matchResult;\n  routeIndex = 0;\n  /**\n   * `.path` can get the pathname of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#path}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const pathname = c.req.path // `/about/me`\n   * })\n   * ```\n   */\n  path;\n  bodyCache = {};\n  constructor(request, path = \"/\", matchResult = [[]]) {\n    this.raw = request;\n    this.path = path;\n    this.#matchResult = matchResult;\n    this.#validatedData = {};\n  }\n  param(key) {\n    return key ? this.#getDecodedParam(key) : this.#getAllDecodedParams();\n  }\n  #getDecodedParam(key) {\n    const paramKey = this.#matchResult[0][this.routeIndex][1][key];\n    const param = this.#getParamValue(paramKey);\n    return param && /\\%/.test(param) ? tryDecodeURIComponent(param) : param;\n  }\n  #getAllDecodedParams() {\n    const decoded = {};\n    const keys = Object.keys(this.#matchResult[0][this.routeIndex][1]);\n    for (const key of keys) {\n      const value = this.#getParamValue(this.#matchResult[0][this.routeIndex][1][key]);\n      if (value !== void 0) {\n        decoded[key] = /\\%/.test(value) ? tryDecodeURIComponent(value) : value;\n      }\n    }\n    return decoded;\n  }\n  #getParamValue(paramKey) {\n    return this.#matchResult[1] ? this.#matchResult[1][paramKey] : paramKey;\n  }\n  query(key) {\n    return getQueryParam(this.url, key);\n  }\n  queries(key) {\n    return getQueryParams(this.url, key);\n  }\n  header(name) {\n    if (name) {\n      return this.raw.headers.get(name) ?? void 0;\n    }\n    const headerData = {};\n    this.raw.headers.forEach((value, key) => {\n      headerData[key] = value;\n    });\n    return headerData;\n  }\n  async parseBody(options) {\n    return this.bodyCache.parsedBody ??= await parseBody(this, options);\n  }\n  #cachedBody = (key) => {\n    const { bodyCache, raw } = this;\n    const cachedBody = bodyCache[key];\n    if (cachedBody) {\n      return cachedBody;\n    }\n    const anyCachedKey = Object.keys(bodyCache)[0];\n    if (anyCachedKey) {\n      return bodyCache[anyCachedKey].then((body) => {\n        if (anyCachedKey === \"json\") {\n          body = JSON.stringify(body);\n        }\n        return new Response(body)[key]();\n      });\n    }\n    return bodyCache[key] = raw[key]();\n  };\n  /**\n   * `.json()` can parse Request body of type `application/json`\n   *\n   * @see {@link https://hono.dev/docs/api/request#json}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.json()\n   * })\n   * ```\n   */\n  json() {\n    return this.#cachedBody(\"text\").then((text) => JSON.parse(text));\n  }\n  /**\n   * `.text()` can parse Request body of type `text/plain`\n   *\n   * @see {@link https://hono.dev/docs/api/request#text}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.text()\n   * })\n   * ```\n   */\n  text() {\n    return this.#cachedBody(\"text\");\n  }\n  /**\n   * `.arrayBuffer()` parse Request body as an `ArrayBuffer`\n   *\n   * @see {@link https://hono.dev/docs/api/request#arraybuffer}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.arrayBuffer()\n   * })\n   * ```\n   */\n  arrayBuffer() {\n    return this.#cachedBody(\"arrayBuffer\");\n  }\n  /**\n   * Parses the request body as a `Blob`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.blob();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#blob\n   */\n  blob() {\n    return this.#cachedBody(\"blob\");\n  }\n  /**\n   * Parses the request body as `FormData`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.formData();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#formdata\n   */\n  formData() {\n    return this.#cachedBody(\"formData\");\n  }\n  /**\n   * Adds validated data to the request.\n   *\n   * @param target - The target of the validation.\n   * @param data - The validated data to add.\n   */\n  addValidatedData(target, data) {\n    this.#validatedData[target] = data;\n  }\n  valid(target) {\n    return this.#validatedData[target];\n  }\n  /**\n   * `.url()` can get the request url strings.\n   *\n   * @see {@link https://hono.dev/docs/api/request#url}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const url = c.req.url // `http://localhost:8787/about/me`\n   *   ...\n   * })\n   * ```\n   */\n  get url() {\n    return this.raw.url;\n  }\n  /**\n   * `.method()` can get the method name of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#method}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const method = c.req.method // `GET`\n   * })\n   * ```\n   */\n  get method() {\n    return this.raw.method;\n  }\n  get [GET_MATCH_RESULT]() {\n    return this.#matchResult;\n  }\n  /**\n   * `.matchedRoutes()` can return a matched route in the handler\n   *\n   * @deprecated\n   *\n   * Use matchedRoutes helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#matchedroutes}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async function logger(c, next) {\n   *   await next()\n   *   c.req.matchedRoutes.forEach(({ handler, method, path }, i) => {\n   *     const name = handler.name || (handler.length < 2 ? '[handler]' : '[middleware]')\n   *     console.log(\n   *       method,\n   *       ' ',\n   *       path,\n   *       ' '.repeat(Math.max(10 - path.length, 0)),\n   *       name,\n   *       i === c.req.routeIndex ? '<- respond from here' : ''\n   *     )\n   *   })\n   * })\n   * ```\n   */\n  get matchedRoutes() {\n    return this.#matchResult[0].map(([[, route]]) => route);\n  }\n  /**\n   * `routePath()` can retrieve the path registered within the handler\n   *\n   * @deprecated\n   *\n   * Use routePath helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#routepath}\n   *\n   * @example\n   * ```ts\n   * app.get('/posts/:id', (c) => {\n   *   return c.json({ path: c.req.routePath })\n   * })\n   * ```\n   */\n  get routePath() {\n    return this.#matchResult[0].map(([[, route]]) => route)[this.routeIndex].path;\n  }\n};\nvar cloneRawRequest = async (req) => {\n  if (!req.raw.bodyUsed) {\n    return req.raw.clone();\n  }\n  const cacheKey = Object.keys(req.bodyCache)[0];\n  if (!cacheKey) {\n    throw new HTTPException(500, {\n      message: \"Cannot clone request: body was already consumed and not cached. Please use HonoRequest methods (e.g., req.json(), req.text()) instead of consuming req.raw directly.\"\n    });\n  }\n  const requestInit = {\n    body: await req[cacheKey](),\n    cache: req.raw.cache,\n    credentials: req.raw.credentials,\n    headers: req.header(),\n    integrity: req.raw.integrity,\n    keepalive: req.raw.keepalive,\n    method: req.method,\n    mode: req.raw.mode,\n    redirect: req.raw.redirect,\n    referrer: req.raw.referrer,\n    referrerPolicy: req.raw.referrerPolicy,\n    signal: req.raw.signal\n  };\n  return new Request(req.url, requestInit);\n};\nexport {\n  HonoRequest,\n  cloneRawRequest\n};\n", "// src/http-exception.ts\nvar HTTPException = class extends Error {\n  res;\n  status;\n  /**\n   * Creates an instance of `HTTPException`.\n   * @param status - HTTP status code for the exception. Defaults to 500.\n   * @param options - Additional options for the exception.\n   */\n  constructor(status = 500, options) {\n    super(options?.message, { cause: options?.cause });\n    this.res = options?.res;\n    this.status = status;\n  }\n  /**\n   * Returns the response object associated with the exception.\n   * If a response object is not provided, a new response is created with the error message and status code.\n   * @returns The response object.\n   */\n  getResponse() {\n    if (this.res) {\n      const newResponse = new Response(this.res.body, {\n        status: this.status,\n        headers: this.res.headers\n      });\n      return newResponse;\n    }\n    return new Response(this.message, {\n      status: this.status\n    });\n  }\n};\nexport {\n  HTTPException\n};\n", "// src/request/constants.ts\nvar GET_MATCH_RESULT = /* @__PURE__ */ Symbol();\nexport {\n  GET_MATCH_RESULT\n};\n", "// src/utils/body.ts\nimport { HonoRequest } from \"../request.js\";\nvar parseBody = async (request, options = /* @__PURE__ */ Object.create(null)) => {\n  const { all = false, dot = false } = options;\n  const headers = request instanceof HonoRequest ? request.raw.headers : request.headers;\n  const contentType = headers.get(\"Content-Type\");\n  if (contentType?.startsWith(\"multipart/form-data\") || contentType?.startsWith(\"application/x-www-form-urlencoded\")) {\n    return parseFormData(request, { all, dot });\n  }\n  return {};\n};\nasync function parseFormData(request, options) {\n  const formData = await request.formData();\n  if (formData) {\n    return convertFormDataToBodyData(formData, options);\n  }\n  return {};\n}\nfunction convertFormDataToBodyData(formData, options) {\n  const form = /* @__PURE__ */ Object.create(null);\n  formData.forEach((value, key) => {\n    const shouldParseAllValues = options.all || key.endsWith(\"[]\");\n    if (!shouldParseAllValues) {\n      form[key] = value;\n    } else {\n      handleParsingAllValues(form, key, value);\n    }\n  });\n  if (options.dot) {\n    Object.entries(form).forEach(([key, value]) => {\n      const shouldParseDotValues = key.includes(\".\");\n      if (shouldParseDotValues) {\n        handleParsingNestedValues(form, key, value);\n        delete form[key];\n      }\n    });\n  }\n  return form;\n}\nvar handleParsingAllValues = (form, key, value) => {\n  if (form[key] !== void 0) {\n    if (Array.isArray(form[key])) {\n      ;\n      form[key].push(value);\n    } else {\n      form[key] = [form[key], value];\n    }\n  } else {\n    if (!key.endsWith(\"[]\")) {\n      form[key] = value;\n    } else {\n      form[key] = [value];\n    }\n  }\n};\nvar handleParsingNestedValues = (form, key, value) => {\n  let nestedForm = form;\n  const keys = key.split(\".\");\n  keys.forEach((key2, index) => {\n    if (index === keys.length - 1) {\n      nestedForm[key2] = value;\n    } else {\n      if (!nestedForm[key2] || typeof nestedForm[key2] !== \"object\" || Array.isArray(nestedForm[key2]) || nestedForm[key2] instanceof File) {\n        nestedForm[key2] = /* @__PURE__ */ Object.create(null);\n      }\n      nestedForm = nestedForm[key2];\n    }\n  });\n};\nexport {\n  parseBody\n};\n", "// src/utils/url.ts\nvar splitPath = (path) => {\n  const paths = path.split(\"/\");\n  if (paths[0] === \"\") {\n    paths.shift();\n  }\n  return paths;\n};\nvar splitRoutingPath = (routePath) => {\n  const { groups, path } = extractGroupsFromPath(routePath);\n  const paths = splitPath(path);\n  return replaceGroupMarks(paths, groups);\n};\nvar extractGroupsFromPath = (path) => {\n  const groups = [];\n  path = path.replace(/\\{[^}]+\\}/g, (match, index) => {\n    const mark = `@${index}`;\n    groups.push([mark, match]);\n    return mark;\n  });\n  return { groups, path };\n};\nvar replaceGroupMarks = (paths, groups) => {\n  for (let i = groups.length - 1; i >= 0; i--) {\n    const [mark] = groups[i];\n    for (let j = paths.length - 1; j >= 0; j--) {\n      if (paths[j].includes(mark)) {\n        paths[j] = paths[j].replace(mark, groups[i][1]);\n        break;\n      }\n    }\n  }\n  return paths;\n};\nvar patternCache = {};\nvar getPattern = (label, next) => {\n  if (label === \"*\") {\n    return \"*\";\n  }\n  const match = label.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n  if (match) {\n    const cacheKey = `${label}#${next}`;\n    if (!patternCache[cacheKey]) {\n      if (match[2]) {\n        patternCache[cacheKey] = next && next[0] !== \":\" && next[0] !== \"*\" ? [cacheKey, match[1], new RegExp(`^${match[2]}(?=/${next})`)] : [label, match[1], new RegExp(`^${match[2]}$`)];\n      } else {\n        patternCache[cacheKey] = [label, match[1], true];\n      }\n    }\n    return patternCache[cacheKey];\n  }\n  return null;\n};\nvar tryDecode = (str, decoder) => {\n  try {\n    return decoder(str);\n  } catch {\n    return str.replace(/(?:%[0-9A-Fa-f]{2})+/g, (match) => {\n      try {\n        return decoder(match);\n      } catch {\n        return match;\n      }\n    });\n  }\n};\nvar tryDecodeURI = (str) => tryDecode(str, decodeURI);\nvar getPath = (request) => {\n  const url = request.url;\n  const start = url.indexOf(\"/\", url.indexOf(\":\") + 4);\n  let i = start;\n  for (; i < url.length; i++) {\n    const charCode = url.charCodeAt(i);\n    if (charCode === 37) {\n      const queryIndex = url.indexOf(\"?\", i);\n      const path = url.slice(start, queryIndex === -1 ? void 0 : queryIndex);\n      return tryDecodeURI(path.includes(\"%25\") ? path.replace(/%25/g, \"%2525\") : path);\n    } else if (charCode === 63) {\n      break;\n    }\n  }\n  return url.slice(start, i);\n};\nvar getQueryStrings = (url) => {\n  const queryIndex = url.indexOf(\"?\", 8);\n  return queryIndex === -1 ? \"\" : \"?\" + url.slice(queryIndex + 1);\n};\nvar getPathNoStrict = (request) => {\n  const result = getPath(request);\n  return result.length > 1 && result.at(-1) === \"/\" ? result.slice(0, -1) : result;\n};\nvar mergePath = (base, sub, ...rest) => {\n  if (rest.length) {\n    sub = mergePath(sub, ...rest);\n  }\n  return `${base?.[0] === \"/\" ? \"\" : \"/\"}${base}${sub === \"/\" ? \"\" : `${base?.at(-1) === \"/\" ? \"\" : \"/\"}${sub?.[0] === \"/\" ? sub.slice(1) : sub}`}`;\n};\nvar checkOptionalParameter = (path) => {\n  if (path.charCodeAt(path.length - 1) !== 63 || !path.includes(\":\")) {\n    return null;\n  }\n  const segments = path.split(\"/\");\n  const results = [];\n  let basePath = \"\";\n  segments.forEach((segment) => {\n    if (segment !== \"\" && !/\\:/.test(segment)) {\n      basePath += \"/\" + segment;\n    } else if (/\\:/.test(segment)) {\n      if (/\\?/.test(segment)) {\n        if (results.length === 0 && basePath === \"\") {\n          results.push(\"/\");\n        } else {\n          results.push(basePath);\n        }\n        const optionalSegment = segment.replace(\"?\", \"\");\n        basePath += \"/\" + optionalSegment;\n        results.push(basePath);\n      } else {\n        basePath += \"/\" + segment;\n      }\n    }\n  });\n  return results.filter((v, i, a) => a.indexOf(v) === i);\n};\nvar _decodeURI = (value) => {\n  if (!/[%+]/.test(value)) {\n    return value;\n  }\n  if (value.indexOf(\"+\") !== -1) {\n    value = value.replace(/\\+/g, \" \");\n  }\n  return value.indexOf(\"%\") !== -1 ? tryDecode(value, decodeURIComponent_) : value;\n};\nvar _getQueryParam = (url, key, multiple) => {\n  let encoded;\n  if (!multiple && key && !/[%+]/.test(key)) {\n    let keyIndex2 = url.indexOf(\"?\", 8);\n    if (keyIndex2 === -1) {\n      return void 0;\n    }\n    if (!url.startsWith(key, keyIndex2 + 1)) {\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    while (keyIndex2 !== -1) {\n      const trailingKeyCode = url.charCodeAt(keyIndex2 + key.length + 1);\n      if (trailingKeyCode === 61) {\n        const valueIndex = keyIndex2 + key.length + 2;\n        const endIndex = url.indexOf(\"&\", valueIndex);\n        return _decodeURI(url.slice(valueIndex, endIndex === -1 ? void 0 : endIndex));\n      } else if (trailingKeyCode == 38 || isNaN(trailingKeyCode)) {\n        return \"\";\n      }\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    encoded = /[%+]/.test(url);\n    if (!encoded) {\n      return void 0;\n    }\n  }\n  const results = {};\n  encoded ??= /[%+]/.test(url);\n  let keyIndex = url.indexOf(\"?\", 8);\n  while (keyIndex !== -1) {\n    const nextKeyIndex = url.indexOf(\"&\", keyIndex + 1);\n    let valueIndex = url.indexOf(\"=\", keyIndex);\n    if (valueIndex > nextKeyIndex && nextKeyIndex !== -1) {\n      valueIndex = -1;\n    }\n    let name = url.slice(\n      keyIndex + 1,\n      valueIndex === -1 ? nextKeyIndex === -1 ? void 0 : nextKeyIndex : valueIndex\n    );\n    if (encoded) {\n      name = _decodeURI(name);\n    }\n    keyIndex = nextKeyIndex;\n    if (name === \"\") {\n      continue;\n    }\n    let value;\n    if (valueIndex === -1) {\n      value = \"\";\n    } else {\n      value = url.slice(valueIndex + 1, nextKeyIndex === -1 ? void 0 : nextKeyIndex);\n      if (encoded) {\n        value = _decodeURI(value);\n      }\n    }\n    if (multiple) {\n      if (!(results[name] && Array.isArray(results[name]))) {\n        results[name] = [];\n      }\n      ;\n      results[name].push(value);\n    } else {\n      results[name] ??= value;\n    }\n  }\n  return key ? results[key] : results;\n};\nvar getQueryParam = _getQueryParam;\nvar getQueryParams = (url, key) => {\n  return _getQueryParam(url, key, true);\n};\nvar decodeURIComponent_ = decodeURIComponent;\nexport {\n  checkOptionalParameter,\n  decodeURIComponent_,\n  getPath,\n  getPathNoStrict,\n  getPattern,\n  getQueryParam,\n  getQueryParams,\n  getQueryStrings,\n  mergePath,\n  splitPath,\n  splitRoutingPath,\n  tryDecode\n};\n", "// src/utils/html.ts\nvar HtmlEscapedCallbackPhase = {\n  Stringify: 1,\n  BeforeStream: 2,\n  Stream: 3\n};\nvar raw = (value, callbacks) => {\n  const escapedString = new String(value);\n  escapedString.isEscaped = true;\n  escapedString.callbacks = callbacks;\n  return escapedString;\n};\nvar escapeRe = /[&<>'\"]/;\nvar stringBufferToString = async (buffer, callbacks) => {\n  let str = \"\";\n  callbacks ||= [];\n  const resolvedBuffer = await Promise.all(buffer);\n  for (let i = resolvedBuffer.length - 1; ; i--) {\n    str += resolvedBuffer[i];\n    i--;\n    if (i < 0) {\n      break;\n    }\n    let r = resolvedBuffer[i];\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    const isEscaped = r.isEscaped;\n    r = await (typeof r === \"object\" ? r.toString() : r);\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    if (r.isEscaped ?? isEscaped) {\n      str += r;\n    } else {\n      const buf = [str];\n      escapeToBuffer(r, buf);\n      str = buf[0];\n    }\n  }\n  return raw(str, callbacks);\n};\nvar escapeToBuffer = (str, buffer) => {\n  const match = str.search(escapeRe);\n  if (match === -1) {\n    buffer[0] += str;\n    return;\n  }\n  let escape;\n  let index;\n  let lastIndex = 0;\n  for (index = match; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escape = \"&quot;\";\n        break;\n      case 39:\n        escape = \"&#39;\";\n        break;\n      case 38:\n        escape = \"&amp;\";\n        break;\n      case 60:\n        escape = \"&lt;\";\n        break;\n      case 62:\n        escape = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    buffer[0] += str.substring(lastIndex, index) + escape;\n    lastIndex = index + 1;\n  }\n  buffer[0] += str.substring(lastIndex, index);\n};\nvar resolveCallbackSync = (str) => {\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return str;\n  }\n  const buffer = [str];\n  const context = {};\n  callbacks.forEach((c) => c({ phase: HtmlEscapedCallbackPhase.Stringify, buffer, context }));\n  return buffer[0];\n};\nvar resolveCallback = async (str, phase, preserveCallbacks, context, buffer) => {\n  if (typeof str === \"object\" && !(str instanceof String)) {\n    if (!(str instanceof Promise)) {\n      str = str.toString();\n    }\n    if (str instanceof Promise) {\n      str = await str;\n    }\n  }\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return Promise.resolve(str);\n  }\n  if (buffer) {\n    buffer[0] += str;\n  } else {\n    buffer = [str];\n  }\n  const resStr = Promise.all(callbacks.map((c) => c({ phase, buffer, context }))).then(\n    (res) => Promise.all(\n      res.filter(Boolean).map((str2) => resolveCallback(str2, phase, false, context, buffer))\n    ).then(() => buffer[0])\n  );\n  if (preserveCallbacks) {\n    return raw(await resStr, callbacks);\n  } else {\n    return resStr;\n  }\n};\nexport {\n  HtmlEscapedCallbackPhase,\n  escapeToBuffer,\n  raw,\n  resolveCallback,\n  resolveCallbackSync,\n  stringBufferToString\n};\n", "// src/router.ts\nvar METHOD_NAME_ALL = \"ALL\";\nvar METHOD_NAME_ALL_LOWERCASE = \"all\";\nvar METHODS = [\"get\", \"post\", \"put\", \"delete\", \"options\", \"patch\"];\nvar MESSAGE_MATCHER_IS_ALREADY_BUILT = \"Can not add a route since the matcher is already built.\";\nvar UnsupportedPathError = class extends Error {\n};\nexport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHODS,\n  METHOD_NAME_ALL,\n  METHOD_NAME_ALL_LOWERCASE,\n  UnsupportedPathError\n};\n", "// src/utils/constants.ts\nvar COMPOSED_HANDLER = \"__COMPOSED_HANDLER\";\nexport {\n  COMPOSED_HANDLER\n};\n", "// src/router/reg-exp-router/index.ts\nimport { RegExpRouter } from \"./router.js\";\nimport { PreparedRegExpRouter, buildInitParams, serializeInitParams } from \"./prepared-router.js\";\nexport {\n  PreparedRegExpRouter,\n  RegExpRouter,\n  buildInitParams,\n  serializeInitParams\n};\n", "// src/router/reg-exp-router/router.ts\nimport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHOD_NAME_ALL,\n  UnsupportedPathError\n} from \"../../router.js\";\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { match, emptyParam } from \"./matcher.js\";\nimport { PATH_ERROR } from \"./node.js\";\nimport { Trie } from \"./trie.js\";\nvar nullMatcher = [/^$/, [], /* @__PURE__ */ Object.create(null)];\nvar wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\nfunction buildWildcardRegExp(path) {\n  return wildcardRegExpCache[path] ??= new RegExp(\n    path === \"*\" ? \"\" : `^${path.replace(\n      /\\/\\*$|([.\\\\+*[^\\]$()])/g,\n      (_, metaChar) => metaChar ? `\\\\${metaChar}` : \"(?:|/.*)\"\n    )}$`\n  );\n}\nfunction clearWildcardRegExpCache() {\n  wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\n}\nfunction buildMatcherFromPreprocessedRoutes(routes) {\n  const trie = new Trie();\n  const handlerData = [];\n  if (routes.length === 0) {\n    return nullMatcher;\n  }\n  const routesWithStaticPathFlag = routes.map(\n    (route) => [!/\\*|\\/:/.test(route[0]), ...route]\n  ).sort(\n    ([isStaticA, pathA], [isStaticB, pathB]) => isStaticA ? 1 : isStaticB ? -1 : pathA.length - pathB.length\n  );\n  const staticMap = /* @__PURE__ */ Object.create(null);\n  for (let i = 0, j = -1, len = routesWithStaticPathFlag.length; i < len; i++) {\n    const [pathErrorCheckOnly, path, handlers] = routesWithStaticPathFlag[i];\n    if (pathErrorCheckOnly) {\n      staticMap[path] = [handlers.map(([h]) => [h, /* @__PURE__ */ Object.create(null)]), emptyParam];\n    } else {\n      j++;\n    }\n    let paramAssoc;\n    try {\n      paramAssoc = trie.insert(path, j, pathErrorCheckOnly);\n    } catch (e) {\n      throw e === PATH_ERROR ? new UnsupportedPathError(path) : e;\n    }\n    if (pathErrorCheckOnly) {\n      continue;\n    }\n    handlerData[j] = handlers.map(([h, paramCount]) => {\n      const paramIndexMap = /* @__PURE__ */ Object.create(null);\n      paramCount -= 1;\n      for (; paramCount >= 0; paramCount--) {\n        const [key, value] = paramAssoc[paramCount];\n        paramIndexMap[key] = value;\n      }\n      return [h, paramIndexMap];\n    });\n  }\n  const [regexp, indexReplacementMap, paramReplacementMap] = trie.buildRegExp();\n  for (let i = 0, len = handlerData.length; i < len; i++) {\n    for (let j = 0, len2 = handlerData[i].length; j < len2; j++) {\n      const map = handlerData[i][j]?.[1];\n      if (!map) {\n        continue;\n      }\n      const keys = Object.keys(map);\n      for (let k = 0, len3 = keys.length; k < len3; k++) {\n        map[keys[k]] = paramReplacementMap[map[keys[k]]];\n      }\n    }\n  }\n  const handlerMap = [];\n  for (const i in indexReplacementMap) {\n    handlerMap[i] = handlerData[indexReplacementMap[i]];\n  }\n  return [regexp, handlerMap, staticMap];\n}\nfunction findMiddleware(middleware, path) {\n  if (!middleware) {\n    return void 0;\n  }\n  for (const k of Object.keys(middleware).sort((a, b) => b.length - a.length)) {\n    if (buildWildcardRegExp(k).test(path)) {\n      return [...middleware[k]];\n    }\n  }\n  return void 0;\n}\nvar RegExpRouter = class {\n  name = \"RegExpRouter\";\n  #middleware;\n  #routes;\n  constructor() {\n    this.#middleware = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n    this.#routes = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n  }\n  add(method, path, handler) {\n    const middleware = this.#middleware;\n    const routes = this.#routes;\n    if (!middleware || !routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    if (!middleware[method]) {\n      ;\n      [middleware, routes].forEach((handlerMap) => {\n        handlerMap[method] = /* @__PURE__ */ Object.create(null);\n        Object.keys(handlerMap[METHOD_NAME_ALL]).forEach((p) => {\n          handlerMap[method][p] = [...handlerMap[METHOD_NAME_ALL][p]];\n        });\n      });\n    }\n    if (path === \"/*\") {\n      path = \"*\";\n    }\n    const paramCount = (path.match(/\\/:/g) || []).length;\n    if (/\\*$/.test(path)) {\n      const re = buildWildcardRegExp(path);\n      if (method === METHOD_NAME_ALL) {\n        Object.keys(middleware).forEach((m) => {\n          middleware[m][path] ||= findMiddleware(middleware[m], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n        });\n      } else {\n        middleware[method][path] ||= findMiddleware(middleware[method], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n      }\n      Object.keys(middleware).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(middleware[m]).forEach((p) => {\n            re.test(p) && middleware[m][p].push([handler, paramCount]);\n          });\n        }\n      });\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(routes[m]).forEach(\n            (p) => re.test(p) && routes[m][p].push([handler, paramCount])\n          );\n        }\n      });\n      return;\n    }\n    const paths = checkOptionalParameter(path) || [path];\n    for (let i = 0, len = paths.length; i < len; i++) {\n      const path2 = paths[i];\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          routes[m][path2] ||= [\n            ...findMiddleware(middleware[m], path2) || findMiddleware(middleware[METHOD_NAME_ALL], path2) || []\n          ];\n          routes[m][path2].push([handler, paramCount - len + i + 1]);\n        }\n      });\n    }\n  }\n  match = match;\n  buildAllMatchers() {\n    const matchers = /* @__PURE__ */ Object.create(null);\n    Object.keys(this.#routes).concat(Object.keys(this.#middleware)).forEach((method) => {\n      matchers[method] ||= this.#buildMatcher(method);\n    });\n    this.#middleware = this.#routes = void 0;\n    clearWildcardRegExpCache();\n    return matchers;\n  }\n  #buildMatcher(method) {\n    const routes = [];\n    let hasOwnRoute = method === METHOD_NAME_ALL;\n    [this.#middleware, this.#routes].forEach((r) => {\n      const ownRoute = r[method] ? Object.keys(r[method]).map((path) => [path, r[method][path]]) : [];\n      if (ownRoute.length !== 0) {\n        hasOwnRoute ||= true;\n        routes.push(...ownRoute);\n      } else if (method !== METHOD_NAME_ALL) {\n        routes.push(\n          ...Object.keys(r[METHOD_NAME_ALL]).map((path) => [path, r[METHOD_NAME_ALL][path]])\n        );\n      }\n    });\n    if (!hasOwnRoute) {\n      return null;\n    } else {\n      return buildMatcherFromPreprocessedRoutes(routes);\n    }\n  }\n};\nexport {\n  RegExpRouter\n};\n", "// src/router/reg-exp-router/matcher.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nvar emptyParam = [];\nfunction match(method, path) {\n  const matchers = this.buildAllMatchers();\n  const match2 = ((method2, path2) => {\n    const matcher = matchers[method2] || matchers[METHOD_NAME_ALL];\n    const staticMatch = matcher[2][path2];\n    if (staticMatch) {\n      return staticMatch;\n    }\n    const match3 = path2.match(matcher[0]);\n    if (!match3) {\n      return [[], emptyParam];\n    }\n    const index = match3.indexOf(\"\", 1);\n    return [matcher[1][index], match3];\n  });\n  this.match = match2;\n  return match2(method, path);\n}\nexport {\n  emptyParam,\n  match\n};\n", "// src/router/reg-exp-router/node.ts\nvar LABEL_REG_EXP_STR = \"[^/]+\";\nvar ONLY_WILDCARD_REG_EXP_STR = \".*\";\nvar TAIL_WILDCARD_REG_EXP_STR = \"(?:|/.*)\";\nvar PATH_ERROR = /* @__PURE__ */ Symbol();\nvar regExpMetaChars = new Set(\".\\\\+*[^]$()\");\nfunction compareKey(a, b) {\n  if (a.length === 1) {\n    return b.length === 1 ? a < b ? -1 : 1 : -1;\n  }\n  if (b.length === 1) {\n    return 1;\n  }\n  if (a === ONLY_WILDCARD_REG_EXP_STR || a === TAIL_WILDCARD_REG_EXP_STR) {\n    return 1;\n  } else if (b === ONLY_WILDCARD_REG_EXP_STR || b === TAIL_WILDCARD_REG_EXP_STR) {\n    return -1;\n  }\n  if (a === LABEL_REG_EXP_STR) {\n    return 1;\n  } else if (b === LABEL_REG_EXP_STR) {\n    return -1;\n  }\n  return a.length === b.length ? a < b ? -1 : 1 : b.length - a.length;\n}\nvar Node = class _Node {\n  #index;\n  #varIndex;\n  #children = /* @__PURE__ */ Object.create(null);\n  insert(tokens, index, paramMap, context, pathErrorCheckOnly) {\n    if (tokens.length === 0) {\n      if (this.#index !== void 0) {\n        throw PATH_ERROR;\n      }\n      if (pathErrorCheckOnly) {\n        return;\n      }\n      this.#index = index;\n      return;\n    }\n    const [token, ...restTokens] = tokens;\n    const pattern = token === \"*\" ? restTokens.length === 0 ? [\"\", \"\", ONLY_WILDCARD_REG_EXP_STR] : [\"\", \"\", LABEL_REG_EXP_STR] : token === \"/*\" ? [\"\", \"\", TAIL_WILDCARD_REG_EXP_STR] : token.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n    let node;\n    if (pattern) {\n      const name = pattern[1];\n      let regexpStr = pattern[2] || LABEL_REG_EXP_STR;\n      if (name && pattern[2]) {\n        if (regexpStr === \".*\") {\n          throw PATH_ERROR;\n        }\n        regexpStr = regexpStr.replace(/^\\((?!\\?:)(?=[^)]+\\)$)/, \"(?:\");\n        if (/\\((?!\\?:)/.test(regexpStr)) {\n          throw PATH_ERROR;\n        }\n      }\n      node = this.#children[regexpStr];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[regexpStr] = new _Node();\n        if (name !== \"\") {\n          node.#varIndex = context.varIndex++;\n        }\n      }\n      if (!pathErrorCheckOnly && name !== \"\") {\n        paramMap.push([name, node.#varIndex]);\n      }\n    } else {\n      node = this.#children[token];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k.length > 1 && k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[token] = new _Node();\n      }\n    }\n    node.insert(restTokens, index, paramMap, context, pathErrorCheckOnly);\n  }\n  buildRegExpStr() {\n    const childKeys = Object.keys(this.#children).sort(compareKey);\n    const strList = childKeys.map((k) => {\n      const c = this.#children[k];\n      return (typeof c.#varIndex === \"number\" ? `(${k})@${c.#varIndex}` : regExpMetaChars.has(k) ? `\\\\${k}` : k) + c.buildRegExpStr();\n    });\n    if (typeof this.#index === \"number\") {\n      strList.unshift(`#${this.#index}`);\n    }\n    if (strList.length === 0) {\n      return \"\";\n    }\n    if (strList.length === 1) {\n      return strList[0];\n    }\n    return \"(?:\" + strList.join(\"|\") + \")\";\n  }\n};\nexport {\n  Node,\n  PATH_ERROR\n};\n", "// src/router/reg-exp-router/trie.ts\nimport { Node } from \"./node.js\";\nvar Trie = class {\n  #context = { varIndex: 0 };\n  #root = new Node();\n  insert(path, index, pathErrorCheckOnly) {\n    const paramAssoc = [];\n    const groups = [];\n    for (let i = 0; ; ) {\n      let replaced = false;\n      path = path.replace(/\\{[^}]+\\}/g, (m) => {\n        const mark = `@\\\\${i}`;\n        groups[i] = [mark, m];\n        i++;\n        replaced = true;\n        return mark;\n      });\n      if (!replaced) {\n        break;\n      }\n    }\n    const tokens = path.match(/(?::[^\\/]+)|(?:\\/\\*$)|./g) || [];\n    for (let i = groups.length - 1; i >= 0; i--) {\n      const [mark] = groups[i];\n      for (let j = tokens.length - 1; j >= 0; j--) {\n        if (tokens[j].indexOf(mark) !== -1) {\n          tokens[j] = tokens[j].replace(mark, groups[i][1]);\n          break;\n        }\n      }\n    }\n    this.#root.insert(tokens, index, paramAssoc, this.#context, pathErrorCheckOnly);\n    return paramAssoc;\n  }\n  buildRegExp() {\n    let regexp = this.#root.buildRegExpStr();\n    if (regexp === \"\") {\n      return [/^$/, [], []];\n    }\n    let captureIndex = 0;\n    const indexReplacementMap = [];\n    const paramReplacementMap = [];\n    regexp = regexp.replace(/#(\\d+)|@(\\d+)|\\.\\*\\$/g, (_, handlerIndex, paramIndex) => {\n      if (handlerIndex !== void 0) {\n        indexReplacementMap[++captureIndex] = Number(handlerIndex);\n        return \"$()\";\n      }\n      if (paramIndex !== void 0) {\n        paramReplacementMap[Number(paramIndex)] = ++captureIndex;\n        return \"\";\n      }\n      return \"\";\n    });\n    return [new RegExp(`^${regexp}`), indexReplacementMap, paramReplacementMap];\n  }\n};\nexport {\n  Trie\n};\n", "// src/router/reg-exp-router/prepared-router.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nimport { match, emptyParam } from \"./matcher.js\";\nimport { RegExpRouter } from \"./router.js\";\nvar PreparedRegExpRouter = class {\n  name = \"PreparedRegExpRouter\";\n  #matchers;\n  #relocateMap;\n  constructor(matchers, relocateMap) {\n    this.#matchers = matchers;\n    this.#relocateMap = relocateMap;\n  }\n  #addWildcard(method, handlerData) {\n    const matcher = this.#matchers[method];\n    matcher[1].forEach((list) => list && list.push(handlerData));\n    Object.values(matcher[2]).forEach((list) => list[0].push(handlerData));\n  }\n  #addPath(method, path, handler, indexes, map) {\n    const matcher = this.#matchers[method];\n    if (!map) {\n      matcher[2][path][0].push([handler, {}]);\n    } else {\n      indexes.forEach((index) => {\n        if (typeof index === \"number\") {\n          matcher[1][index].push([handler, map]);\n        } else {\n          ;\n          matcher[2][index || path][0].push([handler, map]);\n        }\n      });\n    }\n  }\n  add(method, path, handler) {\n    if (!this.#matchers[method]) {\n      const all = this.#matchers[METHOD_NAME_ALL];\n      const staticMap = {};\n      for (const key in all[2]) {\n        staticMap[key] = [all[2][key][0].slice(), emptyParam];\n      }\n      this.#matchers[method] = [\n        all[0],\n        all[1].map((list) => Array.isArray(list) ? list.slice() : 0),\n        staticMap\n      ];\n    }\n    if (path === \"/*\" || path === \"*\") {\n      const handlerData = [handler, {}];\n      if (method === METHOD_NAME_ALL) {\n        for (const m in this.#matchers) {\n          this.#addWildcard(m, handlerData);\n        }\n      } else {\n        this.#addWildcard(method, handlerData);\n      }\n      return;\n    }\n    const data = this.#relocateMap[path];\n    if (!data) {\n      throw new Error(`Path ${path} is not registered`);\n    }\n    for (const [indexes, map] of data) {\n      if (method === METHOD_NAME_ALL) {\n        for (const m in this.#matchers) {\n          this.#addPath(m, path, handler, indexes, map);\n        }\n      } else {\n        this.#addPath(method, path, handler, indexes, map);\n      }\n    }\n  }\n  buildAllMatchers() {\n    return this.#matchers;\n  }\n  match = match;\n};\nvar buildInitParams = ({ paths }) => {\n  const RegExpRouterWithMatcherExport = class extends RegExpRouter {\n    buildAndExportAllMatchers() {\n      return this.buildAllMatchers();\n    }\n  };\n  const router = new RegExpRouterWithMatcherExport();\n  for (const path of paths) {\n    router.add(METHOD_NAME_ALL, path, path);\n  }\n  const matchers = router.buildAndExportAllMatchers();\n  const all = matchers[METHOD_NAME_ALL];\n  const relocateMap = {};\n  for (const path of paths) {\n    if (path === \"/*\" || path === \"*\") {\n      continue;\n    }\n    all[1].forEach((list, i) => {\n      list.forEach(([p, map]) => {\n        if (p === path) {\n          if (relocateMap[path]) {\n            relocateMap[path][0][1] = {\n              ...relocateMap[path][0][1],\n              ...map\n            };\n          } else {\n            relocateMap[path] = [[[], map]];\n          }\n          if (relocateMap[path][0][0].findIndex((j) => j === i) === -1) {\n            relocateMap[path][0][0].push(i);\n          }\n        }\n      });\n    });\n    for (const path2 in all[2]) {\n      all[2][path2][0].forEach(([p]) => {\n        if (p === path) {\n          relocateMap[path] ||= [[[]]];\n          const value = path2 === path ? \"\" : path2;\n          if (relocateMap[path][0][0].findIndex((v) => v === value) === -1) {\n            relocateMap[path][0][0].push(value);\n          }\n        }\n      });\n    }\n  }\n  for (let i = 0, len = all[1].length; i < len; i++) {\n    all[1][i] = all[1][i] ? [] : 0;\n  }\n  for (const path in all[2]) {\n    all[2][path][0] = [];\n  }\n  return [matchers, relocateMap];\n};\nvar serializeInitParams = ([matchers, relocateMap]) => {\n  const matchersStr = JSON.stringify(\n    matchers,\n    (_, value) => value instanceof RegExp ? `##${value.toString()}##` : value\n  ).replace(/\"##(.+?)##\"/g, (_, str) => str.replace(/\\\\\\\\/g, \"\\\\\"));\n  const relocateMapStr = JSON.stringify(relocateMap);\n  return `[${matchersStr},${relocateMapStr}]`;\n};\nexport {\n  PreparedRegExpRouter,\n  buildInitParams,\n  serializeInitParams\n};\n", "// src/router/smart-router/index.ts\nimport { SmartRouter } from \"./router.js\";\nexport {\n  SmartRouter\n};\n", "// src/router/smart-router/router.ts\nimport { MESSAGE_MATCHER_IS_ALREADY_BUILT, UnsupportedPathError } from \"../../router.js\";\nvar SmartRouter = class {\n  name = \"SmartRouter\";\n  #routers = [];\n  #routes = [];\n  constructor(init) {\n    this.#routers = init.routers;\n  }\n  add(method, path, handler) {\n    if (!this.#routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    this.#routes.push([method, path, handler]);\n  }\n  match(method, path) {\n    if (!this.#routes) {\n      throw new Error(\"Fatal error\");\n    }\n    const routers = this.#routers;\n    const routes = this.#routes;\n    const len = routers.length;\n    let i = 0;\n    let res;\n    for (; i < len; i++) {\n      const router = routers[i];\n      try {\n        for (let i2 = 0, len2 = routes.length; i2 < len2; i2++) {\n          router.add(...routes[i2]);\n        }\n        res = router.match(method, path);\n      } catch (e) {\n        if (e instanceof UnsupportedPathError) {\n          continue;\n        }\n        throw e;\n      }\n      this.match = router.match.bind(router);\n      this.#routers = [router];\n      this.#routes = void 0;\n      break;\n    }\n    if (i === len) {\n      throw new Error(\"Fatal error\");\n    }\n    this.name = `SmartRouter + ${this.activeRouter.name}`;\n    return res;\n  }\n  get activeRouter() {\n    if (this.#routes || this.#routers.length !== 1) {\n      throw new Error(\"No active router has been determined yet.\");\n    }\n    return this.#routers[0];\n  }\n};\nexport {\n  SmartRouter\n};\n", "// src/router/trie-router/index.ts\nimport { TrieRouter } from \"./router.js\";\nexport {\n  TrieRouter\n};\n", "// src/router/trie-router/router.ts\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { Node } from \"./node.js\";\nvar TrieRouter = class {\n  name = \"TrieRouter\";\n  #node;\n  constructor() {\n    this.#node = new Node();\n  }\n  add(method, path, handler) {\n    const results = checkOptionalParameter(path);\n    if (results) {\n      for (let i = 0, len = results.length; i < len; i++) {\n        this.#node.insert(method, results[i], handler);\n      }\n      return;\n    }\n    this.#node.insert(method, path, handler);\n  }\n  match(method, path) {\n    return this.#node.search(method, path);\n  }\n};\nexport {\n  TrieRouter\n};\n", "// src/router/trie-router/node.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nimport { getPattern, splitPath, splitRoutingPath } from \"../../utils/url.js\";\nvar emptyParams = /* @__PURE__ */ Object.create(null);\nvar Node = class _Node {\n  #methods;\n  #children;\n  #patterns;\n  #order = 0;\n  #params = emptyParams;\n  constructor(method, handler, children) {\n    this.#children = children || /* @__PURE__ */ Object.create(null);\n    this.#methods = [];\n    if (method && handler) {\n      const m = /* @__PURE__ */ Object.create(null);\n      m[method] = { handler, possibleKeys: [], score: 0 };\n      this.#methods = [m];\n    }\n    this.#patterns = [];\n  }\n  insert(method, path, handler) {\n    this.#order = ++this.#order;\n    let curNode = this;\n    const parts = splitRoutingPath(path);\n    const possibleKeys = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const p = parts[i];\n      const nextP = parts[i + 1];\n      const pattern = getPattern(p, nextP);\n      const key = Array.isArray(pattern) ? pattern[0] : p;\n      if (key in curNode.#children) {\n        curNode = curNode.#children[key];\n        if (pattern) {\n          possibleKeys.push(pattern[1]);\n        }\n        continue;\n      }\n      curNode.#children[key] = new _Node();\n      if (pattern) {\n        curNode.#patterns.push(pattern);\n        possibleKeys.push(pattern[1]);\n      }\n      curNode = curNode.#children[key];\n    }\n    curNode.#methods.push({\n      [method]: {\n        handler,\n        possibleKeys: possibleKeys.filter((v, i, a) => a.indexOf(v) === i),\n        score: this.#order\n      }\n    });\n    return curNode;\n  }\n  #getHandlerSets(node, method, nodeParams, params) {\n    const handlerSets = [];\n    for (let i = 0, len = node.#methods.length; i < len; i++) {\n      const m = node.#methods[i];\n      const handlerSet = m[method] || m[METHOD_NAME_ALL];\n      const processedSet = {};\n      if (handlerSet !== void 0) {\n        handlerSet.params = /* @__PURE__ */ Object.create(null);\n        handlerSets.push(handlerSet);\n        if (nodeParams !== emptyParams || params && params !== emptyParams) {\n          for (let i2 = 0, len2 = handlerSet.possibleKeys.length; i2 < len2; i2++) {\n            const key = handlerSet.possibleKeys[i2];\n            const processed = processedSet[handlerSet.score];\n            handlerSet.params[key] = params?.[key] && !processed ? params[key] : nodeParams[key] ?? params?.[key];\n            processedSet[handlerSet.score] = true;\n          }\n        }\n      }\n    }\n    return handlerSets;\n  }\n  search(method, path) {\n    const handlerSets = [];\n    this.#params = emptyParams;\n    const curNode = this;\n    let curNodes = [curNode];\n    const parts = splitPath(path);\n    const curNodesQueue = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const part = parts[i];\n      const isLast = i === len - 1;\n      const tempNodes = [];\n      for (let j = 0, len2 = curNodes.length; j < len2; j++) {\n        const node = curNodes[j];\n        const nextNode = node.#children[part];\n        if (nextNode) {\n          nextNode.#params = node.#params;\n          if (isLast) {\n            if (nextNode.#children[\"*\"]) {\n              handlerSets.push(\n                ...this.#getHandlerSets(nextNode.#children[\"*\"], method, node.#params)\n              );\n            }\n            handlerSets.push(...this.#getHandlerSets(nextNode, method, node.#params));\n          } else {\n            tempNodes.push(nextNode);\n          }\n        }\n        for (let k = 0, len3 = node.#patterns.length; k < len3; k++) {\n          const pattern = node.#patterns[k];\n          const params = node.#params === emptyParams ? {} : { ...node.#params };\n          if (pattern === \"*\") {\n            const astNode = node.#children[\"*\"];\n            if (astNode) {\n              handlerSets.push(...this.#getHandlerSets(astNode, method, node.#params));\n              astNode.#params = params;\n              tempNodes.push(astNode);\n            }\n            continue;\n          }\n          const [key, name, matcher] = pattern;\n          if (!part && !(matcher instanceof RegExp)) {\n            continue;\n          }\n          const child = node.#children[key];\n          const restPathString = parts.slice(i).join(\"/\");\n          if (matcher instanceof RegExp) {\n            const m = matcher.exec(restPathString);\n            if (m) {\n              params[name] = m[0];\n              handlerSets.push(...this.#getHandlerSets(child, method, node.#params, params));\n              if (Object.keys(child.#children).length) {\n                child.#params = params;\n                const componentCount = m[0].match(/\\//)?.length ?? 0;\n                const targetCurNodes = curNodesQueue[componentCount] ||= [];\n                targetCurNodes.push(child);\n              }\n              continue;\n            }\n          }\n          if (matcher === true || matcher.test(part)) {\n            params[name] = part;\n            if (isLast) {\n              handlerSets.push(...this.#getHandlerSets(child, method, params, node.#params));\n              if (child.#children[\"*\"]) {\n                handlerSets.push(\n                  ...this.#getHandlerSets(child.#children[\"*\"], method, params, node.#params)\n                );\n              }\n            } else {\n              child.#params = params;\n              tempNodes.push(child);\n            }\n          }\n        }\n      }\n      curNodes = tempNodes.concat(curNodesQueue.shift() ?? []);\n    }\n    if (handlerSets.length > 1) {\n      handlerSets.sort((a, b) => {\n        return a.score - b.score;\n      });\n    }\n    return [handlerSets.map(({ handler, params }) => [handler, params])];\n  }\n};\nexport {\n  Node\n};\n", "// src/helper/cookie/index.ts\nimport { parse, parseSigned, serialize, serializeSigned } from \"../../utils/cookie.js\";\nvar getCookie = (c, key, prefix) => {\n  const cookie = c.req.raw.headers.get(\"Cookie\");\n  if (typeof key === \"string\") {\n    if (!cookie) {\n      return void 0;\n    }\n    let finalKey = key;\n    if (prefix === \"secure\") {\n      finalKey = \"__Secure-\" + key;\n    } else if (prefix === \"host\") {\n      finalKey = \"__Host-\" + key;\n    }\n    const obj2 = parse(cookie, finalKey);\n    return obj2[finalKey];\n  }\n  if (!cookie) {\n    return {};\n  }\n  const obj = parse(cookie);\n  return obj;\n};\nvar getSignedCookie = async (c, secret, key, prefix) => {\n  const cookie = c.req.raw.headers.get(\"Cookie\");\n  if (typeof key === \"string\") {\n    if (!cookie) {\n      return void 0;\n    }\n    let finalKey = key;\n    if (prefix === \"secure\") {\n      finalKey = \"__Secure-\" + key;\n    } else if (prefix === \"host\") {\n      finalKey = \"__Host-\" + key;\n    }\n    const obj2 = await parseSigned(cookie, secret, finalKey);\n    return obj2[finalKey];\n  }\n  if (!cookie) {\n    return {};\n  }\n  const obj = await parseSigned(cookie, secret);\n  return obj;\n};\nvar generateCookie = (name, value, opt) => {\n  let cookie;\n  if (opt?.prefix === \"secure\") {\n    cookie = serialize(\"__Secure-\" + name, value, { path: \"/\", ...opt, secure: true });\n  } else if (opt?.prefix === \"host\") {\n    cookie = serialize(\"__Host-\" + name, value, {\n      ...opt,\n      path: \"/\",\n      secure: true,\n      domain: void 0\n    });\n  } else {\n    cookie = serialize(name, value, { path: \"/\", ...opt });\n  }\n  return cookie;\n};\nvar setCookie = (c, name, value, opt) => {\n  const cookie = generateCookie(name, value, opt);\n  c.header(\"Set-Cookie\", cookie, { append: true });\n};\nvar generateSignedCookie = async (name, value, secret, opt) => {\n  let cookie;\n  if (opt?.prefix === \"secure\") {\n    cookie = await serializeSigned(\"__Secure-\" + name, value, secret, {\n      path: \"/\",\n      ...opt,\n      secure: true\n    });\n  } else if (opt?.prefix === \"host\") {\n    cookie = await serializeSigned(\"__Host-\" + name, value, secret, {\n      ...opt,\n      path: \"/\",\n      secure: true,\n      domain: void 0\n    });\n  } else {\n    cookie = await serializeSigned(name, value, secret, { path: \"/\", ...opt });\n  }\n  return cookie;\n};\nvar setSignedCookie = async (c, name, value, secret, opt) => {\n  const cookie = await generateSignedCookie(name, value, secret, opt);\n  c.header(\"set-cookie\", cookie, { append: true });\n};\nvar deleteCookie = (c, name, opt) => {\n  const deletedCookie = getCookie(c, name, opt?.prefix);\n  setCookie(c, name, \"\", { ...opt, maxAge: 0 });\n  return deletedCookie;\n};\nexport {\n  deleteCookie,\n  generateCookie,\n  generateSignedCookie,\n  getCookie,\n  getSignedCookie,\n  setCookie,\n  setSignedCookie\n};\n", "// src/utils/cookie.ts\nimport { decodeURIComponent_, tryDecode } from \"./url.js\";\nvar algorithm = { name: \"HMAC\", hash: \"SHA-256\" };\nvar getCryptoKey = async (secret) => {\n  const secretBuf = typeof secret === \"string\" ? new TextEncoder().encode(secret) : secret;\n  return await crypto.subtle.importKey(\"raw\", secretBuf, algorithm, false, [\"sign\", \"verify\"]);\n};\nvar makeSignature = async (value, secret) => {\n  const key = await getCryptoKey(secret);\n  const signature = await crypto.subtle.sign(algorithm.name, key, new TextEncoder().encode(value));\n  return btoa(String.fromCharCode(...new Uint8Array(signature)));\n};\nvar verifySignature = async (base64Signature, value, secret) => {\n  try {\n    const signatureBinStr = atob(base64Signature);\n    const signature = new Uint8Array(signatureBinStr.length);\n    for (let i = 0, len = signatureBinStr.length; i < len; i++) {\n      signature[i] = signatureBinStr.charCodeAt(i);\n    }\n    return await crypto.subtle.verify(algorithm, secret, signature, new TextEncoder().encode(value));\n  } catch {\n    return false;\n  }\n};\nvar validCookieNameRegEx = /^[\\w!#$%&'*.^`|~+-]+$/;\nvar validCookieValueRegEx = /^[ !#-:<-[\\]-~]*$/;\nvar parse = (cookie, name) => {\n  if (name && cookie.indexOf(name) === -1) {\n    return {};\n  }\n  const pairs = cookie.trim().split(\";\");\n  const parsedCookie = {};\n  for (let pairStr of pairs) {\n    pairStr = pairStr.trim();\n    const valueStartPos = pairStr.indexOf(\"=\");\n    if (valueStartPos === -1) {\n      continue;\n    }\n    const cookieName = pairStr.substring(0, valueStartPos).trim();\n    if (name && name !== cookieName || !validCookieNameRegEx.test(cookieName)) {\n      continue;\n    }\n    let cookieValue = pairStr.substring(valueStartPos + 1).trim();\n    if (cookieValue.startsWith('\"') && cookieValue.endsWith('\"')) {\n      cookieValue = cookieValue.slice(1, -1);\n    }\n    if (validCookieValueRegEx.test(cookieValue)) {\n      parsedCookie[cookieName] = cookieValue.indexOf(\"%\") !== -1 ? tryDecode(cookieValue, decodeURIComponent_) : cookieValue;\n      if (name) {\n        break;\n      }\n    }\n  }\n  return parsedCookie;\n};\nvar parseSigned = async (cookie, secret, name) => {\n  const parsedCookie = {};\n  const secretKey = await getCryptoKey(secret);\n  for (const [key, value] of Object.entries(parse(cookie, name))) {\n    const signatureStartPos = value.lastIndexOf(\".\");\n    if (signatureStartPos < 1) {\n      continue;\n    }\n    const signedValue = value.substring(0, signatureStartPos);\n    const signature = value.substring(signatureStartPos + 1);\n    if (signature.length !== 44 || !signature.endsWith(\"=\")) {\n      continue;\n    }\n    const isVerified = await verifySignature(signature, signedValue, secretKey);\n    parsedCookie[key] = isVerified ? signedValue : false;\n  }\n  return parsedCookie;\n};\nvar _serialize = (name, value, opt = {}) => {\n  let cookie = `${name}=${value}`;\n  if (name.startsWith(\"__Secure-\") && !opt.secure) {\n    throw new Error(\"__Secure- Cookie must have Secure attributes\");\n  }\n  if (name.startsWith(\"__Host-\")) {\n    if (!opt.secure) {\n      throw new Error(\"__Host- Cookie must have Secure attributes\");\n    }\n    if (opt.path !== \"/\") {\n      throw new Error('__Host- Cookie must have Path attributes with \"/\"');\n    }\n    if (opt.domain) {\n      throw new Error(\"__Host- Cookie must not have Domain attributes\");\n    }\n  }\n  if (opt && typeof opt.maxAge === \"number\" && opt.maxAge >= 0) {\n    if (opt.maxAge > 3456e4) {\n      throw new Error(\n        \"Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.\"\n      );\n    }\n    cookie += `; Max-Age=${opt.maxAge | 0}`;\n  }\n  if (opt.domain && opt.prefix !== \"host\") {\n    cookie += `; Domain=${opt.domain}`;\n  }\n  if (opt.path) {\n    cookie += `; Path=${opt.path}`;\n  }\n  if (opt.expires) {\n    if (opt.expires.getTime() - Date.now() > 3456e7) {\n      throw new Error(\n        \"Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.\"\n      );\n    }\n    cookie += `; Expires=${opt.expires.toUTCString()}`;\n  }\n  if (opt.httpOnly) {\n    cookie += \"; HttpOnly\";\n  }\n  if (opt.secure) {\n    cookie += \"; Secure\";\n  }\n  if (opt.sameSite) {\n    cookie += `; SameSite=${opt.sameSite.charAt(0).toUpperCase() + opt.sameSite.slice(1)}`;\n  }\n  if (opt.priority) {\n    cookie += `; Priority=${opt.priority.charAt(0).toUpperCase() + opt.priority.slice(1)}`;\n  }\n  if (opt.partitioned) {\n    if (!opt.secure) {\n      throw new Error(\"Partitioned Cookie must have Secure attributes\");\n    }\n    cookie += \"; Partitioned\";\n  }\n  return cookie;\n};\nvar serialize = (name, value, opt) => {\n  value = encodeURIComponent(value);\n  return _serialize(name, value, opt);\n};\nvar serializeSigned = async (name, value, secret, opt = {}) => {\n  const signature = await makeSignature(value, secret);\n  value = `${value}.${signature}`;\n  value = encodeURIComponent(value);\n  return _serialize(name, value, opt);\n};\nexport {\n  parse,\n  parseSigned,\n  serialize,\n  serializeSigned\n};\n", "/**\r\n * Database Utility Module\r\n *\r\n * Provides a unified Prisma client that works across multiple runtimes:\r\n * - Cloudflare Workers (D1)\r\n * - Node.js (better-sqlite3)\r\n * - Bun (native SQLite)\r\n *\r\n * Uses Prisma's driver adapter feature for runtime-specific connections.\r\n */\r\n\r\nimport { PrismaClient } from '../../generated/prisma';\r\nimport { PrismaD1 } from '@prisma/adapter-d1';\r\nimport type { D1Database } from '@cloudflare/workers-types';\r\n\r\n// Singleton instance for non-Cloudflare runtimes\r\nlet prismaClient: PrismaClient | null = null;\r\n\r\n/**\r\n * Get or create a Prisma client for Cloudflare D1\r\n */\r\nexport function getPrismaD1(d1: D1Database): PrismaClient {\r\n  const adapter = new PrismaD1(d1);\r\n  return new PrismaClient({ adapter });\r\n}\r\n\r\n/**\r\n * Get or create a Prisma client for Node.js/Bun with SQLite file\r\n */\r\nexport async function getPrismaSQLite(databasePath: string): Promise<PrismaClient> {\r\n  if (prismaClient) {\r\n    return prismaClient;\r\n  }\r\n\r\n  // For Node.js/Bun, we use the libsql adapter\r\n  const { PrismaLibSql } = await import('@prisma/adapter-libsql');\r\n\r\n  const adapter = new PrismaLibSql({\r\n    url: `file:${databasePath}`,\r\n  });\r\n  prismaClient = new PrismaClient({ adapter });\r\n\r\n  return prismaClient;\r\n}\r\n\r\n/**\r\n * Get Prisma client based on environment\r\n * For Cloudflare Workers, pass the D1 binding\r\n * For other runtimes, pass the database path\r\n */\r\nexport function createPrismaClient(\r\n  options: { d1: D1Database } | { databasePath: string }\r\n): PrismaClient | Promise<PrismaClient> {\r\n  if ('d1' in options) {\r\n    return getPrismaD1(options.d1);\r\n  }\r\n  return getPrismaSQLite(options.databasePath);\r\n}\r\n\r\n/**\r\n * Disconnect Prisma client (for cleanup)\r\n */\r\nexport async function disconnectPrisma(): Promise<void> {\r\n  if (prismaClient) {\r\n    await prismaClient.$disconnect();\r\n    prismaClient = null;\r\n  }\r\n}\r\n\r\n// Re-export types\r\nexport { PrismaClient };\r\nexport type * from '../../generated/prisma';\r\n", "// package.json\nvar name = \"@prisma/adapter-d1\";\n\n// src/d1-http.ts\nimport {\n  Debug,\n  DriverAdapterError\n} from \"@prisma/driver-adapter-utils\";\n\n// ../../node_modules/.pnpm/kleur@4.1.5/node_modules/kleur/colors.mjs\nvar FORCE_COLOR;\nvar NODE_DISABLE_COLORS;\nvar NO_COLOR;\nvar TERM;\nvar isTTY = true;\nif (typeof process !== \"undefined\") {\n  ({ FORCE_COLOR, NODE_DISABLE_COLORS, NO_COLOR, TERM } = process.env || {});\n  isTTY = process.stdout && process.stdout.isTTY;\n}\nvar $ = {\n  enabled: !NODE_DISABLE_COLORS && NO_COLOR == null && TERM !== \"dumb\" && (FORCE_COLOR != null && FORCE_COLOR !== \"0\" || isTTY)\n};\nfunction init(x, y) {\n  let rgx = new RegExp(`\\\\x1b\\\\[${y}m`, \"g\");\n  let open = `\\x1B[${x}m`, close = `\\x1B[${y}m`;\n  return function(txt) {\n    if (!$.enabled || txt == null) return txt;\n    return open + (!!~(\"\" + txt).indexOf(close) ? txt.replace(rgx, close + open) : txt) + close;\n  };\n}\nvar reset = init(0, 0);\nvar bold = init(1, 22);\nvar dim = init(2, 22);\nvar italic = init(3, 23);\nvar underline = init(4, 24);\nvar inverse = init(7, 27);\nvar hidden = init(8, 28);\nvar strikethrough = init(9, 29);\nvar black = init(30, 39);\nvar red = init(31, 39);\nvar green = init(32, 39);\nvar yellow = init(33, 39);\nvar blue = init(34, 39);\nvar magenta = init(35, 39);\nvar cyan = init(36, 39);\nvar white = init(37, 39);\nvar gray = init(90, 39);\nvar grey = init(90, 39);\nvar bgBlack = init(40, 49);\nvar bgRed = init(41, 49);\nvar bgGreen = init(42, 49);\nvar bgYellow = init(43, 49);\nvar bgBlue = init(44, 49);\nvar bgMagenta = init(45, 49);\nvar bgCyan = init(46, 49);\nvar bgWhite = init(47, 49);\n\n// src/d1-http.ts\nimport ky from \"ky\";\n\n// src/constants.ts\nvar MAX_BIND_VALUES = 98;\nvar GENERIC_SQLITE_ERROR = 1;\n\n// src/conversion.ts\nimport { ColumnTypeEnum } from \"@prisma/driver-adapter-utils\";\nfunction getColumnTypes(columnNames, rows) {\n  const columnTypes = [];\n  columnLoop: for (let columnIndex = 0; columnIndex < columnNames.length; columnIndex++) {\n    for (let rowIndex = 0; rowIndex < rows.length; rowIndex++) {\n      const candidateValue = rows[rowIndex][columnIndex];\n      if (candidateValue !== null) {\n        const inferred = inferColumnType(candidateValue);\n        if (columnTypes[columnIndex] === void 0 || inferred === ColumnTypeEnum.Text) {\n          columnTypes[columnIndex] = inferred;\n        }\n        if (inferred !== ColumnTypeEnum.UnknownNumber) {\n          continue columnLoop;\n        }\n      }\n    }\n    if (columnTypes[columnIndex] === void 0) {\n      columnTypes[columnIndex] = ColumnTypeEnum.Int32;\n    }\n  }\n  return columnTypes;\n}\nfunction inferColumnType(value) {\n  switch (typeof value) {\n    case \"string\":\n      return inferStringType(value);\n    case \"number\":\n      return inferNumberType(value);\n    case \"object\":\n      return inferObjectType(value);\n    default:\n      throw new UnexpectedTypeError(value);\n  }\n}\nvar isoDateRegex = new RegExp(\n  /^(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))$|^(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))$|^(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))$/\n);\nvar sqliteDateRegex = /^\\d{4}-[0-1]\\d-[0-3]\\d [0-2]\\d:[0-5]\\d:[0-5]\\d$/;\nfunction isISODate(str) {\n  return isoDateRegex.test(str) || sqliteDateRegex.test(str);\n}\nfunction inferStringType(value) {\n  if (isISODate(value)) {\n    return ColumnTypeEnum.DateTime;\n  }\n  return ColumnTypeEnum.Text;\n}\nfunction inferNumberType(_) {\n  return ColumnTypeEnum.UnknownNumber;\n}\nfunction inferObjectType(value) {\n  if (value instanceof Array) {\n    return ColumnTypeEnum.Bytes;\n  }\n  throw new UnexpectedTypeError(value);\n}\nvar UnexpectedTypeError = class extends Error {\n  name = \"UnexpectedTypeError\";\n  constructor(value) {\n    const type = typeof value;\n    const repr = type === \"object\" ? JSON.stringify(value) : String(value);\n    super(`unexpected value of type ${type}: ${repr}`);\n  }\n};\nfunction mapRow(result, columnTypes) {\n  for (let i = 0; i < result.length; i++) {\n    const value = result[i];\n    if (value instanceof ArrayBuffer) {\n      result[i] = new Uint8Array(value);\n      continue;\n    }\n    if (typeof value === \"number\" && (columnTypes[i] === ColumnTypeEnum.Int32 || columnTypes[i] === ColumnTypeEnum.Int64) && !Number.isInteger(value)) {\n      result[i] = Math.trunc(value);\n      continue;\n    }\n    if (typeof value === \"number\" && columnTypes[i] === ColumnTypeEnum.Text) {\n      result[i] = value.toString();\n      continue;\n    }\n    if (typeof value === \"bigint\") {\n      result[i] = value.toString();\n      continue;\n    }\n    if (columnTypes[i] === ColumnTypeEnum.Boolean) {\n      result[i] = JSON.parse(value);\n    }\n  }\n  return result;\n}\nfunction mapArg(arg, argType) {\n  if (arg === null) {\n    return null;\n  }\n  if (typeof arg === \"bigint\" || argType.scalarType === \"bigint\") {\n    const asInt56 = Number.parseInt(`${arg}`);\n    if (!Number.isSafeInteger(asInt56)) {\n      throw new Error(`Invalid Int64-encoded value received: ${arg}`);\n    }\n    return asInt56;\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"int\") {\n    return Number.parseInt(arg);\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"float\") {\n    return Number.parseFloat(arg);\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"decimal\") {\n    return Number.parseFloat(arg);\n  }\n  if (arg === true) {\n    return 1;\n  }\n  if (arg === false) {\n    return 0;\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"datetime\") {\n    arg = new Date(arg);\n  }\n  if (arg instanceof Date) {\n    return arg.toISOString().replace(\"Z\", \"+00:00\");\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"bytes\") {\n    return Array.from(Buffer.from(arg, \"base64\"));\n  }\n  if (arg instanceof Uint8Array) {\n    return Array.from(arg);\n  }\n  return arg;\n}\n\n// src/errors.ts\nfunction convertDriverError(error) {\n  if (isDriverError(error)) {\n    return {\n      originalMessage: error.message,\n      ...mapDriverError(error)\n    };\n  }\n  throw error;\n}\nfunction mapDriverError(error) {\n  let stripped = error.message.split(\"D1_ERROR: \").at(1) ?? error.message;\n  stripped = stripped.split(\"SqliteError: \").at(1) ?? stripped;\n  if (stripped.startsWith(\"UNIQUE constraint failed\") || stripped.startsWith(\"PRIMARY KEY constraint failed\")) {\n    const fields = stripped.split(\": \").at(1)?.split(\", \").map((field) => field.split(\".\").pop());\n    return {\n      kind: \"UniqueConstraintViolation\",\n      constraint: fields !== void 0 ? { fields } : void 0\n    };\n  } else if (stripped.startsWith(\"NOT NULL constraint failed\")) {\n    const fields = stripped.split(\": \").at(1)?.split(\", \").map((field) => field.split(\".\").pop());\n    return {\n      kind: \"NullConstraintViolation\",\n      constraint: fields !== void 0 ? { fields } : void 0\n    };\n  } else if (stripped.startsWith(\"FOREIGN KEY constraint failed\") || stripped.startsWith(\"CHECK constraint failed\")) {\n    return {\n      kind: \"ForeignKeyConstraintViolation\",\n      constraint: { foreignKey: {} }\n    };\n  } else if (stripped.startsWith(\"no such table\")) {\n    return {\n      kind: \"TableDoesNotExist\",\n      table: stripped.split(\": \").at(1)\n    };\n  } else if (stripped.startsWith(\"no such column\")) {\n    return {\n      kind: \"ColumnNotFound\",\n      column: stripped.split(\": \").at(1)\n    };\n  } else if (stripped.includes(\"has no column named \")) {\n    return {\n      kind: \"ColumnNotFound\",\n      column: stripped.split(\"has no column named \").at(1)\n    };\n  }\n  return {\n    kind: \"sqlite\",\n    extendedCode: error[\"code\"] ?? error[\"cause\"]?.[\"code\"] ?? 1,\n    message: error.message\n  };\n}\nfunction isDriverError(error) {\n  return typeof error[\"message\"] === \"string\";\n}\n\n// src/d1-http.ts\nvar debug = Debug(\"prisma:driver-adapter:d1-http\");\nfunction onUnsuccessfulD1HttpResponse({ errors }) {\n  debug(\"D1 HTTP Errors: %O\", errors);\n  const error = errors.at(0) ?? { message: \"Unknown error\", code: GENERIC_SQLITE_ERROR };\n  throw new DriverAdapterError(convertDriverError(error));\n}\nfunction onGenericD1HttpError(error) {\n  debug(\"HTTP Error: %O\", error);\n  throw new DriverAdapterError(convertDriverError(error));\n}\nfunction onError(error) {\n  console.error(\"Error in performIO: %O\", error);\n  throw new DriverAdapterError(convertDriverError(error));\n}\nasync function performRawQuery(client, options) {\n  try {\n    const response = await client.post(\"raw\", options).json();\n    const tag = \"[js::performRawQuery]\";\n    debug(`${tag} %O`, {\n      success: response.success,\n      errors: response.errors,\n      messages: response.messages,\n      result: response.result\n    });\n    if (!response.success) {\n      onUnsuccessfulD1HttpResponse(response);\n    }\n    return response.result;\n  } catch (e) {\n    onGenericD1HttpError(e);\n  }\n}\nfunction isD1HttpParams(params) {\n  return typeof params === \"object\" && params !== null && \"CLOUDFLARE_D1_TOKEN\" in params && \"CLOUDFLARE_ACCOUNT_ID\" in params && \"CLOUDFLARE_DATABASE_ID\" in params;\n}\nvar D1HttpQueryable = class {\n  constructor(client) {\n    this.client = client;\n  }\n  provider = \"sqlite\";\n  adapterName = `${name}-http`;\n  /**\n   * Execute a query given as SQL, interpolating the given parameters.\n   */\n  async queryRaw(query) {\n    const tag = \"[js::query_raw]\";\n    debug(`${tag} %O`, query);\n    const data = await this.performIO(query);\n    const convertedData = this.convertData(data);\n    return convertedData;\n  }\n  convertData({ columnNames, rows: results }) {\n    if (results.length === 0) {\n      return {\n        columnNames: [],\n        columnTypes: [],\n        rows: []\n      };\n    }\n    const columnTypes = getColumnTypes(columnNames, results);\n    const rows = results.map((value) => mapRow(value, columnTypes));\n    return {\n      columnNames,\n      columnTypes,\n      rows\n    };\n  }\n  /**\n   * Execute a query given as SQL, interpolating the given parameters and\n   * returning the number of affected rows.\n   * Note: Queryable expects a u64, but napi.rs only supports u32.\n   */\n  async executeRaw(query) {\n    const tag = \"[js::execute_raw]\";\n    debug(`${tag} %O`, query);\n    const result = await this.performIO(query);\n    return result.affectedRows ?? 0;\n  }\n  async performIO(query) {\n    try {\n      const body = {\n        json: {\n          sql: query.sql,\n          params: query.args.map((arg, i) => mapArg(arg, query.argTypes[i]))\n        }\n      };\n      const tag = \"[js::perform_io]\";\n      debug(`${tag} %O`, body);\n      const results = await performRawQuery(this.client, body);\n      if (results.length !== 1) {\n        throw new Error(\"Expected exactly one result\");\n      }\n      const result = results[0];\n      const { columns: columnNames = [], rows = [] } = result.results ?? {};\n      const affectedRows = result.meta?.changes;\n      return { rows, columnNames, affectedRows };\n    } catch (e) {\n      onError(e);\n    }\n  }\n};\nvar D1HttpTransaction = class extends D1HttpQueryable {\n  constructor(client, options) {\n    super(client);\n    this.options = options;\n  }\n  async commit() {\n    debug(`[js::commit]`);\n  }\n  async rollback() {\n    debug(`[js::rollback]`);\n  }\n};\nvar PrismaD1HttpAdapter = class extends D1HttpQueryable {\n  constructor(params, release) {\n    const D1_API_BASE_URL = `https://api.cloudflare.com/client/v4/accounts/${params.CLOUDFLARE_ACCOUNT_ID}/d1/database/${params.CLOUDFLARE_DATABASE_ID}`;\n    const client = ky.create({\n      prefixUrl: D1_API_BASE_URL,\n      headers: {\n        Authorization: `Bearer ${params.CLOUDFLARE_D1_TOKEN}`\n      },\n      // Don't automatically throw on non-2xx status codes\n      throwHttpErrors: false\n    });\n    super(client);\n    this.release = release;\n  }\n  tags = {\n    error: red(\"prisma:error\"),\n    warn: yellow(\"prisma:warn\"),\n    info: cyan(\"prisma:info\"),\n    query: blue(\"prisma:query\")\n  };\n  alreadyWarned = /* @__PURE__ */ new Set();\n  /**\n   * This will warn once per transaction\n   * e.g. the following two explicit transactions\n   * will only trigger _two_ warnings\n   *\n   * ```ts\n   * await prisma.$transaction([ ...queries ])\n   * await prisma.$transaction([ ...moreQueries ])\n   * ```\n   */\n  warnOnce = (key, message, ...args) => {\n    if (!this.alreadyWarned.has(key)) {\n      this.alreadyWarned.add(key);\n      console.info(`${this.tags.warn} ${message}`, ...args);\n    }\n  };\n  async executeScript(script) {\n    try {\n      await performRawQuery(this.client, {\n        json: {\n          sql: script\n        }\n      });\n    } catch (error) {\n      onError(error);\n    }\n  }\n  getConnectionInfo() {\n    return {\n      maxBindValues: MAX_BIND_VALUES,\n      supportsRelationJoins: false\n    };\n  }\n  async startTransaction(isolationLevel) {\n    if (isolationLevel && isolationLevel !== \"SERIALIZABLE\") {\n      throw new DriverAdapterError({\n        kind: \"InvalidIsolationLevel\",\n        level: isolationLevel\n      });\n    }\n    this.warnOnce(\n      \"D1 Transaction\",\n      \"Cloudflare D1 does not support transactions yet. When using Prisma's D1 adapter, implicit & explicit transactions will be ignored and run as individual queries, which breaks the guarantees of the ACID properties of transactions. For more details see https://pris.ly/d/d1-transactions\"\n    );\n    const options = {\n      usePhantomQuery: true\n    };\n    const tag = \"[js::startTransaction]\";\n    debug(\"%s options: %O\", tag, options);\n    return new D1HttpTransaction(this.client, options);\n  }\n  async dispose() {\n    await this.release?.();\n  }\n};\nvar PrismaD1HttpAdapterFactory = class {\n  constructor(params) {\n    this.params = params;\n  }\n  provider = \"sqlite\";\n  adapterName = `${name}-http`;\n  async connect() {\n    return new PrismaD1HttpAdapter(this.params, async () => {\n    });\n  }\n  async connectToShadowDb() {\n    const D1_API_BASE_URL = `https://api.cloudflare.com/client/v4/accounts/${this.params.CLOUDFLARE_ACCOUNT_ID}/d1/database`;\n    const client = ky.create({\n      headers: {\n        Authorization: `Bearer ${this.params.CLOUDFLARE_D1_TOKEN}`\n      },\n      // Don't throw on non-2xx status codes\n      throwHttpErrors: false\n    });\n    const createShadowDatabase = async () => {\n      const tag = \"[js::connectToShadowDb::createShadowDatabase]\";\n      const SHADOW_DATABASE_PREFIX = \"_prisma_shadow_\";\n      const CLOUDFLARE_SHADOW_DATABASE_NAME = `${SHADOW_DATABASE_PREFIX}${globalThis.crypto.randomUUID()}`;\n      debug(`${tag} creating database %s`, CLOUDFLARE_SHADOW_DATABASE_NAME);\n      try {\n        const response = await client.post(D1_API_BASE_URL, {\n          json: {\n            name: CLOUDFLARE_SHADOW_DATABASE_NAME\n          }\n        }).json();\n        debug(`${tag} %O`, response);\n        if (!response.success) {\n          onUnsuccessfulD1HttpResponse(response);\n        }\n        const { uuid: CLOUDFLARE_SHADOW_DATABASE_ID2 } = response.result;\n        debug(`${tag} created database %s with ID %s`, CLOUDFLARE_SHADOW_DATABASE_NAME, CLOUDFLARE_SHADOW_DATABASE_ID2);\n        return CLOUDFLARE_SHADOW_DATABASE_ID2;\n      } catch (e) {\n        onGenericD1HttpError(e);\n      }\n    };\n    const CLOUDFLARE_SHADOW_DATABASE_ID = this.params.CLOUDFLARE_SHADOW_DATABASE_ID ?? await createShadowDatabase();\n    const dispose = async () => {\n      const tag = \"[js::connectToShadowDb::dispose]\";\n      try {\n        debug(`${tag} deleting database %s`, CLOUDFLARE_SHADOW_DATABASE_ID);\n        const response = await client.delete(`${D1_API_BASE_URL}/${CLOUDFLARE_SHADOW_DATABASE_ID}`).json();\n        debug(`${tag} %O`, response);\n        if (!response.success) {\n          onUnsuccessfulD1HttpResponse(response);\n        }\n      } catch (e) {\n        onGenericD1HttpError(e);\n      }\n    };\n    return new PrismaD1HttpAdapter(this.params, dispose);\n  }\n};\n\n// src/d1-worker.ts\nimport {\n  Debug as Debug2,\n  DriverAdapterError as DriverAdapterError2\n} from \"@prisma/driver-adapter-utils\";\nvar debug2 = Debug2(\"prisma:driver-adapter:d1\");\nvar D1WorkerQueryable = class {\n  constructor(client) {\n    this.client = client;\n  }\n  provider = \"sqlite\";\n  adapterName = name;\n  /**\n   * Execute a query given as SQL, interpolating the given parameters.\n   */\n  async queryRaw(query) {\n    const tag = \"[js::query_raw]\";\n    debug2(`${tag} %O`, query);\n    const data = await this.performIO(query);\n    const convertedData = this.convertData(data);\n    return convertedData;\n  }\n  convertData(ioResult) {\n    const columnNames = ioResult[0];\n    const results = ioResult[1];\n    if (results.length === 0) {\n      return {\n        columnNames: [],\n        columnTypes: [],\n        rows: []\n      };\n    }\n    const columnTypes = Object.values(getColumnTypes(columnNames, results));\n    const rows = results.map((value) => mapRow(value, columnTypes));\n    return {\n      columnNames,\n      // * Note: without Object.values the array looks like\n      // * columnTypes: [ id: 128 ],\n      // * and errors with:\n      // * \u2718 [ERROR] A hanging Promise was canceled. This happens when the worker runtime is waiting for a Promise from JavaScript to resolve, but has detected that the Promise cannot possibly ever resolve because all code and events related to the Promise's I/O context have already finished.\n      columnTypes,\n      rows\n    };\n  }\n  /**\n   * Execute a query given as SQL, interpolating the given parameters and\n   * returning the number of affected rows.\n   * Note: Queryable expects a u64, but napi.rs only supports u32.\n   */\n  async executeRaw(query) {\n    const tag = \"[js::execute_raw]\";\n    debug2(`${tag} %O`, query);\n    const result = await this.performIO(query, true);\n    return result.meta.changes ?? 0;\n  }\n  async performIO(query, executeRaw = false) {\n    try {\n      const args = query.args.map((arg, i) => mapArg(arg, query.argTypes[i]));\n      const stmt = this.client.prepare(query.sql).bind(...args);\n      if (executeRaw) {\n        return await stmt.run();\n      } else {\n        const [columnNames, ...rows] = await stmt.raw({ columnNames: true });\n        return [columnNames, rows];\n      }\n    } catch (e) {\n      onError2(e);\n    }\n  }\n};\nvar D1WorkerTransaction = class extends D1WorkerQueryable {\n  constructor(client, options) {\n    super(client);\n    this.options = options;\n  }\n  async commit() {\n    debug2(`[js::commit]`);\n  }\n  async rollback() {\n    debug2(`[js::rollback]`);\n  }\n};\nvar PrismaD1WorkerAdapter = class extends D1WorkerQueryable {\n  constructor(client, release) {\n    super(client);\n    this.release = release;\n  }\n  tags = {\n    error: red(\"prisma:error\"),\n    warn: yellow(\"prisma:warn\"),\n    info: cyan(\"prisma:info\"),\n    query: blue(\"prisma:query\")\n  };\n  alreadyWarned = /* @__PURE__ */ new Set();\n  /**\n   * This will warn once per transaction\n   * e.g. the following two explicit transactions\n   * will only trigger _two_ warnings\n   *\n   * ```ts\n   * await prisma.$transaction([ ...queries ])\n   * await prisma.$transaction([ ...moreQueries ])\n   * ```\n   */\n  warnOnce = (key, message, ...args) => {\n    if (!this.alreadyWarned.has(key)) {\n      this.alreadyWarned.add(key);\n      console.info(`${this.tags.warn} ${message}`, ...args);\n    }\n  };\n  async executeScript(script) {\n    try {\n      await this.client.exec(script);\n    } catch (error) {\n      onError2(error);\n    }\n  }\n  getConnectionInfo() {\n    return {\n      maxBindValues: MAX_BIND_VALUES,\n      supportsRelationJoins: false\n    };\n  }\n  async startTransaction(isolationLevel) {\n    if (isolationLevel && isolationLevel !== \"SERIALIZABLE\") {\n      throw new DriverAdapterError2({\n        kind: \"InvalidIsolationLevel\",\n        level: isolationLevel\n      });\n    }\n    this.warnOnce(\n      \"D1 Transaction\",\n      \"Cloudflare D1 does not support transactions yet. When using Prisma's D1 adapter, implicit & explicit transactions will be ignored and run as individual queries, which breaks the guarantees of the ACID properties of transactions. For more details see https://pris.ly/d/d1-transactions\"\n    );\n    const options = {\n      usePhantomQuery: true\n    };\n    const tag = \"[js::startTransaction]\";\n    debug2(\"%s options: %O\", tag, options);\n    return new D1WorkerTransaction(this.client, options);\n  }\n  async dispose() {\n    await this.release?.();\n  }\n};\nvar PrismaD1WorkerAdapterFactory = class {\n  constructor(client) {\n    this.client = client;\n  }\n  provider = \"sqlite\";\n  adapterName = name;\n  async connect() {\n    return new PrismaD1WorkerAdapter(this.client, async () => {\n    });\n  }\n};\nfunction onError2(error) {\n  console.error(\"Error in performIO: %O\", error);\n  throw new DriverAdapterError2(convertDriverError(error));\n}\n\n// src/d1.ts\nvar PrismaD1 = class {\n  provider = \"sqlite\";\n  adapterName = name;\n  connect;\n  connectToShadowDb;\n  constructor(params) {\n    if (isD1HttpParams(params)) {\n      const factory = new PrismaD1HttpAdapterFactory(params);\n      const self = this;\n      self.connect = factory.connect.bind(factory);\n      self.connectToShadowDb = factory.connectToShadowDb.bind(factory);\n    } else {\n      const factory = new PrismaD1WorkerAdapterFactory(params);\n      const self = this;\n      self.connect = factory.connect.bind(factory);\n    }\n  }\n};\nexport {\n  PrismaD1,\n  PrismaD1HttpAdapterFactory as PrismaD1Http\n};\n", "/*! MIT License  Sindre Sorhus */\n\nimport {Ky} from './core/Ky.js';\nimport {requestMethods, stop} from './core/constants.js';\nimport type {KyInstance} from './types/ky.js';\nimport type {Input, Options} from './types/options.js';\nimport {validateAndMerge} from './utils/merge.js';\nimport {type Mutable} from './utils/types.js';\n\nconst createInstance = (defaults?: Partial<Options>): KyInstance => {\n\t// eslint-disable-next-line @typescript-eslint/promise-function-async\n\tconst ky: Partial<Mutable<KyInstance>> = (input: Input, options?: Options) => Ky.create(input, validateAndMerge(defaults, options));\n\n\tfor (const method of requestMethods) {\n\t\t// eslint-disable-next-line @typescript-eslint/promise-function-async\n\t\tky[method] = (input: Input, options?: Options) => Ky.create(input, validateAndMerge(defaults, options, {method}));\n\t}\n\n\tky.create = (newDefaults?: Partial<Options>) => createInstance(validateAndMerge(newDefaults));\n\tky.extend = (newDefaults?: Partial<Options> | ((parentDefaults: Partial<Options>) => Partial<Options>)) => {\n\t\tif (typeof newDefaults === 'function') {\n\t\t\tnewDefaults = newDefaults(defaults ?? {});\n\t\t}\n\n\t\treturn createInstance(validateAndMerge(defaults, newDefaults));\n\t};\n\n\tky.stop = stop;\n\n\treturn ky as KyInstance;\n};\n\nconst ky = createInstance();\n\nexport default ky;\n\nexport type {KyInstance} from './types/ky.js';\n\nexport type {\n\tInput,\n\tOptions,\n\tNormalizedOptions,\n\tRetryOptions,\n\tSearchParamsOption,\n\tDownloadProgress,\n} from './types/options.js';\n\nexport type {\n\tHooks,\n\tBeforeRequestHook,\n\tBeforeRetryHook,\n\tBeforeRetryState,\n\tBeforeErrorHook,\n\tAfterResponseHook,\n} from './types/hooks.js';\n\nexport type {ResponsePromise} from './types/ResponsePromise.js';\nexport type {KyRequest} from './types/request.js';\nexport type {KyResponse} from './types/response.js';\nexport {HTTPError} from './errors/HTTPError.js';\nexport {TimeoutError} from './errors/TimeoutError.js';\n", "import {HTTPError} from '../errors/HTTPError.js';\nimport {TimeoutError} from '../errors/TimeoutError.js';\nimport type {\n\tInput,\n\tInternalOptions,\n\tNormalizedOptions,\n\tOptions,\n\tSearchParamsInit,\n} from '../types/options.js';\nimport {type ResponsePromise} from '../types/ResponsePromise.js';\nimport {mergeHeaders, mergeHooks} from '../utils/merge.js';\nimport {normalizeRequestMethod, normalizeRetryOptions} from '../utils/normalize.js';\nimport timeout, {type TimeoutOptions} from '../utils/timeout.js';\nimport delay from '../utils/delay.js';\nimport {type ObjectEntries} from '../utils/types.js';\nimport {findUnknownOptions} from '../utils/options.js';\nimport {\n\tmaxSafeTimeout,\n\tresponseTypes,\n\tstop,\n\tsupportsAbortController,\n\tsupportsFormData,\n\tsupportsResponseStreams,\n\tsupportsRequestStreams,\n} from './constants.js';\n\nexport class Ky {\n\tstatic create(input: Input, options: Options): ResponsePromise {\n\t\tconst ky = new Ky(input, options);\n\n\t\tconst function_ = async (): Promise<Response> => {\n\t\t\tif (typeof ky._options.timeout === 'number' && ky._options.timeout > maxSafeTimeout) {\n\t\t\t\tthrow new RangeError(`The \\`timeout\\` option cannot be greater than ${maxSafeTimeout}`);\n\t\t\t}\n\n\t\t\t// Delay the fetch so that body method shortcuts can set the Accept header\n\t\t\tawait Promise.resolve();\n\t\t\tlet response = await ky._fetch();\n\n\t\t\tfor (const hook of ky._options.hooks.afterResponse) {\n\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\tconst modifiedResponse = await hook(\n\t\t\t\t\tky.request,\n\t\t\t\t\tky._options as NormalizedOptions,\n\t\t\t\t\tky._decorateResponse(response.clone()),\n\t\t\t\t);\n\n\t\t\t\tif (modifiedResponse instanceof globalThis.Response) {\n\t\t\t\t\tresponse = modifiedResponse;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tky._decorateResponse(response);\n\n\t\t\tif (!response.ok && ky._options.throwHttpErrors) {\n\t\t\t\tlet error = new HTTPError(response, ky.request, ky._options as NormalizedOptions);\n\n\t\t\t\tfor (const hook of ky._options.hooks.beforeError) {\n\t\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\t\terror = await hook(error);\n\t\t\t\t}\n\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\t// If `onDownloadProgress` is passed, it uses the stream API internally\n\t\t\t/* istanbul ignore next */\n\t\t\tif (ky._options.onDownloadProgress) {\n\t\t\t\tif (typeof ky._options.onDownloadProgress !== 'function') {\n\t\t\t\t\tthrow new TypeError('The `onDownloadProgress` option must be a function');\n\t\t\t\t}\n\n\t\t\t\tif (!supportsResponseStreams) {\n\t\t\t\t\tthrow new Error('Streams are not supported in your environment. `ReadableStream` is missing.');\n\t\t\t\t}\n\n\t\t\t\treturn ky._stream(response.clone(), ky._options.onDownloadProgress);\n\t\t\t}\n\n\t\t\treturn response;\n\t\t};\n\n\t\tconst isRetriableMethod = ky._options.retry.methods.includes(ky.request.method.toLowerCase());\n\t\tconst result = (isRetriableMethod ? ky._retry(function_) : function_()) as ResponsePromise;\n\n\t\tfor (const [type, mimeType] of Object.entries(responseTypes) as ObjectEntries<typeof responseTypes>) {\n\t\t\tresult[type] = async () => {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\tky.request.headers.set('accept', ky.request.headers.get('accept') || mimeType);\n\n\t\t\t\tconst response = await result;\n\n\t\t\t\tif (type === 'json') {\n\t\t\t\t\tif (response.status === 204) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\n\t\t\t\t\tconst arrayBuffer = await response.clone().arrayBuffer();\n\t\t\t\t\tconst responseSize = arrayBuffer.byteLength;\n\t\t\t\t\tif (responseSize === 0) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (options.parseJson) {\n\t\t\t\t\t\treturn options.parseJson(await response.text());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn response[type]();\n\t\t\t};\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic request: Request;\n\tprotected abortController?: AbortController;\n\tprotected _retryCount = 0;\n\tprotected _input: Input;\n\tprotected _options: InternalOptions;\n\n\t// eslint-disable-next-line complexity\n\tconstructor(input: Input, options: Options = {}) {\n\t\tthis._input = input;\n\n\t\tthis._options = {\n\t\t\t...options,\n\t\t\theaders: mergeHeaders((this._input as Request).headers, options.headers),\n\t\t\thooks: mergeHooks(\n\t\t\t\t{\n\t\t\t\t\tbeforeRequest: [],\n\t\t\t\t\tbeforeRetry: [],\n\t\t\t\t\tbeforeError: [],\n\t\t\t\t\tafterResponse: [],\n\t\t\t\t},\n\t\t\t\toptions.hooks,\n\t\t\t),\n\t\t\tmethod: normalizeRequestMethod(options.method ?? (this._input as Request).method ?? 'GET'),\n\t\t\t// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n\t\t\tprefixUrl: String(options.prefixUrl || ''),\n\t\t\tretry: normalizeRetryOptions(options.retry),\n\t\t\tthrowHttpErrors: options.throwHttpErrors !== false,\n\t\t\ttimeout: options.timeout ?? 10_000,\n\t\t\tfetch: options.fetch ?? globalThis.fetch.bind(globalThis),\n\t\t};\n\n\t\tif (typeof this._input !== 'string' && !(this._input instanceof URL || this._input instanceof globalThis.Request)) {\n\t\t\tthrow new TypeError('`input` must be a string, URL, or Request');\n\t\t}\n\n\t\tif (this._options.prefixUrl && typeof this._input === 'string') {\n\t\t\tif (this._input.startsWith('/')) {\n\t\t\t\tthrow new Error('`input` must not begin with a slash when using `prefixUrl`');\n\t\t\t}\n\n\t\t\tif (!this._options.prefixUrl.endsWith('/')) {\n\t\t\t\tthis._options.prefixUrl += '/';\n\t\t\t}\n\n\t\t\tthis._input = this._options.prefixUrl + this._input;\n\t\t}\n\n\t\tif (supportsAbortController) {\n\t\t\tthis.abortController = new globalThis.AbortController();\n\t\t\tconst originalSignal = this._options.signal ?? (this._input as Request).signal;\n\t\t\tif (originalSignal?.aborted) {\n\t\t\t\tthis.abortController.abort(originalSignal?.reason);\n\t\t\t}\n\n\t\t\toriginalSignal?.addEventListener('abort', () => {\n\t\t\t\tthis.abortController!.abort(originalSignal.reason);\n\t\t\t});\n\t\t\tthis._options.signal = this.abortController.signal;\n\t\t}\n\n\t\tif (supportsRequestStreams) {\n\t\t\t// @ts-expect-error - Types are outdated.\n\t\t\tthis._options.duplex = 'half';\n\t\t}\n\n\t\tif (this._options.json !== undefined) {\n\t\t\tthis._options.body = this._options.stringifyJson?.(this._options.json) ?? JSON.stringify(this._options.json);\n\t\t\tthis._options.headers.set('content-type', this._options.headers.get('content-type') ?? 'application/json');\n\t\t}\n\n\t\tthis.request = new globalThis.Request(this._input, this._options);\n\n\t\tif (this._options.searchParams) {\n\t\t\t// eslint-disable-next-line unicorn/prevent-abbreviations\n\t\t\tconst textSearchParams = typeof this._options.searchParams === 'string'\n\t\t\t\t? this._options.searchParams.replace(/^\\?/, '')\n\t\t\t\t: new URLSearchParams(this._options.searchParams as unknown as SearchParamsInit).toString();\n\t\t\t// eslint-disable-next-line unicorn/prevent-abbreviations\n\t\t\tconst searchParams = '?' + textSearchParams;\n\t\t\tconst url = this.request.url.replace(/(?:\\?.*?)?(?=#|$)/, searchParams);\n\n\t\t\t// To provide correct form boundary, Content-Type header should be deleted each time when new Request instantiated from another one\n\t\t\tif (\n\t\t\t\t((supportsFormData && this._options.body instanceof globalThis.FormData)\n\t\t\t\t\t|| this._options.body instanceof URLSearchParams) && !(this._options.headers && (this._options.headers as Record<string, string>)['content-type'])\n\t\t\t) {\n\t\t\t\tthis.request.headers.delete('content-type');\n\t\t\t}\n\n\t\t\t// The spread of `this.request` is required as otherwise it misses the `duplex` option for some reason and throws.\n\t\t\tthis.request = new globalThis.Request(new globalThis.Request(url, {...this.request}), this._options as RequestInit);\n\t\t}\n\t}\n\n\tprotected _calculateRetryDelay(error: unknown) {\n\t\tthis._retryCount++;\n\n\t\tif (this._retryCount > this._options.retry.limit || error instanceof TimeoutError) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (error instanceof HTTPError) {\n\t\t\tif (!this._options.retry.statusCodes.includes(error.response.status)) {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\tconst retryAfter = error.response.headers.get('Retry-After')\n\t\t\t\t?? error.response.headers.get('RateLimit-Reset')\n\t\t\t\t?? error.response.headers.get('X-RateLimit-Reset') // GitHub\n\t\t\t\t?? error.response.headers.get('X-Rate-Limit-Reset'); // Twitter\n\t\t\tif (retryAfter && this._options.retry.afterStatusCodes.includes(error.response.status)) {\n\t\t\t\tlet after = Number(retryAfter) * 1000;\n\t\t\t\tif (Number.isNaN(after)) {\n\t\t\t\t\tafter = Date.parse(retryAfter) - Date.now();\n\t\t\t\t} else if (after >= Date.parse('2024-01-01')) {\n\t\t\t\t\t// A large number is treated as a timestamp (fixed threshold protects against clock skew)\n\t\t\t\t\tafter -= Date.now();\n\t\t\t\t}\n\n\t\t\t\tconst max = this._options.retry.maxRetryAfter ?? after;\n\t\t\t\treturn after < max ? after : max;\n\t\t\t}\n\n\t\t\tif (error.response.status === 413) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\tconst retryDelay = this._options.retry.delay(this._retryCount);\n\t\treturn Math.min(this._options.retry.backoffLimit, retryDelay);\n\t}\n\n\tprotected _decorateResponse(response: Response): Response {\n\t\tif (this._options.parseJson) {\n\t\t\tresponse.json = async () => this._options.parseJson!(await response.text());\n\t\t}\n\n\t\treturn response;\n\t}\n\n\tprotected async _retry<T extends (...arguments_: any) => Promise<any>>(function_: T): Promise<ReturnType<T> | void> {\n\t\ttry {\n\t\t\treturn await function_();\n\t\t} catch (error) {\n\t\t\tconst ms = Math.min(this._calculateRetryDelay(error), maxSafeTimeout);\n\t\t\tif (this._retryCount < 1) {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\tawait delay(ms, {signal: this._options.signal});\n\n\t\t\tfor (const hook of this._options.hooks.beforeRetry) {\n\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\tconst hookResult = await hook({\n\t\t\t\t\trequest: this.request,\n\t\t\t\t\toptions: (this._options as unknown) as NormalizedOptions,\n\t\t\t\t\terror: error as Error,\n\t\t\t\t\tretryCount: this._retryCount,\n\t\t\t\t});\n\n\t\t\t\t// If `stop` is returned from the hook, the retry process is stopped\n\t\t\t\tif (hookResult === stop) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this._retry(function_);\n\t\t}\n\t}\n\n\tprotected async _fetch(): Promise<Response> {\n\t\tfor (const hook of this._options.hooks.beforeRequest) {\n\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\tconst result = await hook(this.request, (this._options as unknown) as NormalizedOptions);\n\n\t\t\tif (result instanceof Request) {\n\t\t\t\tthis.request = result;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (result instanceof Response) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\tconst nonRequestOptions = findUnknownOptions(this.request, this._options);\n\n\t\t// Cloning is done here to prepare in advance for retries\n\t\tconst mainRequest = this.request;\n\t\tthis.request = mainRequest.clone();\n\n\t\tif (this._options.timeout === false) {\n\t\t\treturn this._options.fetch(mainRequest, nonRequestOptions);\n\t\t}\n\n\t\treturn timeout(mainRequest, nonRequestOptions, this.abortController, this._options as TimeoutOptions);\n\t}\n\n\t/* istanbul ignore next */\n\tprotected _stream(response: Response, onDownloadProgress: Options['onDownloadProgress']) {\n\t\tconst totalBytes = Number(response.headers.get('content-length')) || 0;\n\t\tlet transferredBytes = 0;\n\n\t\tif (response.status === 204) {\n\t\t\tif (onDownloadProgress) {\n\t\t\t\tonDownloadProgress({percent: 1, totalBytes, transferredBytes}, new Uint8Array());\n\t\t\t}\n\n\t\t\treturn new globalThis.Response(\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\tstatus: response.status,\n\t\t\t\t\tstatusText: response.statusText,\n\t\t\t\t\theaders: response.headers,\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\treturn new globalThis.Response(\n\t\t\tnew globalThis.ReadableStream({\n\t\t\t\tasync start(controller) {\n\t\t\t\t\tconst reader = response.body!.getReader();\n\n\t\t\t\t\tif (onDownloadProgress) {\n\t\t\t\t\t\tonDownloadProgress({percent: 0, transferredBytes: 0, totalBytes}, new Uint8Array());\n\t\t\t\t\t}\n\n\t\t\t\t\tasync function read() {\n\t\t\t\t\t\tconst {done, value} = await reader.read();\n\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (onDownloadProgress) {\n\t\t\t\t\t\t\ttransferredBytes += value.byteLength;\n\t\t\t\t\t\t\tconst percent = totalBytes === 0 ? 0 : transferredBytes / totalBytes;\n\t\t\t\t\t\t\tonDownloadProgress({percent, transferredBytes, totalBytes}, value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontroller.enqueue(value);\n\t\t\t\t\t\tawait read();\n\t\t\t\t\t}\n\n\t\t\t\t\tawait read();\n\t\t\t\t},\n\t\t\t}),\n\t\t\t{\n\t\t\t\tstatus: response.status,\n\t\t\t\tstatusText: response.statusText,\n\t\t\t\theaders: response.headers,\n\t\t\t},\n\t\t);\n\t}\n}\n", "import type {NormalizedOptions} from '../types/options.js';\nimport type {KyRequest} from '../types/request.js';\nimport type {KyResponse} from '../types/response.js';\n\nexport class HTTPError<T = unknown> extends Error {\n\tpublic response: KyResponse<T>;\n\tpublic request: KyRequest;\n\tpublic options: NormalizedOptions;\n\n\tconstructor(response: Response, request: Request, options: NormalizedOptions) {\n\t\tconst code = (response.status || response.status === 0) ? response.status : '';\n\t\tconst title = response.statusText || '';\n\t\tconst status = `${code} ${title}`.trim();\n\t\tconst reason = status ? `status code ${status}` : 'an unknown error';\n\n\t\tsuper(`Request failed with ${reason}: ${request.method} ${request.url}`);\n\n\t\tthis.name = 'HTTPError';\n\t\tthis.response = response;\n\t\tthis.request = request;\n\t\tthis.options = options;\n\t}\n}\n", "import type {KyRequest} from '../types/request.js';\n\nexport class TimeoutError extends Error {\n\tpublic request: KyRequest;\n\n\tconstructor(request: Request) {\n\t\tsuper(`Request timed out: ${request.method} ${request.url}`);\n\t\tthis.name = 'TimeoutError';\n\t\tthis.request = request;\n\t}\n}\n", "import type {KyHeadersInit, Options} from '../types/options.js';\nimport type {Hooks} from '../types/hooks.js';\nimport {isObject} from './is.js';\n\nexport const validateAndMerge = (...sources: Array<Partial<Options> | undefined>): Partial<Options> => {\n\tfor (const source of sources) {\n\t\tif ((!isObject(source) || Array.isArray(source)) && source !== undefined) {\n\t\t\tthrow new TypeError('The `options` argument must be an object');\n\t\t}\n\t}\n\n\treturn deepMerge({}, ...sources);\n};\n\nexport const mergeHeaders = (source1: KyHeadersInit = {}, source2: KyHeadersInit = {}) => {\n\tconst result = new globalThis.Headers(source1 as RequestInit['headers']);\n\tconst isHeadersInstance = source2 instanceof globalThis.Headers;\n\tconst source = new globalThis.Headers(source2 as RequestInit['headers']);\n\n\tfor (const [key, value] of source.entries()) {\n\t\tif ((isHeadersInstance && value === 'undefined') || value === undefined) {\n\t\t\tresult.delete(key);\n\t\t} else {\n\t\t\tresult.set(key, value);\n\t\t}\n\t}\n\n\treturn result;\n};\n\nfunction newHookValue<K extends keyof Hooks>(original: Hooks, incoming: Hooks, property: K): Required<Hooks>[K] {\n\treturn (Object.hasOwn(incoming, property) && incoming[property] === undefined)\n\t\t? []\n\t\t: deepMerge<Required<Hooks>[K]>(original[property] ?? [], incoming[property] ?? []);\n}\n\nexport const mergeHooks = (original: Hooks = {}, incoming: Hooks = {}): Required<Hooks> => (\n\t{\n\t\tbeforeRequest: newHookValue(original, incoming, 'beforeRequest'),\n\t\tbeforeRetry: newHookValue(original, incoming, 'beforeRetry'),\n\t\tafterResponse: newHookValue(original, incoming, 'afterResponse'),\n\t\tbeforeError: newHookValue(original, incoming, 'beforeError'),\n\t}\n);\n\n// TODO: Make this strongly-typed (no `any`).\nexport const deepMerge = <T>(...sources: Array<Partial<T> | undefined>): T => {\n\tlet returnValue: any = {};\n\tlet headers = {};\n\tlet hooks = {};\n\n\tfor (const source of sources) {\n\t\tif (Array.isArray(source)) {\n\t\t\tif (!Array.isArray(returnValue)) {\n\t\t\t\treturnValue = [];\n\t\t\t}\n\n\t\t\treturnValue = [...returnValue, ...source];\n\t\t} else if (isObject(source)) {\n\t\t\tfor (let [key, value] of Object.entries(source)) {\n\t\t\t\tif (isObject(value) && key in returnValue) {\n\t\t\t\t\tvalue = deepMerge(returnValue[key], value);\n\t\t\t\t}\n\n\t\t\t\treturnValue = {...returnValue, [key]: value};\n\t\t\t}\n\n\t\t\tif (isObject((source as any).hooks)) {\n\t\t\t\thooks = mergeHooks(hooks, (source as any).hooks);\n\t\t\t\treturnValue.hooks = hooks;\n\t\t\t}\n\n\t\t\tif (isObject((source as any).headers)) {\n\t\t\t\theaders = mergeHeaders(headers, (source as any).headers);\n\t\t\t\treturnValue.headers = headers;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn returnValue;\n};\n", "// eslint-disable-next-line @typescript-eslint/ban-types\nexport const isObject = (value: unknown): value is object => value !== null && typeof value === 'object';\n", "import {requestMethods} from '../core/constants.js';\nimport type {HttpMethod} from '../types/options.js';\nimport type {RetryOptions} from '../types/retry.js';\n\nexport const normalizeRequestMethod = (input: string): string =>\n\trequestMethods.includes(input as HttpMethod) ? input.toUpperCase() : input;\n\nconst retryMethods = ['get', 'put', 'head', 'delete', 'options', 'trace'];\n\nconst retryStatusCodes = [408, 413, 429, 500, 502, 503, 504];\n\nconst retryAfterStatusCodes = [413, 429, 503];\n\nconst defaultRetryOptions: Required<RetryOptions> = {\n\tlimit: 2,\n\tmethods: retryMethods,\n\tstatusCodes: retryStatusCodes,\n\tafterStatusCodes: retryAfterStatusCodes,\n\tmaxRetryAfter: Number.POSITIVE_INFINITY,\n\tbackoffLimit: Number.POSITIVE_INFINITY,\n\tdelay: attemptCount => 0.3 * (2 ** (attemptCount - 1)) * 1000,\n};\n\nexport const normalizeRetryOptions = (retry: number | RetryOptions = {}): Required<RetryOptions> => {\n\tif (typeof retry === 'number') {\n\t\treturn {\n\t\t\t...defaultRetryOptions,\n\t\t\tlimit: retry,\n\t\t};\n\t}\n\n\tif (retry.methods && !Array.isArray(retry.methods)) {\n\t\tthrow new Error('retry.methods must be an array');\n\t}\n\n\tif (retry.statusCodes && !Array.isArray(retry.statusCodes)) {\n\t\tthrow new Error('retry.statusCodes must be an array');\n\t}\n\n\treturn {\n\t\t...defaultRetryOptions,\n\t\t...retry,\n\t};\n};\n", "import type {Expect, Equal} from '@type-challenges/utils';\nimport {type HttpMethod, type KyOptionsRegistry} from '../types/options.js';\nimport {type RequestInitRegistry} from '../types/request.js';\n\nexport const supportsRequestStreams = (() => {\n\tlet duplexAccessed = false;\n\tlet hasContentType = false;\n\tconst supportsReadableStream = typeof globalThis.ReadableStream === 'function';\n\tconst supportsRequest = typeof globalThis.Request === 'function';\n\n\tif (supportsReadableStream && supportsRequest) {\n\t\ttry {\n\t\t\thasContentType = new globalThis.Request('https://empty.invalid', {\n\t\t\t\tbody: new globalThis.ReadableStream(),\n\t\t\t\tmethod: 'POST',\n\t\t\t\t// @ts-expect-error - Types are outdated.\n\t\t\t\tget duplex() {\n\t\t\t\t\tduplexAccessed = true;\n\t\t\t\t\treturn 'half';\n\t\t\t\t},\n\t\t\t}).headers.has('Content-Type');\n\t\t} catch (error) {\n\t\t\t// QQBrowser on iOS throws \"unsupported BodyInit type\" error (see issue #581)\n\t\t\tif (error instanceof Error && error.message === 'unsupported BodyInit type') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\treturn duplexAccessed && !hasContentType;\n})();\n\nexport const supportsAbortController = typeof globalThis.AbortController === 'function';\nexport const supportsResponseStreams = typeof globalThis.ReadableStream === 'function';\nexport const supportsFormData = typeof globalThis.FormData === 'function';\n\nexport const requestMethods = ['get', 'post', 'put', 'patch', 'head', 'delete'] as const;\n\nconst validate = <T extends Array<true>>() => undefined as unknown as T;\nvalidate<[\n\tExpect<Equal<typeof requestMethods[number], HttpMethod>>,\n]>();\n\nexport const responseTypes = {\n\tjson: 'application/json',\n\ttext: 'text/*',\n\tformData: 'multipart/form-data',\n\tarrayBuffer: '*/*',\n\tblob: '*/*',\n} as const;\n\n// The maximum value of a 32bit int (see issue #117)\nexport const maxSafeTimeout = 2_147_483_647;\n\nexport const stop = Symbol('stop');\n\nexport const kyOptionKeys: KyOptionsRegistry = {\n\tjson: true,\n\tparseJson: true,\n\tstringifyJson: true,\n\tsearchParams: true,\n\tprefixUrl: true,\n\tretry: true,\n\ttimeout: true,\n\thooks: true,\n\tthrowHttpErrors: true,\n\tonDownloadProgress: true,\n\tfetch: true,\n};\n\nexport const requestOptionsRegistry: RequestInitRegistry = {\n\tmethod: true,\n\theaders: true,\n\tbody: true,\n\tmode: true,\n\tcredentials: true,\n\tcache: true,\n\tredirect: true,\n\treferrer: true,\n\treferrerPolicy: true,\n\tintegrity: true,\n\tkeepalive: true,\n\tsignal: true,\n\twindow: true,\n\tdispatcher: true,\n\tduplex: true,\n\tpriority: true,\n};\n", "import {TimeoutError} from '../errors/TimeoutError.js';\n\nexport type TimeoutOptions = {\n\ttimeout: number;\n\tfetch: typeof fetch;\n};\n\n// `Promise.race()` workaround (#91)\nexport default async function timeout(\n\trequest: Request,\n\tinit: RequestInit,\n\tabortController: AbortController | undefined,\n\toptions: TimeoutOptions,\n): Promise<Response> {\n\treturn new Promise((resolve, reject) => {\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tif (abortController) {\n\t\t\t\tabortController.abort();\n\t\t\t}\n\n\t\t\treject(new TimeoutError(request));\n\t\t}, options.timeout);\n\n\t\tvoid options\n\t\t\t.fetch(request, init)\n\t\t\t.then(resolve)\n\t\t\t.catch(reject)\n\t\t\t.then(() => {\n\t\t\t\tclearTimeout(timeoutId);\n\t\t\t});\n\t});\n}\n", "// https://github.com/sindresorhus/delay/tree/ab98ae8dfcb38e1593286c94d934e70d14a4e111\n\nimport {type InternalOptions} from '../types/options.js';\n\nexport type DelayOptions = {\n\tsignal?: InternalOptions['signal'];\n};\n\nexport default async function delay(\n\tms: number,\n\t{signal}: DelayOptions,\n): Promise<void> {\n\treturn new Promise((resolve, reject) => {\n\t\tif (signal) {\n\t\t\tsignal.throwIfAborted();\n\t\t\tsignal.addEventListener('abort', abortHandler, {once: true});\n\t\t}\n\n\t\tfunction abortHandler() {\n\t\t\tclearTimeout(timeoutId);\n\t\t\treject(signal!.reason as Error);\n\t\t}\n\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tsignal?.removeEventListener('abort', abortHandler);\n\t\t\tresolve();\n\t\t}, ms);\n\t});\n}\n", "import {kyOptionKeys, requestOptionsRegistry} from '../core/constants.js';\n\nexport const findUnknownOptions = (\n\trequest: Request,\n\toptions: Record<string, unknown>,\n): Record<string, unknown> => {\n\tconst unknownOptions: Record<string, unknown> = {};\n\n\tfor (const key in options) {\n\t\tif (!(key in requestOptionsRegistry) && !(key in kyOptionKeys) && !(key in request)) {\n\t\t\tunknownOptions[key] = options[key];\n\t\t}\n\t}\n\n\treturn unknownOptions;\n};\n", "import { Hono } from 'hono';\r\nimport { getCookie, setCookie, deleteCookie } from 'hono/cookie';\r\nimport type { Env, Variables, Actor } from '../types';\r\nimport { generateId, actorApId, formatUsername, generateKeyPair } from '../utils';\r\nimport { encrypt, verifyPassword } from '../lib/crypto';\r\nimport {\r\n  getAuthConfig,\r\n  getProvider,\r\n  getClientId,\r\n  getClientSecret,\r\n  fetchUserInfo,\r\n} from '../lib/oauth-providers';\r\nimport {\r\n  generateId as generateOAuthId,\r\n  generateCodeVerifier,\r\n  generateCodeChallenge,\r\n  saveOAuthState,\r\n  getOAuthState,\r\n  deleteOAuthState,\r\n} from '../lib/oauth-utils';\r\nimport type { PrismaClient } from '../../generated/prisma';\r\n\r\n/**\r\n * Constant-time string comparison to prevent timing attacks\r\n * Always compares the full length to avoid leaking information about the password\r\n */\r\nfunction timingSafeEqual(a: string, b: string): boolean {\r\n  const encoder = new TextEncoder();\r\n  const aBytes = encoder.encode(a);\r\n  const bBytes = encoder.encode(b);\r\n\r\n  // Always compare using the maximum length to ensure constant-time\r\n  // regardless of input lengths (prevents length-based timing attacks)\r\n  const maxLen = Math.max(aBytes.length, bBytes.length);\r\n\r\n  // Start with length comparison result (1 if different, 0 if same)\r\n  let result = aBytes.length === bBytes.length ? 0 : 1;\r\n\r\n  for (let i = 0; i < maxLen; i++) {\r\n    // Use 0 as fallback for shorter string to ensure constant-time comparison\r\n    const aByte = i < aBytes.length ? aBytes[i] : 0;\r\n    const bByte = i < bBytes.length ? bBytes[i] : 0;\r\n    // XOR bytes and OR into result - any difference sets bits in result\r\n    result |= aByte ^ bByte;\r\n  }\r\n\r\n  return result === 0;\r\n}\r\n\r\nconst auth = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\n// ============================================\r\n// \u8A8D\u8A3C\u8A2D\u5B9A\u53D6\u5F97\r\n// ============================================\r\n\r\nauth.get('/providers', async (c) => {\r\n  const config = getAuthConfig(c.env);\r\n  return c.json({\r\n    providers: config.providers.map(p => ({\r\n      id: p.id,\r\n      name: p.name,\r\n      icon: p.icon,\r\n    })),\r\n    password_enabled: config.passwordEnabled,\r\n  });\r\n});\r\n\r\n// ============================================\r\n// \u73FE\u5728\u306E\u30E6\u30FC\u30B6\u30FC\u60C5\u5831\r\n// ============================================\r\n\r\nauth.get('/me', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Not authenticated' }, 401);\r\n\r\n  // \u30BB\u30C3\u30B7\u30E7\u30F3\u304B\u3089\u30D7\u30ED\u30D0\u30A4\u30C0\u30FC\u60C5\u5831\u3092\u53D6\u5F97\r\n  const sessionId = getCookie(c, 'session');\r\n  let provider: string | null = null;\r\n  let hasTakosAccess = false;\r\n\r\n  if (sessionId) {\r\n    const prisma = c.get('prisma');\r\n    const session = await prisma.session.findUnique({\r\n      where: { id: sessionId },\r\n      select: { provider: true, providerAccessToken: true },\r\n    });\r\n\r\n    if (session) {\r\n      provider = session.provider;\r\n      hasTakosAccess = session.provider === 'takos' && !!session.providerAccessToken;\r\n    }\r\n  }\r\n\r\n  return c.json({\r\n    actor: {\r\n      ap_id: actor.ap_id,\r\n      username: formatUsername(actor.ap_id),\r\n      preferred_username: actor.preferred_username,\r\n      name: actor.name,\r\n      summary: actor.summary,\r\n      icon_url: actor.icon_url,\r\n      header_url: actor.header_url,\r\n      follower_count: actor.follower_count,\r\n      following_count: actor.following_count,\r\n      post_count: actor.post_count,\r\n      role: actor.role,\r\n    },\r\n    provider,\r\n    has_takos_access: hasTakosAccess,\r\n  });\r\n});\r\n\r\n// ============================================\r\n// \u30D1\u30B9\u30EF\u30FC\u30C9\u8A8D\u8A3C\r\n// ============================================\r\n\r\nauth.post('/login', async (c) => {\r\n  const config = getAuthConfig(c.env);\r\n  if (!config.passwordEnabled) {\r\n    return c.json({ error: 'Password auth not enabled' }, 400);\r\n  }\r\n\r\n  const body = await c.req.json<{ password: string }>();\r\n  const password = body.password || '';\r\n\r\n  // Verify password using PBKDF2 hash (AUTH_PASSWORD_HASH)\r\n  // Falls back to legacy plain comparison (AUTH_PASSWORD) with warning\r\n  let isValid = false;\r\n\r\n  if (c.env.AUTH_PASSWORD_HASH) {\r\n    // Secure: PBKDF2-hashed password\r\n    isValid = await verifyPassword(password, c.env.AUTH_PASSWORD_HASH);\r\n  } else if (c.env.AUTH_PASSWORD) {\r\n    // Legacy: plain text comparison (deprecated, will be removed)\r\n    console.warn(\r\n      '[SECURITY WARNING] AUTH_PASSWORD is deprecated. ' +\r\n      'Use AUTH_PASSWORD_HASH with PBKDF2-hashed password instead. ' +\r\n      'See docs for migration guide.'\r\n    );\r\n    isValid = timingSafeEqual(password, c.env.AUTH_PASSWORD);\r\n  }\r\n\r\n  if (!isValid) {\r\n    return c.json({ error: 'Invalid password' }, 401);\r\n  }\r\n\r\n  const prisma = c.get('prisma');\r\n\r\n  // Session fixation prevention: Delete any existing session before creating new one\r\n  const existingSessionId = getCookie(c, 'session');\r\n  if (existingSessionId) {\r\n    await prisma.session.delete({ where: { id: existingSessionId } }).catch(() => {});\r\n    deleteCookie(c, 'session');\r\n  }\r\n\r\n  // Single-user instance: find existing owner or create default\r\n  let actorData = await prisma.actor.findFirst({\r\n    where: { role: 'owner' },\r\n  });\r\n\r\n  if (!actorData) {\r\n    actorData = await createDefaultOwner(prisma, c.env, 'password:owner');\r\n  }\r\n\r\n  // Generate new session with fresh ID (session rotation)\r\n  const sessionId = await createSession(prisma, actorData.apId, null, null, c.env.ENCRYPTION_KEY);\r\n  setSessionCookie(c, sessionId);\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// ============================================\r\n// OAuth: \u8A8D\u8A3C\u958B\u59CB\r\n// ============================================\r\n\r\nauth.get('/login/:provider', async (c) => {\r\n  const providerId = c.req.param('provider');\r\n  const provider = getProvider(c.env, providerId);\r\n\r\n  if (!provider) {\r\n    return c.json({ error: 'Unknown or unconfigured provider' }, 400);\r\n  }\r\n\r\n  const state = generateOAuthId();\r\n  const codeVerifier = generateCodeVerifier();\r\n  const codeChallenge = await generateCodeChallenge(codeVerifier);\r\n\r\n  // state\u4FDD\u5B58\r\n  await saveOAuthState(c.env.KV, state, {\r\n    provider: providerId,\r\n    codeVerifier,\r\n    createdAt: Date.now(),\r\n  });\r\n\r\n  const clientId = getClientId(c.env, providerId);\r\n  const redirectUri = `${c.env.APP_URL}/api/auth/callback/${providerId}`;\r\n\r\n  const params = new URLSearchParams({\r\n    response_type: 'code',\r\n    client_id: clientId,\r\n    redirect_uri: redirectUri,\r\n    scope: provider.scopes.join(' '),\r\n    state,\r\n  });\r\n\r\n  // PKCE\u5BFE\u5FDC\r\n  if (provider.supportsPkce) {\r\n    params.set('code_challenge', codeChallenge);\r\n    params.set('code_challenge_method', 'S256');\r\n  }\r\n\r\n  return c.redirect(`${provider.authorizeUrl}?${params.toString()}`);\r\n});\r\n\r\n// ============================================\r\n// OAuth: \u30B3\u30FC\u30EB\u30D0\u30C3\u30AF\r\n// ============================================\r\n\r\nauth.get('/callback/:provider', async (c) => {\r\n  const providerId = c.req.param('provider');\r\n  const code = c.req.query('code');\r\n  const state = c.req.query('state');\r\n  const error = c.req.query('error');\r\n  const errorDescription = c.req.query('error_description');\r\n\r\n  if (error) {\r\n    console.error('OAuth error:', error, errorDescription);\r\n    // Validate error is a known OAuth error type to prevent injection\r\n    const knownErrors = [\r\n      'access_denied', 'invalid_request', 'unauthorized_client',\r\n      'unsupported_response_type', 'invalid_scope', 'server_error',\r\n      'temporarily_unavailable', 'interaction_required', 'login_required',\r\n      'consent_required'\r\n    ];\r\n    const safeError = knownErrors.includes(error) ? error : 'oauth_error';\r\n    return c.redirect(`/?error=${safeError}`);\r\n  }\r\n\r\n  if (!code || !state) {\r\n    return c.redirect('/?error=missing_params');\r\n  }\r\n\r\n  // state\u691C\u8A3C\r\n  const storedState = await getOAuthState(c.env.KV, state);\r\n  if (!storedState) {\r\n    return c.redirect('/?error=invalid_state');\r\n  }\r\n\r\n  if (storedState.provider !== providerId) {\r\n    return c.redirect('/?error=provider_mismatch');\r\n  }\r\n\r\n  await deleteOAuthState(c.env.KV, state);\r\n\r\n  const provider = getProvider(c.env, providerId);\r\n  if (!provider) {\r\n    return c.redirect('/?error=unknown_provider');\r\n  }\r\n\r\n  const clientId = getClientId(c.env, providerId);\r\n  const clientSecret = getClientSecret(c.env, providerId);\r\n  const redirectUri = `${c.env.APP_URL}/api/auth/callback/${providerId}`;\r\n\r\n  // \u30C8\u30FC\u30AF\u30F3\u4EA4\u63DB\r\n  const tokenBody: Record<string, string> = {\r\n    grant_type: 'authorization_code',\r\n    code,\r\n    redirect_uri: redirectUri,\r\n    client_id: clientId,\r\n    client_secret: clientSecret,\r\n  };\r\n\r\n  if (provider.supportsPkce) {\r\n    tokenBody.code_verifier = storedState.codeVerifier;\r\n  }\r\n\r\n  // X requires Basic auth\r\n  const tokenHeaders: Record<string, string> = {\r\n    'Content-Type': 'application/x-www-form-urlencoded',\r\n  };\r\n\r\n  if (providerId === 'x') {\r\n    const credentials = btoa(`${clientId}:${clientSecret}`);\r\n    tokenHeaders['Authorization'] = `Basic ${credentials}`;\r\n    delete tokenBody.client_secret;\r\n  }\r\n\r\n  console.log('Token exchange request:', {\r\n    url: provider.tokenUrl,\r\n    clientId,\r\n    redirectUri,\r\n    hasCodeVerifier: !!tokenBody.code_verifier,\r\n  });\r\n\r\n  const tokenRes = await fetch(provider.tokenUrl, {\r\n    method: 'POST',\r\n    headers: tokenHeaders,\r\n    body: new URLSearchParams(tokenBody),\r\n  });\r\n\r\n  if (!tokenRes.ok) {\r\n    const errText = await tokenRes.text();\r\n    console.error('Token exchange failed:', {\r\n      status: tokenRes.status,\r\n      statusText: tokenRes.statusText,\r\n      body: errText,\r\n      url: provider.tokenUrl,\r\n    });\r\n    return c.redirect('/?error=token_exchange_failed');\r\n  }\r\n\r\n  const tokens = await tokenRes.json() as {\r\n    access_token: string;\r\n    refresh_token?: string;\r\n    expires_in?: number;\r\n  };\r\n\r\n  // \u30E6\u30FC\u30B6\u30FC\u60C5\u5831\u53D6\u5F97\r\n  let userInfo;\r\n  try {\r\n    userInfo = await fetchUserInfo(provider, tokens.access_token);\r\n  } catch (err) {\r\n    console.error('Failed to fetch user info:', err);\r\n    return c.redirect('/?error=user_info_failed');\r\n  }\r\n\r\n  const providerUserId = `${providerId}:${userInfo.id}`;\r\n  const prisma = c.get('prisma');\r\n\r\n  // Actor\u4F5C\u6210/\u66F4\u65B0\r\n  let actorData = await prisma.actor.findFirst({\r\n    where: { takosUserId: providerUserId },\r\n  });\r\n\r\n  if (!actorData) {\r\n    actorData = await createActorFromOAuth(prisma, c.env, userInfo, providerUserId);\r\n  } else {\r\n    // \u30D7\u30ED\u30D5\u30A3\u30FC\u30EB\u66F4\u65B0\r\n    await updateActorFromOAuth(prisma, actorData, userInfo);\r\n  }\r\n\r\n  // Session fixation prevention: Delete any existing session before creating new one\r\n  const existingSessionId = getCookie(c, 'session');\r\n  if (existingSessionId) {\r\n    await prisma.session.delete({ where: { id: existingSessionId } }).catch(() => {});\r\n    deleteCookie(c, 'session');\r\n  }\r\n\r\n  // \u30BB\u30C3\u30B7\u30E7\u30F3\u4F5C\u6210 (new session with fresh ID - session rotation)\r\n  const sessionId = await createSession(\r\n    prisma,\r\n    actorData.apId,\r\n    providerId,\r\n    providerId === 'takos' ? tokens : null,\r\n    c.env.ENCRYPTION_KEY\r\n  );\r\n\r\n  setSessionCookie(c, sessionId);\r\n\r\n  return c.redirect('/');\r\n});\r\n\r\n// ============================================\r\n// \u30ED\u30B0\u30A2\u30A6\u30C8\r\n// ============================================\r\n\r\nauth.post('/logout', async (c) => {\r\n  const sessionId = getCookie(c, 'session');\r\n  if (sessionId) {\r\n    const prisma = c.get('prisma');\r\n    await prisma.session.delete({ where: { id: sessionId } }).catch(() => {});\r\n    deleteCookie(c, 'session');\r\n  }\r\n  return c.json({ success: true });\r\n});\r\n\r\n// ============================================\r\n// \u30A2\u30AB\u30A6\u30F3\u30C8\u7BA1\u7406\uFF08\u65E2\u5B58\u6A5F\u80FD\u7DAD\u6301\uFF09\r\n// ============================================\r\n\r\nauth.get('/accounts', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Not authenticated' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const accounts = await prisma.actor.findMany({\r\n    select: {\r\n      apId: true,\r\n      preferredUsername: true,\r\n      name: true,\r\n      iconUrl: true,\r\n    },\r\n    orderBy: { createdAt: 'asc' },\r\n  });\r\n\r\n  return c.json({\r\n    accounts: accounts.map(a => ({\r\n      ap_id: a.apId,\r\n      preferred_username: a.preferredUsername,\r\n      name: a.name,\r\n      icon_url: a.iconUrl,\r\n    })),\r\n    current_ap_id: actor.ap_id,\r\n  });\r\n});\r\n\r\nauth.post('/switch', async (c) => {\r\n  const currentActor = c.get('actor');\r\n  if (!currentActor) return c.json({ error: 'Not authenticated' }, 401);\r\n\r\n  const sessionId = getCookie(c, 'session');\r\n  if (!sessionId) return c.json({ error: 'No session' }, 401);\r\n\r\n  const body = await c.req.json<{ ap_id: string }>();\r\n  if (!body.ap_id) return c.json({ error: 'ap_id required' }, 400);\r\n\r\n  const prisma = c.get('prisma');\r\n  const targetActor = await prisma.actor.findUnique({\r\n    where: { apId: body.ap_id },\r\n    select: { apId: true },\r\n  });\r\n\r\n  if (!targetActor) return c.json({ error: 'Account not found' }, 404);\r\n\r\n  await prisma.session.update({\r\n    where: { id: sessionId },\r\n    data: { memberId: body.ap_id },\r\n  });\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\nauth.post('/accounts', async (c) => {\r\n  const currentActor = c.get('actor');\r\n  if (!currentActor) return c.json({ error: 'Not authenticated' }, 401);\r\n\r\n  const body = await c.req.json<{ username: string; name?: string }>();\r\n  if (!body.username) return c.json({ error: 'username required' }, 400);\r\n\r\n  if (!/^[a-zA-Z0-9_]+$/.test(body.username)) {\r\n    return c.json({ error: 'Invalid username. Use only letters, numbers, and underscores.' }, 400);\r\n  }\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = actorApId(baseUrl, body.username);\r\n  const prisma = c.get('prisma');\r\n\r\n  const existing = await prisma.actor.findUnique({\r\n    where: { apId },\r\n    select: { apId: true },\r\n  });\r\n\r\n  if (existing) return c.json({ error: 'Username already taken' }, 400);\r\n\r\n  const { publicKeyPem, privateKeyPem } = await generateKeyPair();\r\n  const newActor = await prisma.actor.create({\r\n    data: {\r\n      apId,\r\n      type: 'Person',\r\n      preferredUsername: body.username,\r\n      name: body.name || body.username,\r\n      inbox: `${apId}/inbox`,\r\n      outbox: `${apId}/outbox`,\r\n      followersUrl: `${apId}/followers`,\r\n      followingUrl: `${apId}/following`,\r\n      publicKeyPem,\r\n      privateKeyPem,\r\n      takosUserId: `local:${body.username}`,\r\n      role: 'member',\r\n    },\r\n    select: {\r\n      apId: true,\r\n      preferredUsername: true,\r\n      name: true,\r\n      iconUrl: true,\r\n    },\r\n  });\r\n\r\n  return c.json({\r\n    success: true,\r\n    account: {\r\n      ap_id: newActor.apId,\r\n      preferred_username: newActor.preferredUsername,\r\n      name: newActor.name,\r\n      icon_url: newActor.iconUrl,\r\n    },\r\n  });\r\n});\r\n\r\n// ============================================\r\n// \u30D8\u30EB\u30D1\u30FC\u95A2\u6570\r\n// ============================================\r\n\r\nasync function createDefaultOwner(prisma: PrismaClient, env: Env, takosUserId: string) {\r\n  const baseUrl = env.APP_URL;\r\n  const username = 'tako';\r\n  const apId = actorApId(baseUrl, username);\r\n\r\n  const { publicKeyPem, privateKeyPem } = await generateKeyPair();\r\n\r\n  return await prisma.actor.create({\r\n    data: {\r\n      apId,\r\n      type: 'Person',\r\n      preferredUsername: username,\r\n      name: username,\r\n      inbox: `${apId}/inbox`,\r\n      outbox: `${apId}/outbox`,\r\n      followersUrl: `${apId}/followers`,\r\n      followingUrl: `${apId}/following`,\r\n      publicKeyPem,\r\n      privateKeyPem,\r\n      takosUserId,\r\n      role: 'owner',\r\n    },\r\n  });\r\n}\r\n\r\nasync function createActorFromOAuth(\r\n  prisma: PrismaClient,\r\n  env: Env,\r\n  userInfo: { id: string; name: string; email?: string; picture?: string; username?: string },\r\n  providerUserId: string\r\n) {\r\n  const baseUrl = env.APP_URL;\r\n\r\n  // \u30E6\u30FC\u30B6\u30FC\u540D\u3092\u751F\u6210\uFF08\u91CD\u8907\u56DE\u907F\uFF09\r\n  let baseUsername = userInfo.username || userInfo.name.toLowerCase().replace(/[^a-z0-9]/g, '') || 'user';\r\n  let username = baseUsername;\r\n  let counter = 1;\r\n\r\n  while (true) {\r\n    const apId = actorApId(baseUrl, username);\r\n    const existing = await prisma.actor.findUnique({\r\n      where: { apId },\r\n      select: { apId: true },\r\n    });\r\n    if (!existing) break;\r\n    username = `${baseUsername}${counter}`;\r\n    counter++;\r\n  }\r\n\r\n  const apId = actorApId(baseUrl, username);\r\n  const { publicKeyPem, privateKeyPem } = await generateKeyPair();\r\n\r\n  // \u6700\u521D\u306E\u30E6\u30FC\u30B6\u30FC\u306Fowner\u306B\r\n  const actorCount = await prisma.actor.count();\r\n  const role = actorCount === 0 ? 'owner' : 'member';\r\n\r\n  return await prisma.actor.create({\r\n    data: {\r\n      apId,\r\n      type: 'Person',\r\n      preferredUsername: username,\r\n      name: userInfo.name,\r\n      iconUrl: userInfo.picture || null,\r\n      inbox: `${apId}/inbox`,\r\n      outbox: `${apId}/outbox`,\r\n      followersUrl: `${apId}/followers`,\r\n      followingUrl: `${apId}/following`,\r\n      publicKeyPem,\r\n      privateKeyPem,\r\n      takosUserId: providerUserId,\r\n      role,\r\n    },\r\n  });\r\n}\r\n\r\nasync function updateActorFromOAuth(\r\n  prisma: PrismaClient,\r\n  actor: { apId: string },\r\n  userInfo: { name: string; picture?: string }\r\n): Promise<void> {\r\n  await prisma.actor.update({\r\n    where: { apId: actor.apId },\r\n    data: {\r\n      name: userInfo.name,\r\n      iconUrl: userInfo.picture || undefined,\r\n    },\r\n  });\r\n}\r\n\r\nasync function createSession(\r\n  prisma: PrismaClient,\r\n  actorApId: string,\r\n  provider: string | null,\r\n  tokens: { access_token: string; refresh_token?: string; expires_in?: number } | null,\r\n  encryptionKey?: string\r\n): Promise<string> {\r\n  const sessionId = generateId();\r\n  const expiresAt = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString();\r\n  const tokenExpiresAt = tokens?.expires_in\r\n    ? new Date(Date.now() + tokens.expires_in * 1000).toISOString()\r\n    : null;\r\n\r\n  // Encrypt OAuth tokens before storing\r\n  const encryptedAccessToken = tokens?.access_token\r\n    ? await encrypt(tokens.access_token, encryptionKey)\r\n    : null;\r\n  const encryptedRefreshToken = tokens?.refresh_token\r\n    ? await encrypt(tokens.refresh_token, encryptionKey)\r\n    : null;\r\n\r\n  await prisma.session.create({\r\n    data: {\r\n      id: sessionId,\r\n      memberId: actorApId,\r\n      accessToken: sessionId, // legacy: access_token = sessionId\r\n      expiresAt,\r\n      provider,\r\n      providerAccessToken: encryptedAccessToken,\r\n      providerRefreshToken: encryptedRefreshToken,\r\n      providerTokenExpiresAt: tokenExpiresAt,\r\n    },\r\n  });\r\n\r\n  return sessionId;\r\n}\r\n\r\nfunction setSessionCookie(c: { header: (name: string, value: string) => void }, sessionId: string): void {\r\n  setCookie(c as Parameters<typeof setCookie>[0], 'session', sessionId, {\r\n    httpOnly: true,\r\n    secure: true,\r\n    sameSite: 'Lax',\r\n    path: '/',\r\n    maxAge: 30 * 24 * 60 * 60,\r\n  });\r\n}\r\n\r\nexport default auth;\r\n", "// Utility functions for Yurucommu backend\n\n// Re-export error types and utilities from local lib\nexport {\n  // Error codes\n  ErrorCodes,\n  type ErrorCode,\n  // Error classes\n  AppError,\n  BadRequestError,\n  AuthenticationError,\n  AuthorizationError,\n  NotFoundError,\n  ConflictError,\n  ValidationError,\n  RateLimitError,\n  InternalError,\n  ServiceUnavailableError,\n  // Utilities\n  isAppError,\n  normalizeError,\n  logError,\n  handleDatabaseError,\n  type ErrorResponse,\n  type ValidationErrorDetail,\n} from './lib/errors';\n\n// Re-export Hono error helpers for route handlers\nexport {\n  badRequest,\n  unauthorized,\n  forbidden,\n  notFound,\n  conflict,\n  validationError,\n  validationErrorWithFields,\n  internalError,\n  serviceUnavailable,\n  rateLimited,\n  handleDbError,\n  throwBadRequest,\n  throwUnauthorized,\n  throwForbidden,\n  throwNotFound,\n  throwConflict,\n  throwValidation,\n  throwInternalError,\n  throwServiceUnavailable,\n  throwRateLimited,\n} from './middleware/error-handler';\n\n/**\n * Safely parse JSON with a fallback value on parse failure.\n * Returns the default value if json is null, undefined, or invalid JSON.\n */\nexport function safeJsonParse<T>(json: string | null | undefined, defaultValue: T): T {\n  if (!json) return defaultValue;\n  try {\n    return JSON.parse(json) as T;\n  } catch (err) {\n    // MEDIUM FIX: Log the error for debugging\n    console.warn('[Utils] safeJsonParse failed:', err);\n    return defaultValue;\n  }\n}\n\nexport function parseLimit(value: string | undefined, fallback: number, max: number): number {\n  const parsed = parseInt(value || '', 10);\n  if (!Number.isFinite(parsed)) return fallback;\n  return Math.min(Math.max(parsed, 1), max);\n}\n\nexport function generateId(): string {\n  const bytes = new Uint8Array(12);\n  crypto.getRandomValues(bytes);\n  return Array.from(bytes).map(b => b.toString(16).padStart(2, '0')).join('');\n}\n\n// Generate AP IRI for local resources\nexport function actorApId(baseUrl: string, username: string): string {\n  return `${baseUrl}/ap/users/${username}`;\n}\n\nexport function objectApId(baseUrl: string, id: string): string {\n  return `${baseUrl}/ap/objects/${id}`;\n}\n\nexport function activityApId(baseUrl: string, id: string): string {\n  return `${baseUrl}/ap/activities/${id}`;\n}\n\nexport function communityApId(baseUrl: string, name: string): string {\n  return `${baseUrl}/ap/groups/${name}`;\n}\n\n// Extract domain from AP IRI\nexport function getDomain(apId: string): string {\n  return new URL(apId).host;\n}\n\n// Check if AP IRI is local\nexport function isLocal(apId: string, baseUrl: string): boolean {\n  return apId.startsWith(baseUrl);\n}\n\n// Format username with domain for display\nexport function formatUsername(apId: string): string {\n  const url = new URL(apId);\n  const match = apId.match(/\\/users\\/([^\\/]+)$/);\n  if (match) {\n    return `${match[1]}@${url.host}`;\n  }\n  return apId;\n}\n\nconst HOSTNAME_PATTERN = /^[a-z0-9.-]+$/i;\n\nfunction parseIPv4(hostname: string): number[] | null {\n  if (!/^\\d{1,3}(\\.\\d{1,3}){3}$/.test(hostname)) return null;\n  const parts = hostname.split('.').map((part) => Number(part));\n  if (parts.some((part) => Number.isNaN(part) || part < 0 || part > 255)) return null;\n  return parts;\n}\n\nfunction isPrivateIPv4(hostname: string): boolean {\n  const parts = parseIPv4(hostname);\n  if (!parts) return false;\n  const [a, b, c] = parts;\n  if (a === 0 || a === 10 || a === 127) return true;\n  if (a === 169 && b === 254) return true;\n  if (a === 172 && b >= 16 && b <= 31) return true;\n  if (a === 192 && b === 168) return true;\n  if (a === 100 && b >= 64 && b <= 127) return true;\n  if (a === 192 && b === 0 && c === 0) return true;\n  if (a === 192 && b === 0 && c === 2) return true;\n  if (a === 198 && (b === 18 || b === 19)) return true;\n  if (a === 198 && b === 51 && c === 100) return true;\n  if (a === 203 && b === 0 && c === 113) return true;\n  if (a >= 224) return true;\n  return false;\n}\n\nexport function isBlockedHostname(hostname: string): boolean {\n  const lower = hostname.toLowerCase();\n  if (\n    lower === 'localhost' ||\n    lower.endsWith('.localhost') ||\n    lower.endsWith('.local') ||\n    lower.endsWith('.localdomain') ||\n    lower.endsWith('.internal')\n  ) {\n    return true;\n  }\n  // Block colons to prevent port specification attacks\n  if (lower.includes(':')) return true;\n  if (isPrivateIPv4(lower)) return true;\n  return false;\n}\n\nexport function isSafeRemoteUrl(url: string): boolean {\n  try {\n    const parsed = new URL(url);\n    if (parsed.username || parsed.password) return false;\n    if (parsed.protocol !== 'http:' && parsed.protocol !== 'https:') return false;\n    if (!HOSTNAME_PATTERN.test(parsed.hostname)) return false;\n    if (!parsed.hostname.includes('.')) return false;\n    if (isBlockedHostname(parsed.hostname)) return false;\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Normalize a remote domain for safe use\n * Returns the normalized host or null if invalid\n */\nexport function normalizeRemoteDomain(domain: string): string | null {\n  const trimmed = domain.trim();\n  if (!trimmed) return null;\n  try {\n    const parsed = new URL(`https://${trimmed}`);\n    if (parsed.username || parsed.password) return null;\n    if (parsed.pathname !== '/' || parsed.search || parsed.hash) return null;\n    const hostname = parsed.hostname;\n    if (!HOSTNAME_PATTERN.test(hostname)) return null;\n    if (!hostname.includes('.')) return null;\n    if (isBlockedHostname(hostname)) return null;\n    return parsed.host;\n  } catch {\n    return null;\n  }\n}\n\n// RSA key generation\nexport async function generateKeyPair(): Promise<{ publicKeyPem: string; privateKeyPem: string }> {\n  const keyPair = await crypto.subtle.generateKey(\n    { name: 'RSASSA-PKCS1-v1_5', modulusLength: 2048, publicExponent: new Uint8Array([1, 0, 1]), hash: 'SHA-256' },\n    true,\n    ['sign', 'verify']\n  );\n\n  const publicKey = await crypto.subtle.exportKey('spki', keyPair.publicKey);\n  const privateKey = await crypto.subtle.exportKey('pkcs8', keyPair.privateKey);\n\n  const publicKeyPem = `-----BEGIN PUBLIC KEY-----\\n${btoa(String.fromCharCode(...new Uint8Array(publicKey))).match(/.{1,64}/g)?.join('\\n')}\\n-----END PUBLIC KEY-----`;\n  const privateKeyPem = `-----BEGIN PRIVATE KEY-----\\n${btoa(String.fromCharCode(...new Uint8Array(privateKey))).match(/.{1,64}/g)?.join('\\n')}\\n-----END PRIVATE KEY-----`;\n\n  return { publicKeyPem, privateKeyPem };\n}\n\n// HTTP Signature\nexport async function signRequest(privateKeyPem: string, keyId: string, method: string, url: string, body?: string): Promise<Record<string, string>> {\n  const urlObj = new URL(url);\n  const date = new Date().toUTCString();\n  const digest = body ? `SHA-256=${btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.digest('SHA-256', new TextEncoder().encode(body)))))}` : undefined;\n\n  const signedHeaders = digest ? '(request-target) host date digest' : '(request-target) host date';\n  const signatureString = digest\n    ? `(request-target): ${method.toLowerCase()} ${urlObj.pathname}\\nhost: ${urlObj.host}\\ndate: ${date}\\ndigest: ${digest}`\n    : `(request-target): ${method.toLowerCase()} ${urlObj.pathname}\\nhost: ${urlObj.host}\\ndate: ${date}`;\n\n  const pemContents = privateKeyPem.replace(/-----[^-]+-----/g, '').replace(/\\s/g, '');\n  const binaryKey = Uint8Array.from(atob(pemContents), c => c.charCodeAt(0));\n  const cryptoKey = await crypto.subtle.importKey('pkcs8', binaryKey, { name: 'RSASSA-PKCS1-v1_5', hash: 'SHA-256' }, false, ['sign']);\n  const signatureBuffer = await crypto.subtle.sign('RSASSA-PKCS1-v1_5', cryptoKey, new TextEncoder().encode(signatureString));\n  const signature = btoa(String.fromCharCode(...new Uint8Array(signatureBuffer)));\n\n  const headers: Record<string, string> = {\n    'Date': date,\n    'Host': urlObj.host,\n    'Signature': `keyId=\"${keyId}\",algorithm=\"rsa-sha256\",headers=\"${signedHeaders}\",signature=\"${signature}\"`,\n  };\n  if (digest) headers['Digest'] = digest;\n\n  return headers;\n}\n\n// Default timeout for external HTTP requests (30 seconds)\nconst DEFAULT_FETCH_TIMEOUT_MS = 30000;\n\n/**\n * Fetch with timeout support\n * Wraps the standard fetch API with AbortController for timeout handling\n *\n * @param url - URL to fetch\n * @param options - Fetch options with optional timeout\n * @returns Response or throws on timeout/error\n */\nexport async function fetchWithTimeout(\n  url: string,\n  options: RequestInit & { timeout?: number } = {}\n): Promise<Response> {\n  const { timeout = DEFAULT_FETCH_TIMEOUT_MS, ...fetchOptions } = options;\n\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), timeout);\n\n  try {\n    const response = await fetch(url, {\n      ...fetchOptions,\n      signal: controller.signal,\n    });\n    return response;\n  } catch (err) {\n    if (err instanceof Error && err.name === 'AbortError') {\n      throw new Error(`Request timed out after ${timeout / 1000} seconds: ${url}`);\n    }\n    throw err;\n  } finally {\n    clearTimeout(timeoutId);\n  }\n}\n", "/**\r\n * Standardized Error Handling for Yurucommu\r\n *\r\n * This module provides consistent error handling across the application.\r\n * All errors extend from AppError and include:\r\n * - code: A unique error code for client-side handling\r\n * - message: A user-safe message (no internal details)\r\n * - statusCode: The HTTP status code to return\r\n * - details: Optional field-level or additional details\r\n */\r\n\r\n/**\r\n * Standard error codes for consistent client handling\r\n */\r\nexport const ErrorCodes = {\r\n  // 4xx Client Errors\r\n  BAD_REQUEST: 'BAD_REQUEST',\r\n  UNAUTHORIZED: 'UNAUTHORIZED',\r\n  FORBIDDEN: 'FORBIDDEN',\r\n  NOT_FOUND: 'NOT_FOUND',\r\n  CONFLICT: 'CONFLICT',\r\n  VALIDATION_ERROR: 'VALIDATION_ERROR',\r\n  RATE_LIMITED: 'RATE_LIMITED',\r\n  PAYLOAD_TOO_LARGE: 'PAYLOAD_TOO_LARGE',\r\n  UNPROCESSABLE_ENTITY: 'UNPROCESSABLE_ENTITY',\r\n\r\n  // 5xx Server Errors\r\n  INTERNAL_ERROR: 'INTERNAL_ERROR',\r\n  SERVICE_UNAVAILABLE: 'SERVICE_UNAVAILABLE',\r\n  NOT_IMPLEMENTED: 'NOT_IMPLEMENTED',\r\n  BAD_GATEWAY: 'BAD_GATEWAY',\r\n  GATEWAY_TIMEOUT: 'GATEWAY_TIMEOUT',\r\n\r\n  // Domain-specific codes\r\n  SESSION_EXPIRED: 'SESSION_EXPIRED',\r\n  INVALID_TOKEN: 'INVALID_TOKEN',\r\n  RESOURCE_EXHAUSTED: 'RESOURCE_EXHAUSTED',\r\n  DUPLICATE_ENTRY: 'DUPLICATE_ENTRY',\r\n  DEPENDENCY_ERROR: 'DEPENDENCY_ERROR',\r\n} as const;\r\n\r\nexport type ErrorCode = (typeof ErrorCodes)[keyof typeof ErrorCodes];\r\n\r\n/**\r\n * Standard error response format for API responses\r\n */\r\nexport interface ErrorResponse {\r\n  error: {\r\n    code: string;\r\n    message: string;\r\n    details?: unknown;\r\n  };\r\n}\r\n\r\n/**\r\n * Field-level validation error details\r\n */\r\nexport interface ValidationErrorDetail {\r\n  field: string;\r\n  message: string;\r\n  value?: unknown;\r\n}\r\n\r\n/**\r\n * Base application error class\r\n * All custom errors should extend from this class\r\n */\r\nexport class AppError extends Error {\r\n  public readonly code: ErrorCode;\r\n  public readonly statusCode: number;\r\n  public readonly details?: unknown;\r\n  public readonly isOperational: boolean;\r\n\r\n  constructor(\r\n    message: string,\r\n    code: ErrorCode = ErrorCodes.INTERNAL_ERROR,\r\n    statusCode = 500,\r\n    details?: unknown\r\n  ) {\r\n    super(message);\r\n    this.name = this.constructor.name;\r\n    this.code = code;\r\n    this.statusCode = statusCode;\r\n    this.details = details;\r\n    this.isOperational = true;\r\n\r\n    // Maintains proper stack trace for where error was thrown\r\n    Error.captureStackTrace?.(this, this.constructor);\r\n  }\r\n\r\n  /**\r\n   * Convert error to API response format\r\n   * This ensures no internal details leak to clients\r\n   */\r\n  toResponse(): ErrorResponse {\r\n    return {\r\n      error: {\r\n        code: this.code,\r\n        message: this.message,\r\n        ...(this.details !== undefined && { details: this.details }),\r\n      },\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Convert error to JSON for logging\r\n   * Includes full details for server-side logging\r\n   */\r\n  toJSON(): Record<string, unknown> {\r\n    return {\r\n      name: this.name,\r\n      code: this.code,\r\n      message: this.message,\r\n      statusCode: this.statusCode,\r\n      details: this.details,\r\n      stack: this.stack,\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * 400 Bad Request - Invalid request syntax or parameters\r\n */\r\nexport class BadRequestError extends AppError {\r\n  constructor(message = 'Bad request', details?: unknown) {\r\n    super(message, ErrorCodes.BAD_REQUEST, 400, details);\r\n  }\r\n}\r\n\r\n/**\r\n * 401 Unauthorized - Authentication required or invalid\r\n */\r\nexport class AuthenticationError extends AppError {\r\n  constructor(message = 'Authentication required', details?: unknown) {\r\n    super(message, ErrorCodes.UNAUTHORIZED, 401, details);\r\n  }\r\n}\r\n\r\n/**\r\n * 403 Forbidden - Authenticated but not authorized\r\n */\r\nexport class AuthorizationError extends AppError {\r\n  constructor(message = 'Access denied', details?: unknown) {\r\n    super(message, ErrorCodes.FORBIDDEN, 403, details);\r\n  }\r\n}\r\n\r\n/**\r\n * 404 Not Found - Resource does not exist\r\n */\r\nexport class NotFoundError extends AppError {\r\n  constructor(resource = 'Resource', details?: unknown) {\r\n    super(`${resource} not found`, ErrorCodes.NOT_FOUND, 404, details);\r\n  }\r\n}\r\n\r\n/**\r\n * 409 Conflict - Resource conflict (e.g., duplicate)\r\n */\r\nexport class ConflictError extends AppError {\r\n  constructor(message = 'Resource conflict', details?: unknown) {\r\n    super(message, ErrorCodes.CONFLICT, 409, details);\r\n  }\r\n}\r\n\r\n/**\r\n * 422 Unprocessable Entity - Validation failed\r\n */\r\nexport class ValidationError extends AppError {\r\n  public readonly fieldErrors: ValidationErrorDetail[];\r\n\r\n  constructor(\r\n    message = 'Validation failed',\r\n    fieldErrors: ValidationErrorDetail[] = []\r\n  ) {\r\n    super(\r\n      message,\r\n      ErrorCodes.VALIDATION_ERROR,\r\n      422,\r\n      fieldErrors.length > 0 ? { fields: fieldErrors } : undefined\r\n    );\r\n    this.fieldErrors = fieldErrors;\r\n  }\r\n\r\n  /**\r\n   * Create a validation error for a single field\r\n   */\r\n  static forField(\r\n    field: string,\r\n    message: string,\r\n    value?: unknown\r\n  ): ValidationError {\r\n    return new ValidationError('Validation failed', [{ field, message, value }]);\r\n  }\r\n\r\n  /**\r\n   * Create a validation error from multiple field errors\r\n   */\r\n  static forFields(fields: ValidationErrorDetail[]): ValidationError {\r\n    return new ValidationError('Validation failed', fields);\r\n  }\r\n}\r\n\r\n/**\r\n * 429 Too Many Requests - Rate limit exceeded\r\n */\r\nexport class RateLimitError extends AppError {\r\n  public readonly retryAfter?: number;\r\n\r\n  constructor(message = 'Rate limit exceeded', retryAfter?: number) {\r\n    super(message, ErrorCodes.RATE_LIMITED, 429);\r\n    this.retryAfter = retryAfter;\r\n  }\r\n}\r\n\r\n/**\r\n * 500 Internal Server Error - Unexpected server error\r\n */\r\nexport class InternalError extends AppError {\r\n  constructor(message = 'Internal server error', details?: unknown) {\r\n    super(message, ErrorCodes.INTERNAL_ERROR, 500, details);\r\n  }\r\n}\r\n\r\n/**\r\n * 503 Service Unavailable - Service temporarily unavailable\r\n */\r\nexport class ServiceUnavailableError extends AppError {\r\n  constructor(message = 'Service temporarily unavailable', details?: unknown) {\r\n    super(message, ErrorCodes.SERVICE_UNAVAILABLE, 503, details);\r\n  }\r\n}\r\n\r\n/**\r\n * Type guard to check if an error is an AppError\r\n */\r\nexport function isAppError(error: unknown): error is AppError {\r\n  return error instanceof AppError;\r\n}\r\n\r\n/**\r\n * Convert unknown error to AppError\r\n * Use this to normalize errors before sending responses\r\n */\r\nexport function normalizeError(error: unknown): AppError {\r\n  if (isAppError(error)) {\r\n    return error;\r\n  }\r\n\r\n  if (error instanceof Error) {\r\n    console.error('[normalizeError] Converting Error to AppError:', error);\r\n    return new InternalError('An unexpected error occurred');\r\n  }\r\n\r\n  console.error('[normalizeError] Converting unknown to AppError:', error);\r\n  return new InternalError('An unexpected error occurred');\r\n}\r\n\r\n/**\r\n * Log error with full details for server-side debugging\r\n */\r\nexport function logError(error: unknown, context?: Record<string, unknown>): void {\r\n  const errorInfo = isAppError(error)\r\n    ? error.toJSON()\r\n    : {\r\n        message: error instanceof Error ? error.message : String(error),\r\n        stack: error instanceof Error ? error.stack : undefined,\r\n      };\r\n\r\n  console.error('[Error]', {\r\n    ...errorInfo,\r\n    context,\r\n    timestamp: new Date().toISOString(),\r\n  });\r\n}\r\n\r\n/**\r\n * Handle database constraint errors and convert to appropriate AppError\r\n */\r\nexport function handleDatabaseError(\r\n  error: unknown,\r\n  entityName = 'Record'\r\n): AppError {\r\n  const errorString = String(error);\r\n\r\n  if (errorString.includes('UNIQUE constraint')) {\r\n    return new ConflictError(`${entityName} already exists`);\r\n  }\r\n  if (errorString.includes('FOREIGN KEY constraint')) {\r\n    return new BadRequestError(`Referenced ${entityName.toLowerCase()} does not exist`);\r\n  }\r\n  if (errorString.includes('NOT NULL constraint')) {\r\n    return new ValidationError('Required field is missing');\r\n  }\r\n\r\n  console.error(`[handleDatabaseError] Database error for ${entityName}:`, error);\r\n  return new InternalError('Database operation failed');\r\n}\r\n", "/**\r\n * Hono Error Middleware for Yurucommu\r\n *\r\n * Provides consistent error handling for Hono-based applications.\r\n * Use this middleware to catch and format errors consistently.\r\n */\r\n\r\nimport type { Context } from 'hono';\r\nimport type { ContentfulStatusCode } from 'hono/utils/http-status';\r\nimport {\r\n  AppError,\r\n  AuthenticationError,\r\n  AuthorizationError,\r\n  BadRequestError,\r\n  ConflictError,\r\n  ErrorCodes,\r\n  InternalError,\r\n  isAppError,\r\n  logError,\r\n  NotFoundError,\r\n  RateLimitError,\r\n  ServiceUnavailableError,\r\n  ValidationError,\r\n  type ErrorCode,\r\n  type ErrorResponse,\r\n  type ValidationErrorDetail,\r\n} from '../lib/errors';\r\n\r\n/**\r\n * Error middleware options\r\n */\r\nexport interface ErrorMiddlewareOptions {\r\n  /** Include stack traces in responses (only for development) */\r\n  includeStack?: boolean;\r\n  /** Custom error logger */\r\n  logger?: (error: unknown, context?: Record<string, unknown>) => void;\r\n  /** Custom error transformer */\r\n  transformError?: (error: unknown) => AppError;\r\n}\r\n\r\n/**\r\n * Create Hono error middleware\r\n */\r\nexport function createErrorMiddleware(\r\n  options: ErrorMiddlewareOptions = {}\r\n): (err: Error, c: Context) => Response {\r\n  const { includeStack = false, logger = logError, transformError } = options;\r\n\r\n  return (err: Error, c: Context): Response => {\r\n    // MEDIUM FIX: Generate correlation ID for error tracking\r\n    const correlationId = c.req.header('x-request-id') ||\r\n      c.req.header('CF-Ray') ||\r\n      crypto.randomUUID();\r\n\r\n    // Transform error if transformer provided\r\n    let appError: AppError;\r\n    if (transformError) {\r\n      appError = transformError(err);\r\n    } else if (isAppError(err)) {\r\n      appError = err;\r\n    } else {\r\n      // Log non-operational errors with full details and correlation ID\r\n      logger(err, {\r\n        correlationId,\r\n        path: c.req.path,\r\n        method: c.req.method,\r\n        requestId: c.req.header('x-request-id'),\r\n      });\r\n      appError = new InternalError('An unexpected error occurred');\r\n    }\r\n\r\n    // Build response\r\n    const response = appError.toResponse();\r\n\r\n    // MEDIUM FIX: Add correlation ID to error response for debugging\r\n    (response.error as Record<string, unknown>).correlation_id = correlationId;\r\n\r\n    // Add stack trace in development mode\r\n    if (includeStack && appError.stack) {\r\n      (response.error as Record<string, unknown>).stack = appError.stack;\r\n    }\r\n\r\n    // Set special headers for rate limiting\r\n    if (appError instanceof RateLimitError && appError.retryAfter) {\r\n      c.header('Retry-After', String(appError.retryAfter));\r\n    }\r\n\r\n    return c.json(response, appError.statusCode as ContentfulStatusCode);\r\n  };\r\n}\r\n\r\n/**\r\n * Not found handler for Hono\r\n */\r\nexport function notFoundHandler(c: Context): Response {\r\n  const error = new NotFoundError('Route');\r\n  return c.json(error.toResponse(), 404);\r\n}\r\n\r\n// ============================================================================\r\n// Helper functions for route handlers\r\n// These provide a convenient API for returning errors from route handlers\r\n// ============================================================================\r\n\r\n/**\r\n * Create standardized error response\r\n */\r\nexport function errorResponse(\r\n  c: Context,\r\n  status: number,\r\n  message: string,\r\n  code?: ErrorCode,\r\n  details?: unknown\r\n): Response {\r\n  const body: ErrorResponse = {\r\n    error: {\r\n      code: code || ErrorCodes.INTERNAL_ERROR,\r\n      message,\r\n      ...(details !== undefined && { details }),\r\n    },\r\n  };\r\n  return c.json(body, status as ContentfulStatusCode);\r\n}\r\n\r\n/**\r\n * 400 Bad Request\r\n */\r\nexport function badRequest(\r\n  c: Context,\r\n  message: string,\r\n  details?: unknown\r\n): Response {\r\n  return errorResponse(c, 400, message, ErrorCodes.BAD_REQUEST, details);\r\n}\r\n\r\n/**\r\n * 401 Unauthorized\r\n */\r\nexport function unauthorized(\r\n  c: Context,\r\n  message = 'Authentication required'\r\n): Response {\r\n  return errorResponse(c, 401, message, ErrorCodes.UNAUTHORIZED);\r\n}\r\n\r\n/**\r\n * 403 Forbidden\r\n */\r\nexport function forbidden(c: Context, message = 'Access denied'): Response {\r\n  return errorResponse(c, 403, message, ErrorCodes.FORBIDDEN);\r\n}\r\n\r\n/**\r\n * 404 Not Found\r\n */\r\nexport function notFound(c: Context, resource = 'Resource'): Response {\r\n  return errorResponse(c, 404, `${resource} not found`, ErrorCodes.NOT_FOUND);\r\n}\r\n\r\n/**\r\n * 409 Conflict\r\n */\r\nexport function conflict(\r\n  c: Context,\r\n  message: string,\r\n  details?: unknown\r\n): Response {\r\n  return errorResponse(c, 409, message, ErrorCodes.CONFLICT, details);\r\n}\r\n\r\n/**\r\n * 422 Validation Error\r\n */\r\nexport function validationError(\r\n  c: Context,\r\n  message: string,\r\n  details?: unknown\r\n): Response {\r\n  return errorResponse(c, 422, message, ErrorCodes.VALIDATION_ERROR, details);\r\n}\r\n\r\n/**\r\n * 422 Validation Error with field details\r\n */\r\nexport function validationErrorWithFields(\r\n  c: Context,\r\n  message: string,\r\n  fields: ValidationErrorDetail[]\r\n): Response {\r\n  return errorResponse(c, 422, message, ErrorCodes.VALIDATION_ERROR, { fields });\r\n}\r\n\r\n/**\r\n * 500 Internal Server Error\r\n */\r\nexport function internalError(\r\n  c: Context,\r\n  message = 'Internal server error'\r\n): Response {\r\n  return errorResponse(c, 500, message, ErrorCodes.INTERNAL_ERROR);\r\n}\r\n\r\n/**\r\n * 503 Service Unavailable\r\n */\r\nexport function serviceUnavailable(\r\n  c: Context,\r\n  message = 'Service temporarily unavailable'\r\n): Response {\r\n  return errorResponse(c, 503, message, ErrorCodes.SERVICE_UNAVAILABLE);\r\n}\r\n\r\n/**\r\n * 429 Rate Limited\r\n */\r\nexport function rateLimited(c: Context, retryAfter?: number): Response {\r\n  if (retryAfter) {\r\n    c.header('Retry-After', String(retryAfter));\r\n  }\r\n  return errorResponse(c, 429, 'Rate limit exceeded', ErrorCodes.RATE_LIMITED);\r\n}\r\n\r\n/**\r\n * Handle database constraint errors\r\n */\r\nexport function handleDbError(\r\n  c: Context,\r\n  err: unknown,\r\n  entityName = 'Record'\r\n): Response {\r\n  const errStr = String(err);\r\n\r\n  if (errStr.includes('UNIQUE constraint')) {\r\n    return conflict(c, `${entityName} already exists`);\r\n  }\r\n  if (errStr.includes('FOREIGN KEY constraint')) {\r\n    return badRequest(c, `Referenced ${entityName.toLowerCase()} does not exist`);\r\n  }\r\n  if (errStr.includes('NOT NULL constraint')) {\r\n    return validationError(c, 'Required field is missing');\r\n  }\r\n\r\n  console.error(`Database error for ${entityName}:`, err);\r\n  return internalError(c, 'Database operation failed');\r\n}\r\n\r\n/**\r\n * Throw an AppError - useful for async route handlers\r\n * The error will be caught by the error middleware\r\n */\r\nexport function throwBadRequest(message: string, details?: unknown): never {\r\n  throw new BadRequestError(message, details);\r\n}\r\n\r\nexport function throwUnauthorized(message = 'Authentication required'): never {\r\n  throw new AuthenticationError(message);\r\n}\r\n\r\nexport function throwForbidden(message = 'Access denied'): never {\r\n  throw new AuthorizationError(message);\r\n}\r\n\r\nexport function throwNotFound(resource = 'Resource'): never {\r\n  throw new NotFoundError(resource);\r\n}\r\n\r\nexport function throwConflict(message: string, details?: unknown): never {\r\n  throw new ConflictError(message, details);\r\n}\r\n\r\nexport function throwValidation(\r\n  message: string,\r\n  fields?: ValidationErrorDetail[]\r\n): never {\r\n  throw new ValidationError(message, fields);\r\n}\r\n\r\nexport function throwInternalError(message = 'Internal server error'): never {\r\n  throw new InternalError(message);\r\n}\r\n\r\nexport function throwServiceUnavailable(\r\n  message = 'Service temporarily unavailable'\r\n): never {\r\n  throw new ServiceUnavailableError(message);\r\n}\r\n\r\nexport function throwRateLimited(\r\n  message = 'Rate limit exceeded',\r\n  retryAfter?: number\r\n): never {\r\n  throw new RateLimitError(message, retryAfter);\r\n}\r\n", "/**\r\n * Cryptography utilities for sensitive data encryption\r\n *\r\n * Uses AES-GCM for symmetric encryption of OAuth tokens and other sensitive data.\r\n * The encryption key should be set via ENCRYPTION_KEY environment variable.\r\n */\r\n\r\n// Validate hex string format\r\nfunction isValidHexString(hex: string, expectedLength?: number): boolean {\r\n  // Check format: only hex characters (0-9, a-f, A-F)\r\n  if (!/^[0-9a-fA-F]+$/.test(hex)) {\r\n    return false;\r\n  }\r\n  // Check length is even (each byte = 2 hex chars)\r\n  if (hex.length % 2 !== 0) {\r\n    return false;\r\n  }\r\n  // Check expected length if provided\r\n  if (expectedLength !== undefined && hex.length !== expectedLength) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n// Convert hex string to Uint8Array\r\nfunction hexToBytes(hex: string): Uint8Array {\r\n  // Validate hex string format before processing\r\n  if (!isValidHexString(hex)) {\r\n    throw new Error('Invalid hex string: must contain only hexadecimal characters (0-9, a-f, A-F) with even length');\r\n  }\r\n\r\n  const bytes = new Uint8Array(hex.length / 2);\r\n  for (let i = 0; i < hex.length; i += 2) {\r\n    const byte = parseInt(hex.substring(i, i + 2), 16);\r\n    // Additional safety check (should never fail after validation, but defense in depth)\r\n    if (Number.isNaN(byte)) {\r\n      throw new Error(`Invalid hex character at position ${i}`);\r\n    }\r\n    bytes[i / 2] = byte;\r\n  }\r\n  return bytes;\r\n}\r\n\r\n// Convert Uint8Array to hex string\r\nfunction bytesToHex(bytes: Uint8Array): string {\r\n  return Array.from(bytes)\r\n    .map((b) => b.toString(16).padStart(2, '0'))\r\n    .join('');\r\n}\r\n\r\n// Get or generate encryption key\r\nasync function getEncryptionKey(keyHex: string | undefined): Promise<CryptoKey | null> {\r\n  // Key should be 32 bytes (64 hex chars) for AES-256\r\n  if (!keyHex) {\r\n    return null;\r\n  }\r\n\r\n  // Validate hex format: must be exactly 64 hex characters\r\n  if (!isValidHexString(keyHex, 64)) {\r\n    console.error('Invalid encryption key format: must be exactly 64 hex characters (0-9, a-f, A-F)');\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const keyBytes = hexToBytes(keyHex);\r\n    return await crypto.subtle.importKey(\r\n      'raw',\r\n      keyBytes.buffer as ArrayBuffer,\r\n      { name: 'AES-GCM' },\r\n      false,\r\n      ['encrypt', 'decrypt']\r\n    );\r\n  } catch (error) {\r\n    console.error('Failed to import encryption key:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Encrypt a string value using AES-GCM\r\n * Returns format: iv:ciphertext (both hex encoded)\r\n *\r\n * @throws Error if ENCRYPTION_KEY is not configured (required for security)\r\n */\r\nexport async function encrypt(plaintext: string, encryptionKey: string | undefined): Promise<string> {\r\n  const key = await getEncryptionKey(encryptionKey);\r\n  if (!key) {\r\n    throw new Error(\r\n      'ENCRYPTION_KEY is not configured or invalid. ' +\r\n      'A 32-byte (64 hex character) key is required to encrypt sensitive data. ' +\r\n      'Generate one with: openssl rand -hex 32'\r\n    );\r\n  }\r\n\r\n  const iv = crypto.getRandomValues(new Uint8Array(12)); // 96-bit IV for GCM\r\n  const encoder = new TextEncoder();\r\n  const data = encoder.encode(plaintext);\r\n\r\n  const ciphertext = await crypto.subtle.encrypt(\r\n    { name: 'AES-GCM', iv: iv.buffer as ArrayBuffer },\r\n    key,\r\n    data.buffer as ArrayBuffer\r\n  );\r\n\r\n  // Format: iv:ciphertext (hex encoded)\r\n  return `${bytesToHex(iv)}:${bytesToHex(new Uint8Array(ciphertext))}`;\r\n}\r\n\r\n/**\r\n * Decrypt a string value encrypted with encrypt()\r\n * Expects format: iv:ciphertext (both hex encoded)\r\n *\r\n * @throws Error if ENCRYPTION_KEY is not configured\r\n * @throws Error if encrypted data is not in expected format (legacy unencrypted data)\r\n */\r\nexport async function decrypt(encrypted: string, encryptionKey: string | undefined): Promise<string> {\r\n  const key = await getEncryptionKey(encryptionKey);\r\n  if (!key) {\r\n    throw new Error(\r\n      'ENCRYPTION_KEY is not configured or invalid. ' +\r\n      'Cannot decrypt data without the encryption key.'\r\n    );\r\n  }\r\n\r\n  // Check if this looks like encrypted data (iv:ciphertext format)\r\n  if (!encrypted.includes(':')) {\r\n    // Legacy unencrypted data - throw error to force migration\r\n    throw new Error(\r\n      'Data appears to be unencrypted (legacy format). ' +\r\n      'Please re-authenticate to encrypt your tokens.'\r\n    );\r\n  }\r\n\r\n  const [ivHex, ciphertextHex] = encrypted.split(':');\r\n  if (!ivHex || !ciphertextHex) {\r\n    return encrypted;\r\n  }\r\n\r\n  try {\r\n    const iv = hexToBytes(ivHex);\r\n    const ciphertext = hexToBytes(ciphertextHex);\r\n\r\n    const decrypted = await crypto.subtle.decrypt(\r\n      { name: 'AES-GCM', iv: iv.buffer as ArrayBuffer },\r\n      key,\r\n      ciphertext.buffer as ArrayBuffer\r\n    );\r\n\r\n    const decoder = new TextDecoder();\r\n    return decoder.decode(decrypted);\r\n  } catch (error) {\r\n    // Decryption failed - could be wrong key or corrupted data\r\n    throw new Error(\r\n      'Failed to decrypt data. The encryption key may be incorrect or the data is corrupted.'\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Generate a new encryption key (32 bytes / 256 bits)\r\n * Run this once to generate a key for ENCRYPTION_KEY env var\r\n */\r\nexport function generateEncryptionKey(): string {\r\n  const key = crypto.getRandomValues(new Uint8Array(32));\r\n  return bytesToHex(key);\r\n}\r\n\r\n// ============================================\r\n// Password Hashing with PBKDF2\r\n// ============================================\r\n\r\nconst PBKDF2_ITERATIONS = 600000; // OWASP 2023 recommendation for SHA-256\r\nconst SALT_LENGTH = 32; // 256-bit salt\r\nconst HASH_LENGTH = 32; // 256-bit derived key\r\n\r\n/**\r\n * Hash a password using PBKDF2-SHA256\r\n * Returns format: salt:hash (both hex encoded)\r\n *\r\n * Use this to generate AUTH_PASSWORD_HASH:\r\n *   const hash = await hashPassword('your-password');\r\n *   // Set AUTH_PASSWORD_HASH=<hash> in environment\r\n */\r\nexport async function hashPassword(password: string): Promise<string> {\r\n  const encoder = new TextEncoder();\r\n  const passwordData = encoder.encode(password);\r\n\r\n  // Generate random salt\r\n  const salt = crypto.getRandomValues(new Uint8Array(SALT_LENGTH));\r\n\r\n  // Import password as key material\r\n  const keyMaterial = await crypto.subtle.importKey(\r\n    'raw',\r\n    passwordData.buffer as ArrayBuffer,\r\n    'PBKDF2',\r\n    false,\r\n    ['deriveBits']\r\n  );\r\n\r\n  // Derive key using PBKDF2\r\n  const derivedBits = await crypto.subtle.deriveBits(\r\n    {\r\n      name: 'PBKDF2',\r\n      salt: salt.buffer as ArrayBuffer,\r\n      iterations: PBKDF2_ITERATIONS,\r\n      hash: 'SHA-256',\r\n    },\r\n    keyMaterial,\r\n    HASH_LENGTH * 8 // bits\r\n  );\r\n\r\n  const hash = new Uint8Array(derivedBits);\r\n  return `${bytesToHex(salt)}:${bytesToHex(hash)}`;\r\n}\r\n\r\n/**\r\n * Verify a password against a stored hash\r\n *\r\n * @param password - The password to verify\r\n * @param storedHash - The stored hash in format: salt:hash (hex encoded)\r\n * @returns true if password matches, false otherwise\r\n */\r\nexport async function verifyPassword(password: string, storedHash: string): Promise<boolean> {\r\n  // Check format\r\n  if (!storedHash.includes(':')) {\r\n    return false;\r\n  }\r\n\r\n  const [saltHex, expectedHashHex] = storedHash.split(':');\r\n  if (!saltHex || !expectedHashHex) {\r\n    return false;\r\n  }\r\n\r\n  // Validate hex format\r\n  if (!isValidHexString(saltHex) || !isValidHexString(expectedHashHex)) {\r\n    return false;\r\n  }\r\n\r\n  try {\r\n    const encoder = new TextEncoder();\r\n    const passwordData = encoder.encode(password);\r\n    const salt = hexToBytes(saltHex);\r\n    const expectedHash = hexToBytes(expectedHashHex);\r\n\r\n    // Import password as key material\r\n    const keyMaterial = await crypto.subtle.importKey(\r\n      'raw',\r\n      passwordData.buffer as ArrayBuffer,\r\n      'PBKDF2',\r\n      false,\r\n      ['deriveBits']\r\n    );\r\n\r\n    // Derive key using same parameters\r\n    const derivedBits = await crypto.subtle.deriveBits(\r\n      {\r\n        name: 'PBKDF2',\r\n        salt: salt.buffer as ArrayBuffer,\r\n        iterations: PBKDF2_ITERATIONS,\r\n        hash: 'SHA-256',\r\n      },\r\n      keyMaterial,\r\n      expectedHash.length * 8 // Match stored hash length\r\n    );\r\n\r\n    const computedHash = new Uint8Array(derivedBits);\r\n\r\n    // Constant-time comparison\r\n    if (computedHash.length !== expectedHash.length) {\r\n      return false;\r\n    }\r\n\r\n    let result = 0;\r\n    for (let i = 0; i < computedHash.length; i++) {\r\n      result |= computedHash[i] ^ expectedHash[i];\r\n    }\r\n\r\n    return result === 0;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n", "/**\r\n * OAuth Provider Configuration\r\n *\r\n * \u74B0\u5883\u5909\u6570\u306B\u8A2D\u5B9A\u3055\u308C\u305F\u30D7\u30ED\u30D0\u30A4\u30C0\u30FC\u306E\u307F\u6709\u52B9\u306B\u306A\u308B\r\n * \u8907\u6570\u306E\u30D7\u30ED\u30D0\u30A4\u30C0\u30FC\u3092\u81EA\u7531\u306B\u7D44\u307F\u5408\u308F\u305B\u53EF\u80FD\r\n */\r\n\r\nimport type { Env } from '../types';\r\n\r\nexport interface OAuthProvider {\r\n  id: string;\r\n  name: string;\r\n  icon: string;\r\n  authorizeUrl: string;\r\n  tokenUrl: string;\r\n  userInfoUrl: string;\r\n  scopes: string[];\r\n  // PKCE\u5BFE\u5FDC\r\n  supportsPkce: boolean;\r\n  // takos\u56FA\u6709: API\u30A2\u30AF\u30BB\u30B9\u7528\r\n  apiBaseUrl?: string;\r\n}\r\n\r\nexport interface AuthConfig {\r\n  passwordEnabled: boolean;\r\n  providers: OAuthProvider[];\r\n}\r\n\r\n/**\r\n * \u74B0\u5883\u5909\u6570\u304B\u3089\u6709\u52B9\u306A\u8A8D\u8A3C\u65B9\u6CD5\u3092\u53D6\u5F97\r\n */\r\nexport function getAuthConfig(env: Env): AuthConfig {\r\n  const providers: OAuthProvider[] = [];\r\n\r\n  // Google OAuth\r\n  if (env.GOOGLE_CLIENT_ID && env.GOOGLE_CLIENT_SECRET) {\r\n    providers.push({\r\n      id: 'google',\r\n      name: 'Google',\r\n      icon: '/icons/google.svg',\r\n      authorizeUrl: 'https://accounts.google.com/o/oauth2/v2/auth',\r\n      tokenUrl: 'https://oauth2.googleapis.com/token',\r\n      userInfoUrl: 'https://www.googleapis.com/oauth2/v2/userinfo',\r\n      scopes: ['openid', 'profile', 'email'],\r\n      supportsPkce: true,\r\n    });\r\n  }\r\n\r\n  // X (Twitter) OAuth 2.0\r\n  if (env.X_CLIENT_ID && env.X_CLIENT_SECRET) {\r\n    providers.push({\r\n      id: 'x',\r\n      name: 'X',\r\n      icon: '/icons/x.svg',\r\n      authorizeUrl: 'https://twitter.com/i/oauth2/authorize',\r\n      tokenUrl: 'https://api.twitter.com/2/oauth2/token',\r\n      userInfoUrl: 'https://api.twitter.com/2/users/me',\r\n      scopes: ['tweet.read', 'users.read', 'offline.access'],\r\n      supportsPkce: true,\r\n    });\r\n  }\r\n\r\n  // Takos OAuth\r\n  if (env.TAKOS_URL && env.TAKOS_CLIENT_ID && env.TAKOS_CLIENT_SECRET) {\r\n    providers.push({\r\n      id: 'takos',\r\n      name: 'Takos',\r\n      icon: '/icons/takos.svg',\r\n      authorizeUrl: `${env.TAKOS_URL}/oauth/authorize`,\r\n      tokenUrl: `${env.TAKOS_URL}/oauth/token`,\r\n      userInfoUrl: `${env.TAKOS_URL}/oauth/userinfo`,\r\n      scopes: ['openid', 'profile', 'email', 'workspaces:read', 'repos:read'],\r\n      supportsPkce: true,\r\n      apiBaseUrl: env.TAKOS_URL,\r\n    });\r\n  }\r\n\r\n  return {\r\n    // AUTH_PASSWORD_HASH (secure) or AUTH_PASSWORD (legacy)\r\n    passwordEnabled: !!(env.AUTH_PASSWORD_HASH || env.AUTH_PASSWORD),\r\n    providers,\r\n  };\r\n}\r\n\r\n/**\r\n * \u30D7\u30ED\u30D0\u30A4\u30C0\u30FCID\u304B\u3089\u30D7\u30ED\u30D0\u30A4\u30C0\u30FC\u8A2D\u5B9A\u3092\u53D6\u5F97\r\n */\r\nexport function getProvider(env: Env, providerId: string): OAuthProvider | null {\r\n  const config = getAuthConfig(env);\r\n  return config.providers.find(p => p.id === providerId) || null;\r\n}\r\n\r\n/**\r\n * \u30D7\u30ED\u30D0\u30A4\u30C0\u30FCID\u304B\u3089\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8ID\u3092\u53D6\u5F97\r\n */\r\nexport function getClientId(env: Env, providerId: string): string {\r\n  switch (providerId) {\r\n    case 'google':\r\n      return env.GOOGLE_CLIENT_ID || '';\r\n    case 'x':\r\n      return env.X_CLIENT_ID || '';\r\n    case 'takos':\r\n      return env.TAKOS_CLIENT_ID || '';\r\n    default:\r\n      return '';\r\n  }\r\n}\r\n\r\n/**\r\n * \u30D7\u30ED\u30D0\u30A4\u30C0\u30FCID\u304B\u3089\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30B7\u30FC\u30AF\u30EC\u30C3\u30C8\u3092\u53D6\u5F97\r\n */\r\nexport function getClientSecret(env: Env, providerId: string): string {\r\n  switch (providerId) {\r\n    case 'google':\r\n      return env.GOOGLE_CLIENT_SECRET || '';\r\n    case 'x':\r\n      return env.X_CLIENT_SECRET || '';\r\n    case 'takos':\r\n      return env.TAKOS_CLIENT_SECRET || '';\r\n    default:\r\n      return '';\r\n  }\r\n}\r\n\r\n/**\r\n * \u30E6\u30FC\u30B6\u30FC\u60C5\u5831\u3092\u6B63\u898F\u5316\r\n */\r\nexport interface NormalizedUserInfo {\r\n  id: string;\r\n  name: string;\r\n  email?: string;\r\n  picture?: string;\r\n  username?: string;\r\n}\r\n\r\nexport async function fetchUserInfo(\r\n  provider: OAuthProvider,\r\n  accessToken: string\r\n): Promise<NormalizedUserInfo> {\r\n  const headers: Record<string, string> = {\r\n    Authorization: `Bearer ${accessToken}`,\r\n  };\r\n\r\n  // X requires specific fields\r\n  let url = provider.userInfoUrl;\r\n  if (provider.id === 'x') {\r\n    url += '?user.fields=profile_image_url';\r\n  }\r\n\r\n  const res = await fetch(url, { headers });\r\n  if (!res.ok) {\r\n    throw new Error(`Failed to fetch user info: ${res.status}`);\r\n  }\r\n\r\n  const data = await res.json() as Record<string, unknown>;\r\n\r\n  // \u6B63\u898F\u5316\r\n  switch (provider.id) {\r\n    case 'google': {\r\n      const g = data as { id: string; name: string; email: string; picture: string };\r\n      return {\r\n        id: g.id,\r\n        name: g.name,\r\n        email: g.email,\r\n        picture: g.picture,\r\n      };\r\n    }\r\n    case 'x': {\r\n      const x = data as { data: { id: string; name: string; username: string; profile_image_url?: string } };\r\n      return {\r\n        id: x.data.id,\r\n        name: x.data.name,\r\n        username: x.data.username,\r\n        picture: x.data.profile_image_url,\r\n      };\r\n    }\r\n    case 'takos': {\r\n      const t = data as { user: { id: string; name: string; email: string; picture?: string } };\r\n      return {\r\n        id: t.user.id,\r\n        name: t.user.name,\r\n        email: t.user.email,\r\n        picture: t.user.picture,\r\n      };\r\n    }\r\n    default:\r\n      throw new Error(`Unknown provider: ${provider.id}`);\r\n  }\r\n}\r\n", "/**\r\n * OAuth Utilities\r\n * PKCE, state generation, etc.\r\n *\r\n * OAuth State Expiration Strategy:\r\n * ================================\r\n * This module uses a dual-layer expiration approach for OAuth state tokens:\r\n *\r\n * 1. PRIMARY: KV TTL (expirationTtl: 600 seconds = 10 minutes)\r\n *    - Cloudflare KV automatically deletes the key after 10 minutes\r\n *    - This is the authoritative expiration mechanism\r\n *    - Handles cleanup automatically, no background jobs needed\r\n *\r\n * 2. SECONDARY: Manual timestamp check in getOAuthState()\r\n *    - Validates createdAt + 600000ms (10 minutes) hasn't passed\r\n *    - Acts as a defense-in-depth measure\r\n *    - Catches edge cases where KV TTL hasn't propagated yet\r\n *    - Ensures consistent behavior even if KV caching delays TTL\r\n *\r\n * Why both?\r\n * - KV TTL is eventually consistent and may have slight delays\r\n * - Manual check provides immediate, deterministic expiration\r\n * - Together they ensure state tokens cannot be reused after 10 minutes\r\n *\r\n * Security: The 10-minute window balances:\r\n * - User experience (enough time to complete OAuth flow)\r\n * - Security (limits replay attack window)\r\n */\r\n\r\n/**\r\n * \u30E9\u30F3\u30C0\u30E0\u306AID\u3092\u751F\u6210\r\n */\r\nexport function generateId(length = 21): string {\r\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  const array = new Uint8Array(length);\r\n  crypto.getRandomValues(array);\r\n  return Array.from(array, (byte) => chars[byte % chars.length]).join('');\r\n}\r\n\r\n/**\r\n * PKCE code_verifier \u3092\u751F\u6210 (43-128\u6587\u5B57)\r\n */\r\nexport function generateCodeVerifier(): string {\r\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~';\r\n  const array = new Uint8Array(64);\r\n  crypto.getRandomValues(array);\r\n  return Array.from(array, (byte) => chars[byte % chars.length]).join('');\r\n}\r\n\r\n/**\r\n * PKCE code_challenge \u3092\u751F\u6210 (S256)\r\n */\r\nexport async function generateCodeChallenge(verifier: string): Promise<string> {\r\n  const encoder = new TextEncoder();\r\n  const data = encoder.encode(verifier);\r\n  const digest = await crypto.subtle.digest('SHA-256', data);\r\n  return base64UrlEncode(digest);\r\n}\r\n\r\n/**\r\n * Base64 URL \u30A8\u30F3\u30B3\u30FC\u30C9\r\n * S28: Added input validation and proper error handling\r\n */\r\nexport function base64UrlEncode(buffer: ArrayBuffer | null | undefined): string {\r\n  // S28: Input validation\r\n  if (buffer == null) {\r\n    throw new Error('base64UrlEncode: buffer cannot be null or undefined');\r\n  }\r\n\r\n  if (!(buffer instanceof ArrayBuffer)) {\r\n    throw new Error('base64UrlEncode: buffer must be an ArrayBuffer');\r\n  }\r\n\r\n  // S28: Handle empty buffer edge case\r\n  if (buffer.byteLength === 0) {\r\n    return '';\r\n  }\r\n\r\n  try {\r\n    const bytes = new Uint8Array(buffer);\r\n\r\n    // S28: Use chunked approach for large buffers to avoid stack overflow\r\n    const CHUNK_SIZE = 8192;\r\n    let binary = '';\r\n\r\n    for (let i = 0; i < bytes.length; i += CHUNK_SIZE) {\r\n      const chunk = bytes.subarray(i, Math.min(i + CHUNK_SIZE, bytes.length));\r\n      binary += String.fromCharCode.apply(null, Array.from(chunk));\r\n    }\r\n\r\n    return btoa(binary)\r\n      .replace(/\\+/g, '-')\r\n      .replace(/\\//g, '_')\r\n      .replace(/=+$/, '');\r\n  } catch (error) {\r\n    throw new Error(`base64UrlEncode: encoding failed - ${error instanceof Error ? error.message : String(error)}`);\r\n  }\r\n}\r\n\r\n/**\r\n * OAuth state \u3092\u4FDD\u5B58 (KV)\r\n */\r\nexport interface OAuthState {\r\n  provider: string;\r\n  codeVerifier: string;\r\n  createdAt: number;\r\n}\r\n\r\nexport async function saveOAuthState(\r\n  kv: KVNamespace,\r\n  state: string,\r\n  data: OAuthState\r\n): Promise<void> {\r\n  await kv.put(`oauth:${state}`, JSON.stringify(data), {\r\n    // PRIMARY expiration: KV TTL auto-deletes after 10 minutes\r\n    // This is the authoritative expiration mechanism\r\n    expirationTtl: 600, // 10 minutes in seconds\r\n  });\r\n}\r\n\r\nexport async function getOAuthState(\r\n  kv: KVNamespace,\r\n  state: string\r\n): Promise<OAuthState | null> {\r\n  const stored = await kv.get(`oauth:${state}`);\r\n  if (!stored) return null;\r\n\r\n  const data = JSON.parse(stored) as OAuthState;\r\n\r\n  // SECONDARY expiration: Manual timestamp check (defense-in-depth)\r\n  // KV TTL is eventually consistent, so this ensures immediate rejection\r\n  // of expired states even if the KV deletion hasn't propagated yet\r\n  const STATE_TTL_MS = 600000; // 10 minutes in milliseconds (matches KV TTL)\r\n  if (Date.now() - data.createdAt > STATE_TTL_MS) {\r\n    await kv.delete(`oauth:${state}`);\r\n    return null;\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\nexport async function deleteOAuthState(\r\n  kv: KVNamespace,\r\n  state: string\r\n): Promise<void> {\r\n  await kv.delete(`oauth:${state}`);\r\n}\r\n", "import { Hono } from 'hono';\nimport { deleteCookie } from 'hono/cookie';\nimport type { Actor, Env, Variables } from '../types';\nimport { actorApId, getDomain, formatUsername, parseLimit } from '../utils';\nimport { withCache, CacheTTL, CacheTags } from '../middleware/cache';\n\nconst actors = new Hono<{ Bindings: Env; Variables: Variables }>();\n\nconst MAX_ACTOR_POSTS_LIMIT = 100;\nconst MAX_PROFILE_NAME_LENGTH = 50;\nconst MAX_PROFILE_SUMMARY_LENGTH = 500;\nconst MAX_PROFILE_URL_LENGTH = 2000;\n\nfunction isValidHttpUrl(value: string): boolean {\n  try {\n    const parsed = new URL(value);\n    return parsed.protocol === 'http:' || parsed.protocol === 'https:';\n  } catch {\n    return false;\n  }\n}\n\n// Helper to resolve identifier to AP ID\nasync function resolveActorApId(\n  c: { env: Env; get: (key: 'prisma') => ReturnType<typeof import('../lib/db').getPrismaD1> },\n  identifier: string\n): Promise<string | null> {\n  const baseUrl = c.env.APP_URL;\n\n  if (identifier.startsWith('http')) {\n    return identifier;\n  }\n\n  if (identifier.includes('@')) {\n    const stripped = identifier.replace(/^@/, '');\n    const parts = stripped.split('@');\n    const username = parts[0];\n    if (!username) return null;\n    if (parts.length === 1) {\n      return actorApId(baseUrl, username);\n    }\n    const domain = parts.slice(1).join('@');\n    if (!domain) return null;\n    if (domain === getDomain(baseUrl)) {\n      return actorApId(baseUrl, username);\n    }\n\n    const prisma = c.get('prisma');\n    const cached = await prisma.actorCache.findFirst({\n      where: {\n        preferredUsername: username,\n        apId: { contains: domain },\n      },\n      select: { apId: true },\n    });\n    return cached?.apId || null;\n  }\n\n  return actorApId(baseUrl, identifier);\n}\n\n// Get all local actors\n// Cached for 5 minutes (public endpoint)\nactors.get('/', withCache({\n  ttl: CacheTTL.ACTOR_PROFILE,\n  cacheTag: CacheTags.ACTOR,\n}), async (c) => {\n  const prisma = c.get('prisma');\n  const limit = Math.min(parseInt(c.req.query('limit') || '100'), 500);\n  const offset = parseInt(c.req.query('offset') || '0');\n\n  const actorsList = await prisma.actor.findMany({\n    select: {\n      apId: true,\n      preferredUsername: true,\n      name: true,\n      summary: true,\n      iconUrl: true,\n      role: true,\n      followerCount: true,\n      followingCount: true,\n      postCount: true,\n      createdAt: true,\n    },\n    orderBy: { createdAt: 'asc' },\n    take: limit,\n    skip: offset,\n  });\n\n  return c.json({\n    actors: actorsList.map((a) => ({\n      ap_id: a.apId,\n      preferred_username: a.preferredUsername,\n      name: a.name,\n      summary: a.summary,\n      icon_url: a.iconUrl,\n      role: a.role,\n      follower_count: a.followerCount,\n      following_count: a.followingCount,\n      post_count: a.postCount,\n      created_at: a.createdAt,\n      username: formatUsername(a.apId),\n    })),\n  });\n});\n\n// Get blocked users for current actor\nactors.get('/me/blocked', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const prisma = c.get('prisma');\n  const limit = Math.min(parseInt(c.req.query('limit') || '100'), 500);\n  const offset = parseInt(c.req.query('offset') || '0');\n\n  const blocks = await prisma.block.findMany({\n    where: { blockerApId: actor.ap_id },\n    orderBy: { createdAt: 'desc' },\n    take: limit,\n    skip: offset,\n  });\n\n  // Batch load actor info to avoid N+1 queries\n  const blockedApIds = blocks.map((b) => b.blockedApId);\n  const [localActors, cachedActors] = await Promise.all([\n    prisma.actor.findMany({\n      where: { apId: { in: blockedApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true, summary: true },\n    }),\n    prisma.actorCache.findMany({\n      where: { apId: { in: blockedApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true, summary: true },\n    }),\n  ]);\n\n  const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\n  const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\n\n  const blockedList = blocks.map((b) => {\n    const actorInfo = localActorMap.get(b.blockedApId) || cachedActorMap.get(b.blockedApId);\n    return {\n      ap_id: b.blockedApId,\n      username: formatUsername(b.blockedApId),\n      preferred_username: actorInfo?.preferredUsername || null,\n      name: actorInfo?.name || null,\n      icon_url: actorInfo?.iconUrl || null,\n      summary: actorInfo?.summary || null,\n    };\n  });\n\n  return c.json({ blocked: blockedList });\n});\n\n// Block a user\nactors.post('/me/blocked', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const body = await c.req.json<{ ap_id: string }>();\n  if (!body.ap_id) return c.json({ error: 'ap_id required' }, 400);\n  if (body.ap_id === actor.ap_id) return c.json({ error: 'Cannot block yourself' }, 400);\n\n  const prisma = c.get('prisma');\n  await prisma.block.upsert({\n    where: {\n      blockerApId_blockedApId: { blockerApId: actor.ap_id, blockedApId: body.ap_id },\n    },\n    create: { blockerApId: actor.ap_id, blockedApId: body.ap_id },\n    update: {},\n  });\n\n  return c.json({ success: true });\n});\n\n// Unblock a user\nactors.delete('/me/blocked', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const body = await c.req.json<{ ap_id: string }>();\n  if (!body.ap_id) return c.json({ error: 'ap_id required' }, 400);\n\n  const prisma = c.get('prisma');\n  await prisma.block.delete({\n    where: {\n      blockerApId_blockedApId: { blockerApId: actor.ap_id, blockedApId: body.ap_id },\n    },\n  }).catch(() => {});\n\n  return c.json({ success: true });\n});\n\n// Get muted users for current actor\nactors.get('/me/muted', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const prisma = c.get('prisma');\n  const limit = Math.min(parseInt(c.req.query('limit') || '100'), 500);\n  const offset = parseInt(c.req.query('offset') || '0');\n\n  const mutes = await prisma.mute.findMany({\n    where: { muterApId: actor.ap_id },\n    orderBy: { createdAt: 'desc' },\n    take: limit,\n    skip: offset,\n  });\n\n  // Batch load actor info to avoid N+1 queries\n  const mutedApIds = mutes.map((m) => m.mutedApId);\n  const [localActors, cachedActors] = await Promise.all([\n    prisma.actor.findMany({\n      where: { apId: { in: mutedApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true, summary: true },\n    }),\n    prisma.actorCache.findMany({\n      where: { apId: { in: mutedApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true, summary: true },\n    }),\n  ]);\n\n  const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\n  const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\n\n  const mutedList = mutes.map((m) => {\n    const actorInfo = localActorMap.get(m.mutedApId) || cachedActorMap.get(m.mutedApId);\n    return {\n      ap_id: m.mutedApId,\n      username: formatUsername(m.mutedApId),\n      preferred_username: actorInfo?.preferredUsername || null,\n      name: actorInfo?.name || null,\n      icon_url: actorInfo?.iconUrl || null,\n      summary: actorInfo?.summary || null,\n    };\n  });\n\n  return c.json({ muted: mutedList });\n});\n\n// Mute a user\nactors.post('/me/muted', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const body = await c.req.json<{ ap_id: string }>();\n  if (!body.ap_id) return c.json({ error: 'ap_id required' }, 400);\n  if (body.ap_id === actor.ap_id) return c.json({ error: 'Cannot mute yourself' }, 400);\n\n  const prisma = c.get('prisma');\n  await prisma.mute.upsert({\n    where: {\n      muterApId_mutedApId: { muterApId: actor.ap_id, mutedApId: body.ap_id },\n    },\n    create: { muterApId: actor.ap_id, mutedApId: body.ap_id },\n    update: {},\n  });\n\n  return c.json({ success: true });\n});\n\n// Unmute a user\nactors.delete('/me/muted', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const body = await c.req.json<{ ap_id: string }>();\n  if (!body.ap_id) return c.json({ error: 'ap_id required' }, 400);\n\n  const prisma = c.get('prisma');\n  await prisma.mute.delete({\n    where: {\n      muterApId_mutedApId: { muterApId: actor.ap_id, mutedApId: body.ap_id },\n    },\n  }).catch(() => {});\n\n  return c.json({ success: true });\n});\n\n// Delete own account (local only)\nactors.post('/me/delete', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const actorApIdVal = actor.ap_id;\n  const prisma = c.get('prisma');\n\n  try {\n    // Use transaction to ensure all deletions succeed or none do\n    await prisma.$transaction(async (tx) => {\n      // Remove sessions\n      await tx.session.deleteMany({ where: { memberId: actorApIdVal } });\n\n      // Remove follow relationships\n      await tx.follow.deleteMany({\n        where: { OR: [{ followerApId: actorApIdVal }, { followingApId: actorApIdVal }] },\n      });\n\n      // Remove blocks/mutes\n      await tx.block.deleteMany({\n        where: { OR: [{ blockerApId: actorApIdVal }, { blockedApId: actorApIdVal }] },\n      });\n      await tx.mute.deleteMany({\n        where: { OR: [{ muterApId: actorApIdVal }, { mutedApId: actorApIdVal }] },\n      });\n\n      // Remove likes/bookmarks/announces\n      await tx.like.deleteMany({ where: { actorApId: actorApIdVal } });\n      await tx.bookmark.deleteMany({ where: { actorApId: actorApIdVal } });\n      await tx.announce.deleteMany({ where: { actorApId: actorApIdVal } });\n\n      // Remove inbox entries\n      await tx.inbox.deleteMany({ where: { actorApId: actorApIdVal } });\n\n      // Remove community memberships\n      const memberships = await tx.communityMember.findMany({\n        where: { actorApId: actorApIdVal },\n        select: { communityApId: true },\n      });\n      // Batch update community member counts instead of updating one by one\n      const communityApIds = memberships.map((m) => m.communityApId);\n      if (communityApIds.length > 0) {\n        await tx.community.updateMany({\n          where: { apId: { in: communityApIds } },\n          data: { memberCount: { decrement: 1 } },\n        });\n      }\n      await tx.communityMember.deleteMany({ where: { actorApId: actorApIdVal } });\n\n      // Remove object recipients and activities\n      await tx.objectRecipient.deleteMany({ where: { recipientApId: actorApIdVal } });\n      await tx.activity.deleteMany({ where: { actorApId: actorApIdVal } });\n\n      // Get objects authored by the actor\n      const authoredObjects = await tx.object.findMany({\n        where: { attributedTo: actorApIdVal },\n        select: { apId: true },\n      });\n      const objectIds = authoredObjects.map((o) => o.apId);\n\n      if (objectIds.length > 0) {\n        await tx.like.deleteMany({ where: { objectApId: { in: objectIds } } });\n        await tx.announce.deleteMany({ where: { objectApId: { in: objectIds } } });\n        await tx.bookmark.deleteMany({ where: { objectApId: { in: objectIds } } });\n        await tx.storyVote.deleteMany({ where: { storyApId: { in: objectIds } } });\n        await tx.storyView.deleteMany({ where: { storyApId: { in: objectIds } } });\n      }\n      await tx.object.deleteMany({ where: { attributedTo: actorApIdVal } });\n\n      // Finally remove actor\n      await tx.actor.delete({ where: { apId: actorApIdVal } });\n    });\n\n    // Clear session cookie after successful deletion\n    deleteCookie(c, 'session');\n\n    return c.json({ success: true });\n  } catch (error) {\n    console.error('Account deletion failed:', error instanceof Error ? error.message : 'Unknown error');\n    return c.json({ error: 'Account deletion failed' }, 500);\n  }\n});\n\n// Get posts for a specific actor\nactors.get('/:identifier/posts', async (c) => {\n  const currentActor = c.get('actor');\n  const identifier = c.req.param('identifier');\n  const apId = await resolveActorApId(c, identifier);\n  if (!apId) return c.json({ error: 'Actor not found' }, 404);\n\n  const prisma = c.get('prisma');\n\n  // Ensure actor exists (local or cached)\n  const actorExists = await prisma.actor.findUnique({\n    where: { apId },\n    select: { apId: true },\n  });\n  const cachedExists = actorExists\n    ? null\n    : await prisma.actorCache.findUnique({\n        where: { apId },\n        select: { apId: true },\n      });\n  if (!actorExists && !cachedExists) {\n    return c.json({ error: 'Actor not found' }, 404);\n  }\n\n  const limit = parseLimit(c.req.query('limit'), 20, MAX_ACTOR_POSTS_LIMIT);\n  const before = c.req.query('before');\n\n  const isOwnProfile = currentActor && currentActor.ap_id === apId;\n\n  const posts = await prisma.object.findMany({\n    where: {\n      type: 'Note',\n      inReplyTo: null,\n      visibility: isOwnProfile ? { not: 'direct' } : 'public',\n      attributedTo: apId,\n      ...(before ? { published: { lt: before } } : {}),\n    },\n    orderBy: { published: 'desc' },\n    take: limit,\n  });\n\n  // Batch load author info to avoid N+1 queries\n  const authorApIds = [...new Set(posts.map((p) => p.attributedTo))];\n  const [localAuthors, cachedAuthors] = await Promise.all([\n    prisma.actor.findMany({\n      where: { apId: { in: authorApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n    }),\n    prisma.actorCache.findMany({\n      where: { apId: { in: authorApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n    }),\n  ]);\n\n  const localAuthorMap = new Map(localAuthors.map((a) => [a.apId, a]));\n  const cachedAuthorMap = new Map(cachedAuthors.map((a) => [a.apId, a]));\n\n  // Batch load interaction status if user is logged in\n  const postApIds = posts.map((p) => p.apId);\n  const likedPostIds = new Set<string>();\n  const bookmarkedPostIds = new Set<string>();\n  const repostedPostIds = new Set<string>();\n\n  if (currentActor) {\n    const [likes, bookmarks, announces] = await Promise.all([\n      prisma.like.findMany({\n        where: { actorApId: currentActor.ap_id, objectApId: { in: postApIds } },\n        select: { objectApId: true },\n      }),\n      prisma.bookmark.findMany({\n        where: { actorApId: currentActor.ap_id, objectApId: { in: postApIds } },\n        select: { objectApId: true },\n      }),\n      prisma.announce.findMany({\n        where: { actorApId: currentActor.ap_id, objectApId: { in: postApIds } },\n        select: { objectApId: true },\n      }),\n    ]);\n\n    likes.forEach((l) => likedPostIds.add(l.objectApId));\n    bookmarks.forEach((b) => bookmarkedPostIds.add(b.objectApId));\n    announces.forEach((a) => repostedPostIds.add(a.objectApId));\n  }\n\n  // Map posts to result format\n  const result = posts.map((p) => {\n    const author = localAuthorMap.get(p.attributedTo) || cachedAuthorMap.get(p.attributedTo);\n\n    return {\n      ap_id: p.apId,\n      type: p.type,\n      author: {\n        ap_id: p.attributedTo,\n        username: formatUsername(p.attributedTo),\n        preferred_username: author?.preferredUsername || null,\n        name: author?.name || null,\n        icon_url: author?.iconUrl || null,\n      },\n      content: p.content,\n      summary: p.summary,\n      attachments: JSON.parse(p.attachmentsJson || '[]'),\n      in_reply_to: p.inReplyTo,\n      visibility: p.visibility,\n      community_ap_id: p.communityApId,\n      like_count: p.likeCount,\n      reply_count: p.replyCount,\n      announce_count: p.announceCount,\n      published: p.published,\n      liked: likedPostIds.has(p.apId),\n      bookmarked: bookmarkedPostIds.has(p.apId),\n      reposted: repostedPostIds.has(p.apId),\n    };\n  });\n\n  return c.json({ posts: result });\n});\n\n// Get actor by AP ID or username\nactors.get('/:identifier', async (c) => {\n  const currentActor = c.get('actor');\n  const identifier = c.req.param('identifier');\n  const baseUrl = c.env.APP_URL;\n  const prisma = c.get('prisma');\n\n  // Check if identifier is a full AP ID or just username\n  let apId: string;\n  if (identifier.startsWith('http')) {\n    apId = identifier;\n  } else if (identifier.includes('@')) {\n    // Handle @username@domain format\n    const stripped = identifier.replace(/^@/, '');\n    const parts = stripped.split('@');\n    const username = parts[0];\n    if (!username) {\n      return c.json({ error: 'Actor not found' }, 404);\n    }\n    if (parts.length === 1) {\n      apId = actorApId(baseUrl, username);\n    } else {\n      const domain = parts.slice(1).join('@');\n      if (!domain) {\n        return c.json({ error: 'Actor not found' }, 404);\n      }\n      if (domain === getDomain(baseUrl)) {\n        apId = actorApId(baseUrl, username);\n      } else {\n        // Remote actor - check cache\n        const cached = await prisma.actorCache.findFirst({\n          where: {\n            preferredUsername: username,\n            apId: { contains: domain },\n          },\n        });\n        if (cached) {\n          return c.json({\n            actor: {\n              ap_id: cached.apId,\n              preferred_username: cached.preferredUsername,\n              name: cached.name,\n              summary: cached.summary,\n              icon_url: cached.iconUrl,\n              username: formatUsername(cached.apId),\n            },\n          });\n        }\n        return c.json({ error: 'Actor not found' }, 404);\n      }\n    }\n  } else {\n    apId = actorApId(baseUrl, identifier);\n  }\n\n  // Try local actors first\n  const localActor = await prisma.actor.findUnique({\n    where: { apId },\n    select: {\n      apId: true,\n      preferredUsername: true,\n      name: true,\n      summary: true,\n      iconUrl: true,\n      headerUrl: true,\n      role: true,\n      followerCount: true,\n      followingCount: true,\n      postCount: true,\n      isPrivate: true,\n      createdAt: true,\n    },\n  });\n\n  if (!localActor) {\n    // Try actor cache (remote)\n    const cachedActor = await prisma.actorCache.findUnique({ where: { apId } });\n    if (!cachedActor) return c.json({ error: 'Actor not found' }, 404);\n\n    return c.json({\n      actor: {\n        ap_id: cachedActor.apId,\n        preferred_username: cachedActor.preferredUsername,\n        name: cachedActor.name,\n        summary: cachedActor.summary,\n        icon_url: cachedActor.iconUrl,\n        username: formatUsername(cachedActor.apId),\n        is_following: false,\n        is_followed_by: false,\n      },\n    });\n  }\n\n  // Check follow status if logged in\n  let is_following = false;\n  let is_followed_by = false;\n\n  if (currentActor && currentActor.ap_id !== apId) {\n    const followingStatus = await prisma.follow.findFirst({\n      where: { followerApId: currentActor.ap_id, followingApId: apId, status: 'accepted' },\n    });\n    is_following = !!followingStatus;\n\n    const followedByStatus = await prisma.follow.findFirst({\n      where: { followerApId: apId, followingApId: currentActor.ap_id, status: 'accepted' },\n    });\n    is_followed_by = !!followedByStatus;\n  }\n\n  return c.json({\n    actor: {\n      ap_id: localActor.apId,\n      preferred_username: localActor.preferredUsername,\n      name: localActor.name,\n      summary: localActor.summary,\n      icon_url: localActor.iconUrl,\n      header_url: localActor.headerUrl,\n      role: localActor.role,\n      follower_count: localActor.followerCount,\n      following_count: localActor.followingCount,\n      post_count: localActor.postCount,\n      is_private: localActor.isPrivate,\n      created_at: localActor.createdAt,\n      username: formatUsername(localActor.apId),\n      is_following,\n      is_followed_by,\n    },\n  });\n});\n\n// Update own profile\nactors.put('/me', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const body = await c.req.json<{\n    name?: string;\n    summary?: string;\n    icon_url?: string;\n    header_url?: string;\n    is_private?: boolean;\n  }>();\n\n  const updates: Record<string, string | number | null> = {};\n\n  if (body.name !== undefined) {\n    const name = body.name.trim();\n    if (name.length > MAX_PROFILE_NAME_LENGTH) {\n      return c.json({ error: `Name too long (max ${MAX_PROFILE_NAME_LENGTH} chars)` }, 400);\n    }\n    updates.name = name;\n  }\n  if (body.summary !== undefined) {\n    const summary = body.summary.trim();\n    if (summary.length > MAX_PROFILE_SUMMARY_LENGTH) {\n      return c.json({ error: `Summary too long (max ${MAX_PROFILE_SUMMARY_LENGTH} chars)` }, 400);\n    }\n    updates.summary = summary.length > 0 ? summary : null;\n  }\n  if (body.icon_url !== undefined) {\n    const iconUrl = body.icon_url.trim();\n    if (iconUrl.length > MAX_PROFILE_URL_LENGTH) {\n      return c.json({ error: `Icon URL too long (max ${MAX_PROFILE_URL_LENGTH} chars)` }, 400);\n    }\n    if (iconUrl.length > 0 && !isValidHttpUrl(iconUrl)) {\n      return c.json({ error: 'Invalid icon_url' }, 400);\n    }\n    updates.iconUrl = iconUrl.length > 0 ? iconUrl : null;\n  }\n  if (body.header_url !== undefined) {\n    const headerUrl = body.header_url.trim();\n    if (headerUrl.length > MAX_PROFILE_URL_LENGTH) {\n      return c.json({ error: `Header URL too long (max ${MAX_PROFILE_URL_LENGTH} chars)` }, 400);\n    }\n    if (headerUrl.length > 0 && !isValidHttpUrl(headerUrl)) {\n      return c.json({ error: 'Invalid header_url' }, 400);\n    }\n    updates.headerUrl = headerUrl.length > 0 ? headerUrl : null;\n  }\n  if (body.is_private !== undefined) {\n    updates.isPrivate = body.is_private ? 1 : 0;\n  }\n\n  if (Object.keys(updates).length === 0) {\n    return c.json({ error: 'No fields to update' }, 400);\n  }\n\n  const prisma = c.get('prisma');\n  await prisma.actor.update({\n    where: { apId: actor.ap_id },\n    data: updates,\n  });\n\n  return c.json({ success: true });\n});\n\n// Get actor's followers\nactors.get('/:identifier/followers', async (c) => {\n  const identifier = c.req.param('identifier');\n  const baseUrl = c.env.APP_URL;\n  const apId = identifier.startsWith('http') ? identifier : actorApId(baseUrl, identifier);\n  const limit = Math.min(parseInt(c.req.query('limit') || '50'), 100);\n  const offset = parseInt(c.req.query('offset') || '0');\n\n  const prisma = c.get('prisma');\n\n  const follows = await prisma.follow.findMany({\n    where: { followingApId: apId, status: 'accepted' },\n    orderBy: { createdAt: 'desc' },\n    skip: offset,\n    take: limit,\n  });\n\n  const total = await prisma.follow.count({\n    where: { followingApId: apId, status: 'accepted' },\n  });\n\n  // Batch load actor info to avoid N+1 queries\n  const followerApIds = follows.map((f) => f.followerApId);\n  const [localActors, cachedActors] = await Promise.all([\n    prisma.actor.findMany({\n      where: { apId: { in: followerApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true, summary: true },\n    }),\n    prisma.actorCache.findMany({\n      where: { apId: { in: followerApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true, summary: true },\n    }),\n  ]);\n\n  const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\n  const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\n\n  const followers = follows.map((f) => {\n    const actorInfo = localActorMap.get(f.followerApId) || cachedActorMap.get(f.followerApId);\n    return {\n      ap_id: f.followerApId,\n      username: formatUsername(f.followerApId),\n      preferred_username: actorInfo?.preferredUsername || null,\n      name: actorInfo?.name || null,\n      icon_url: actorInfo?.iconUrl || null,\n      summary: actorInfo?.summary || null,\n    };\n  });\n\n  return c.json({\n    followers,\n    total,\n    limit,\n    offset,\n    has_more: offset + followers.length < total,\n  });\n});\n\n// Get actor's following\nactors.get('/:identifier/following', async (c) => {\n  const identifier = c.req.param('identifier');\n  const baseUrl = c.env.APP_URL;\n  const apId = identifier.startsWith('http') ? identifier : actorApId(baseUrl, identifier);\n  const limit = Math.min(parseInt(c.req.query('limit') || '50'), 100);\n  const offset = parseInt(c.req.query('offset') || '0');\n\n  const prisma = c.get('prisma');\n\n  const follows = await prisma.follow.findMany({\n    where: { followerApId: apId, status: 'accepted' },\n    orderBy: { createdAt: 'desc' },\n    skip: offset,\n    take: limit,\n  });\n\n  const total = await prisma.follow.count({\n    where: { followerApId: apId, status: 'accepted' },\n  });\n\n  // Batch load actor info to avoid N+1 queries\n  const followingApIds = follows.map((f) => f.followingApId);\n  const [localActors, cachedActors] = await Promise.all([\n    prisma.actor.findMany({\n      where: { apId: { in: followingApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true, summary: true },\n    }),\n    prisma.actorCache.findMany({\n      where: { apId: { in: followingApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true, summary: true },\n    }),\n  ]);\n\n  const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\n  const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\n\n  const following = follows.map((f) => {\n    const actorInfo = localActorMap.get(f.followingApId) || cachedActorMap.get(f.followingApId);\n    return {\n      ap_id: f.followingApId,\n      username: formatUsername(f.followingApId),\n      preferred_username: actorInfo?.preferredUsername || null,\n      name: actorInfo?.name || null,\n      icon_url: actorInfo?.iconUrl || null,\n      summary: actorInfo?.summary || null,\n    };\n  });\n\n  return c.json({\n    following,\n    total,\n    limit,\n    offset,\n    has_more: offset + following.length < total,\n  });\n});\n\nexport default actors;\n", "/**\r\n * Caching Middleware for Yurucommu Backend\r\n *\r\n * Supports multiple runtimes:\r\n * - Cloudflare Workers: Uses Cache API\r\n * - Node.js/Bun/Deno: Uses in-memory LRU cache\r\n *\r\n * Features:\r\n * - TTL-based caching\r\n * - ETag and Last-Modified headers\r\n * - Conditional requests\r\n * - Cache invalidation\r\n */\r\n\r\nimport type { Context, MiddlewareHandler, Next } from 'hono';\r\nimport type { Env, Variables } from '../types';\r\n\r\n// Cloudflare Workers Cache API extension\r\ndeclare global {\r\n  interface CacheStorage {\r\n    default: Cache;\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Types\r\n// ============================================================================\r\n\r\nexport interface CacheConfig {\r\n  /** Time-to-live in seconds */\r\n  ttl: number;\r\n  /** Whether to include query params in cache key (default: true) */\r\n  includeQueryParams?: boolean;\r\n  /** Specific query params to include (if not specified, all are included) */\r\n  queryParamsToInclude?: string[];\r\n  /** Cache tag for invalidation grouping */\r\n  cacheTag?: string;\r\n  /** Whether to add stale-while-revalidate (default: false) */\r\n  staleWhileRevalidate?: number;\r\n  /** Whether to vary cache by authenticated actor */\r\n  varyByActor?: boolean;\r\n  /** Custom cache key generator */\r\n  cacheKeyGenerator?: (c: Context<{ Bindings: Env; Variables: Variables }>) => string;\r\n}\r\n\r\n// Predefined TTL configurations\r\nexport const CacheTTL = {\r\n  /** Public timeline (2 minutes) - frequently updated */\r\n  PUBLIC_TIMELINE: 120,\r\n  /** Actor profile data (5 minutes) */\r\n  ACTOR_PROFILE: 300,\r\n  /** ActivityPub actor JSON (10 minutes) */\r\n  ACTIVITYPUB_ACTOR: 600,\r\n  /** WebFinger response (1 hour) */\r\n  WEBFINGER: 3600,\r\n  /** Community info (5 minutes) */\r\n  COMMUNITY: 300,\r\n  /** Static content like well-known (1 hour) */\r\n  STATIC: 3600,\r\n  /** Search results (1 minute) */\r\n  SEARCH: 60,\r\n} as const;\r\n\r\n// Cache tags for grouping\r\nexport const CacheTags = {\r\n  TIMELINE: 'timeline',\r\n  ACTOR: 'actor',\r\n  COMMUNITY: 'community',\r\n  POST: 'post',\r\n  WEBFINGER: 'webfinger',\r\n} as const;\r\n\r\n// ============================================================================\r\n// In-Memory LRU Cache (for non-Cloudflare runtimes)\r\n// ============================================================================\r\n\r\ninterface CacheEntry {\r\n  body: string;\r\n  headers: Record<string, string>;\r\n  status: number;\r\n  expiresAt: number;\r\n  etag: string;\r\n  lastModified: string;\r\n  tag?: string;\r\n}\r\n\r\nclass LRUCache {\r\n  private cache: Map<string, CacheEntry> = new Map();\r\n  private maxSize: number;\r\n\r\n  constructor(maxSize: number = 1000) {\r\n    this.maxSize = maxSize;\r\n  }\r\n\r\n  get(key: string): CacheEntry | undefined {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return undefined;\r\n\r\n    // Check if expired\r\n    if (Date.now() > entry.expiresAt) {\r\n      this.cache.delete(key);\r\n      return undefined;\r\n    }\r\n\r\n    // Move to end (most recently used)\r\n    this.cache.delete(key);\r\n    this.cache.set(key, entry);\r\n\r\n    return entry;\r\n  }\r\n\r\n  set(key: string, entry: CacheEntry): void {\r\n    // Remove oldest entries if at capacity\r\n    while (this.cache.size >= this.maxSize) {\r\n      const firstKey = this.cache.keys().next().value;\r\n      if (firstKey) {\r\n        this.cache.delete(firstKey);\r\n      }\r\n    }\r\n\r\n    this.cache.set(key, entry);\r\n  }\r\n\r\n  delete(key: string): boolean {\r\n    return this.cache.delete(key);\r\n  }\r\n\r\n  deleteByTag(tag: string): number {\r\n    let deleted = 0;\r\n    const entries = Array.from(this.cache.entries());\r\n    for (const [key, entry] of entries) {\r\n      if (entry.tag === tag) {\r\n        this.cache.delete(key);\r\n        deleted++;\r\n      }\r\n    }\r\n    return deleted;\r\n  }\r\n\r\n  clear(): void {\r\n    this.cache.clear();\r\n  }\r\n\r\n  // Cleanup expired entries\r\n  cleanup(): void {\r\n    const now = Date.now();\r\n    const entries = Array.from(this.cache.entries());\r\n    for (const [key, entry] of entries) {\r\n      if (now > entry.expiresAt) {\r\n        this.cache.delete(key);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Singleton cache instance for in-memory caching\r\nconst memoryCache = new LRUCache(1000);\r\n\r\n// Periodic cleanup (every 5 minutes)\r\nconst CLEANUP_INTERVAL = 5 * 60 * 1000;\r\nlet lastCleanup = Date.now();\r\n\r\nfunction maybeCleanup(): void {\r\n  const now = Date.now();\r\n  if (now - lastCleanup >= CLEANUP_INTERVAL) {\r\n    lastCleanup = now;\r\n    memoryCache.cleanup();\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Cache Key Generation\r\n// ============================================================================\r\n\r\nfunction generateCacheKey(\r\n  c: Context<{ Bindings: Env; Variables: Variables }>,\r\n  config: CacheConfig\r\n): string {\r\n  // Use custom generator if provided\r\n  if (config.cacheKeyGenerator) {\r\n    return config.cacheKeyGenerator(c);\r\n  }\r\n\r\n  const url = new URL(c.req.url);\r\n  let cacheKey = url.pathname;\r\n\r\n  // Include query params if configured\r\n  if (config.includeQueryParams !== false) {\r\n    const params = new URLSearchParams();\r\n\r\n    if (config.queryParamsToInclude) {\r\n      for (const key of config.queryParamsToInclude) {\r\n        const value = url.searchParams.get(key);\r\n        if (value !== null) {\r\n          params.set(key, value);\r\n        }\r\n      }\r\n    } else {\r\n      const sortedKeys = Array.from(url.searchParams.keys()).sort();\r\n      for (const key of sortedKeys) {\r\n        params.set(key, url.searchParams.get(key)!);\r\n      }\r\n    }\r\n\r\n    const queryString = params.toString();\r\n    if (queryString) {\r\n      cacheKey += `?${queryString}`;\r\n    }\r\n  }\r\n\r\n  // Vary by actor if configured\r\n  if (config.varyByActor) {\r\n    const actor = c.get('actor');\r\n    if (actor) {\r\n      cacheKey += `#actor:${actor.ap_id}`;\r\n    } else {\r\n      cacheKey += '#actor:anonymous';\r\n    }\r\n  }\r\n\r\n  return cacheKey;\r\n}\r\n\r\nasync function generateETag(body: string): Promise<string> {\r\n  const encoder = new TextEncoder();\r\n  const data = encoder.encode(body);\r\n  const hashBuffer = await crypto.subtle.digest('SHA-256', data);\r\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n  return `\"${hashHex.substring(0, 16)}\"`;\r\n}\r\n\r\n// ============================================================================\r\n// Runtime Detection\r\n// ============================================================================\r\n\r\nfunction isCloudflareWorkers(): boolean {\r\n  // Check for caches.default which is Cloudflare-specific\r\n  return typeof caches !== 'undefined' && 'default' in caches;\r\n}\r\n\r\n// ============================================================================\r\n// Caching Middleware\r\n// ============================================================================\r\n\r\n/**\r\n * Create a caching middleware\r\n *\r\n * @example\r\n * // Cache public timeline for 2 minutes\r\n * timeline.get('/', withCache({ ttl: CacheTTL.PUBLIC_TIMELINE }), handler);\r\n *\r\n * // Cache actor profile with tag for invalidation\r\n * actors.get('/:username', withCache({\r\n *   ttl: CacheTTL.ACTOR_PROFILE,\r\n *   cacheTag: CacheTags.ACTOR,\r\n * }), handler);\r\n */\r\nexport function withCache(\r\n  config: CacheConfig\r\n): MiddlewareHandler<{ Bindings: Env; Variables: Variables }> {\r\n  return async (c, next) => {\r\n    // Only cache GET requests\r\n    if (c.req.method !== 'GET') {\r\n      await next();\r\n      return;\r\n    }\r\n\r\n    // Skip caching for authenticated requests if not varying by actor\r\n    if (!config.varyByActor) {\r\n      const actor = c.get('actor');\r\n      if (actor) {\r\n        await next();\r\n        return;\r\n      }\r\n    }\r\n\r\n    const cacheKey = generateCacheKey(c, config);\r\n\r\n    if (isCloudflareWorkers()) {\r\n      return handleCloudflareCache(c, next, cacheKey, config);\r\n    } else {\r\n      return handleMemoryCache(c, next, cacheKey, config);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Handle caching using Cloudflare Cache API\r\n */\r\nasync function handleCloudflareCache(\r\n  c: Context<{ Bindings: Env; Variables: Variables }>,\r\n  next: Next,\r\n  cacheKey: string,\r\n  config: CacheConfig\r\n): Promise<Response | void> {\r\n  const cache = caches.default;\r\n  const url = new URL(c.req.url);\r\n  const fullCacheKey = new Request(`${url.origin}/_cache${cacheKey}`);\r\n\r\n  // Try to get from cache\r\n  const cachedResponse = await cache.match(fullCacheKey);\r\n\r\n  if (cachedResponse) {\r\n    // Handle conditional requests\r\n    const ifNoneMatch = c.req.header('If-None-Match');\r\n    const etag = cachedResponse.headers.get('ETag');\r\n    if (ifNoneMatch && etag && ifNoneMatch === etag) {\r\n      return c.body(null, 304);\r\n    }\r\n\r\n    const ifModifiedSince = c.req.header('If-Modified-Since');\r\n    const lastModified = cachedResponse.headers.get('Last-Modified');\r\n    if (ifModifiedSince && lastModified) {\r\n      const ifModifiedDate = new Date(ifModifiedSince);\r\n      const lastModifiedDate = new Date(lastModified);\r\n      if (ifModifiedDate >= lastModifiedDate) {\r\n        return c.body(null, 304);\r\n      }\r\n    }\r\n\r\n    // Return cached response with X-Cache header\r\n    const headers = new Headers(cachedResponse.headers);\r\n    headers.set('X-Cache', 'HIT');\r\n    return new Response(cachedResponse.body, {\r\n      status: cachedResponse.status,\r\n      headers,\r\n    });\r\n  }\r\n\r\n  // Execute handler\r\n  await next();\r\n\r\n  // Only cache successful responses\r\n  if (c.res.status !== 200) {\r\n    return;\r\n  }\r\n\r\n  // Prepare cached response\r\n  const responseBody = await c.res.text();\r\n  const etag = await generateETag(responseBody);\r\n  const now = new Date();\r\n\r\n  let cacheControl = `public, max-age=${config.ttl}`;\r\n  if (config.staleWhileRevalidate) {\r\n    cacheControl += `, stale-while-revalidate=${config.staleWhileRevalidate}`;\r\n  }\r\n\r\n  const headers = new Headers(c.res.headers);\r\n  headers.set('Cache-Control', cacheControl);\r\n  headers.set('ETag', etag);\r\n  headers.set('Last-Modified', now.toUTCString());\r\n  headers.set('X-Cache', 'MISS');\r\n  if (config.cacheTag) {\r\n    headers.set('Cache-Tag', config.cacheTag);\r\n  }\r\n\r\n  const responseToCache = new Response(responseBody, {\r\n    status: 200,\r\n    headers,\r\n  });\r\n\r\n  // Store in cache with error handling\r\n  const ctx = c.executionCtx;\r\n  if (ctx && typeof ctx.waitUntil === 'function') {\r\n    ctx.waitUntil(\r\n      cache.put(fullCacheKey, responseToCache.clone()).catch(err => {\r\n        console.error('Failed to store response in cache:', err);\r\n      })\r\n    );\r\n  }\r\n\r\n  c.res = responseToCache;\r\n}\r\n\r\n/**\r\n * Handle caching using in-memory LRU cache\r\n */\r\nasync function handleMemoryCache(\r\n  c: Context<{ Bindings: Env; Variables: Variables }>,\r\n  next: Next,\r\n  cacheKey: string,\r\n  config: CacheConfig\r\n): Promise<Response | void> {\r\n  maybeCleanup();\r\n\r\n  // Try to get from cache\r\n  const cached = memoryCache.get(cacheKey);\r\n\r\n  if (cached) {\r\n    // Handle conditional requests\r\n    const ifNoneMatch = c.req.header('If-None-Match');\r\n    if (ifNoneMatch && ifNoneMatch === cached.etag) {\r\n      return c.body(null, 304);\r\n    }\r\n\r\n    const ifModifiedSince = c.req.header('If-Modified-Since');\r\n    if (ifModifiedSince) {\r\n      const ifModifiedDate = new Date(ifModifiedSince);\r\n      const lastModifiedDate = new Date(cached.lastModified);\r\n      if (ifModifiedDate >= lastModifiedDate) {\r\n        return c.body(null, 304);\r\n      }\r\n    }\r\n\r\n    // Return cached response\r\n    const headers = new Headers(cached.headers);\r\n    headers.set('X-Cache', 'HIT');\r\n    return new Response(cached.body, {\r\n      status: cached.status,\r\n      headers,\r\n    });\r\n  }\r\n\r\n  // Execute handler\r\n  await next();\r\n\r\n  // Only cache successful responses\r\n  if (c.res.status !== 200) {\r\n    return;\r\n  }\r\n\r\n  // Prepare cached entry\r\n  const responseBody = await c.res.text();\r\n  const etag = await generateETag(responseBody);\r\n  const now = new Date();\r\n\r\n  let cacheControl = `public, max-age=${config.ttl}`;\r\n  if (config.staleWhileRevalidate) {\r\n    cacheControl += `, stale-while-revalidate=${config.staleWhileRevalidate}`;\r\n  }\r\n\r\n  const headers = new Headers(c.res.headers);\r\n  headers.set('Cache-Control', cacheControl);\r\n  headers.set('ETag', etag);\r\n  headers.set('Last-Modified', now.toUTCString());\r\n  headers.set('X-Cache', 'MISS');\r\n  if (config.cacheTag) {\r\n    headers.set('Cache-Tag', config.cacheTag);\r\n  }\r\n\r\n  // Store in memory cache\r\n  const headersObj: Record<string, string> = {};\r\n  headers.forEach((value, key) => {\r\n    headersObj[key] = value;\r\n  });\r\n\r\n  memoryCache.set(cacheKey, {\r\n    body: responseBody,\r\n    headers: headersObj,\r\n    status: 200,\r\n    expiresAt: Date.now() + config.ttl * 1000,\r\n    etag,\r\n    lastModified: now.toUTCString(),\r\n    tag: config.cacheTag,\r\n  });\r\n\r\n  c.res = new Response(responseBody, {\r\n    status: 200,\r\n    headers,\r\n  });\r\n}\r\n\r\n// ============================================================================\r\n// Cache Invalidation\r\n// ============================================================================\r\n\r\n/**\r\n * Invalidate cache entries by key pattern\r\n */\r\nexport async function invalidateCache(patterns: string[]): Promise<void> {\r\n  if (isCloudflareWorkers()) {\r\n    const cache = caches.default;\r\n    await Promise.all(\r\n      patterns.map(pattern => {\r\n        // For Cloudflare, we need the full URL\r\n        // This requires knowing the origin, which we may not have here\r\n        // In practice, call this from middleware where you have access to c.req.url\r\n        return cache.delete(new Request(pattern));\r\n      })\r\n    );\r\n  } else {\r\n    // For memory cache, delete by exact key\r\n    for (const pattern of patterns) {\r\n      memoryCache.delete(pattern);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Invalidate all cache entries with a specific tag\r\n */\r\nexport function invalidateCacheByTag(tag: string): number {\r\n  if (!isCloudflareWorkers()) {\r\n    return memoryCache.deleteByTag(tag);\r\n  }\r\n  // Cloudflare Cache API doesn't support tag-based purging in Workers\r\n  // Would need to use Cloudflare API for that\r\n  return 0;\r\n}\r\n\r\n/**\r\n * Middleware to invalidate cache on mutations\r\n *\r\n * @example\r\n * posts.post('/', invalidateCacheOnMutation([CacheTags.TIMELINE, CacheTags.ACTOR]), handler);\r\n */\r\nexport function invalidateCacheOnMutation(\r\n  tags: string[]\r\n): MiddlewareHandler<{ Bindings: Env; Variables: Variables }> {\r\n  return async (c, next) => {\r\n    await next();\r\n\r\n    // Only invalidate on successful mutations\r\n    if (c.res.status >= 200 && c.res.status < 300) {\r\n      for (const tag of tags) {\r\n        invalidateCacheByTag(tag);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n// ============================================================================\r\n// Cache Headers Middleware (CDN/Browser caching only)\r\n// ============================================================================\r\n\r\n/**\r\n * Add cache headers without storing in cache\r\n * Useful for CDN or browser caching\r\n */\r\nexport function withCacheHeaders(\r\n  config: CacheConfig\r\n): MiddlewareHandler<{ Bindings: Env; Variables: Variables }> {\r\n  return async (c, next) => {\r\n    await next();\r\n\r\n    if (c.req.method !== 'GET' || c.res.status !== 200) {\r\n      return;\r\n    }\r\n\r\n    let cacheControl = `public, max-age=${config.ttl}`;\r\n    if (config.staleWhileRevalidate) {\r\n      cacheControl += `, stale-while-revalidate=${config.staleWhileRevalidate}`;\r\n    }\r\n\r\n    const body = await c.res.text();\r\n    const etag = await generateETag(body);\r\n\r\n    const headers = new Headers(c.res.headers);\r\n    headers.set('Cache-Control', cacheControl);\r\n    headers.set('ETag', etag);\r\n    headers.set('Last-Modified', new Date().toUTCString());\r\n\r\n    c.res = new Response(body, {\r\n      status: c.res.status,\r\n      headers,\r\n    });\r\n  };\r\n}\r\n\r\n/**\r\n * No-cache middleware\r\n */\r\nexport const noCache: MiddlewareHandler<{ Bindings: Env; Variables: Variables }> = async (c, next) => {\r\n  await next();\r\n\r\n  const headers = new Headers(c.res.headers);\r\n  headers.set('Cache-Control', 'no-store, no-cache, must-revalidate');\r\n  headers.set('Pragma', 'no-cache');\r\n  headers.set('Expires', '0');\r\n\r\n  const body = await c.res.text();\r\n  c.res = new Response(body, {\r\n    status: c.res.status,\r\n    headers,\r\n  });\r\n};\r\n\r\n/**\r\n * Clear all in-memory cache (useful for testing)\r\n */\r\nexport function clearMemoryCache(): void {\r\n  memoryCache.clear();\r\n}\r\n", "import { Hono } from 'hono';\r\nimport type { Env, Variables } from '../types';\r\nimport { generateId, activityApId, isLocal, formatUsername, signRequest, isSafeRemoteUrl } from '../utils';\r\n\r\n// P07: Network timeout for remote requests (10 seconds)\r\nconst REMOTE_FETCH_TIMEOUT_MS = 10000;\r\n\r\nconst follow = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\ntype RemoteActor = {\r\n  id: string;\r\n  type?: string;\r\n  preferredUsername?: string;\r\n  name?: string;\r\n  summary?: string;\r\n  icon?: { url?: string };\r\n  inbox?: string;\r\n  outbox?: string;\r\n  publicKey?: { id?: string; publicKeyPem?: string };\r\n};\r\n\r\n// Follow an actor (handles local and remote)\r\nfollow.post('/', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const body = await c.req.json<{ target_ap_id: string }>();\r\n  if (!body.target_ap_id) return c.json({ error: 'target_ap_id required' }, 400);\r\n  if (body.target_ap_id === actor.ap_id) return c.json({ error: 'Cannot follow yourself' }, 400);\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const targetApId = body.target_ap_id;\r\n  const prisma = c.get('prisma');\r\n\r\n  // Check if already following\r\n  const existing = await prisma.follow.findUnique({\r\n    where: {\r\n      followerApId_followingApId: { followerApId: actor.ap_id, followingApId: targetApId },\r\n    },\r\n  });\r\n\r\n  if (existing) return c.json({ error: 'Already following or pending' }, 400);\r\n\r\n  // Check if target is local or remote\r\n  const isLocalTarget = isLocal(targetApId, baseUrl);\r\n\r\n  if (isLocalTarget) {\r\n    // Local target - check if they require approval\r\n    const target = await prisma.actor.findUnique({\r\n      where: { apId: targetApId },\r\n      select: { isPrivate: true },\r\n    });\r\n    if (!target) return c.json({ error: 'Target actor not found' }, 404);\r\n\r\n    const status = target.isPrivate ? 'pending' : 'accepted';\r\n    const activityId = activityApId(baseUrl, generateId());\r\n    const now = new Date().toISOString();\r\n\r\n    // P07: Wrap in transaction to prevent race condition with concurrent follow requests\r\n    try {\r\n      await prisma.$transaction(async (tx) => {\r\n        // Re-check in transaction to prevent race condition\r\n        const existingInTx = await tx.follow.findUnique({\r\n          where: {\r\n            followerApId_followingApId: { followerApId: actor.ap_id, followingApId: targetApId },\r\n          },\r\n        });\r\n        if (existingInTx) {\r\n          throw new Error('ALREADY_FOLLOWING');\r\n        }\r\n\r\n        await tx.follow.create({\r\n          data: {\r\n            followerApId: actor.ap_id,\r\n            followingApId: targetApId,\r\n            status,\r\n            activityApId: activityId,\r\n            acceptedAt: status === 'accepted' ? now : null,\r\n          },\r\n        });\r\n\r\n        // Update counts if accepted (atomically)\r\n        if (status === 'accepted') {\r\n          await tx.actor.update({\r\n            where: { apId: actor.ap_id },\r\n            data: { followingCount: { increment: 1 } },\r\n          });\r\n          await tx.actor.update({\r\n            where: { apId: targetApId },\r\n            data: { followerCount: { increment: 1 } },\r\n          });\r\n        }\r\n\r\n        // Store Follow activity and add to inbox (AP Native notification)\r\n        await tx.activity.create({\r\n          data: {\r\n            apId: activityId,\r\n            type: 'Follow',\r\n            actorApId: actor.ap_id,\r\n            objectApId: targetApId,\r\n            rawJson: JSON.stringify({\r\n              '@context': 'https://www.w3.org/ns/activitystreams',\r\n              id: activityId,\r\n              type: 'Follow',\r\n              actor: actor.ap_id,\r\n              object: targetApId,\r\n              published: now,\r\n            }),\r\n            direction: 'local',\r\n          },\r\n        });\r\n\r\n        await tx.inbox.create({\r\n          data: {\r\n            actorApId: targetApId,\r\n            activityApId: activityId,\r\n            read: 0,\r\n          },\r\n        });\r\n      });\r\n    } catch (e) {\r\n      if (e instanceof Error && e.message === 'ALREADY_FOLLOWING') {\r\n        return c.json({ error: 'Already following or pending' }, 400);\r\n      }\r\n      throw e;\r\n    }\r\n\r\n    return c.json({ success: true, status });\r\n  } else {\r\n    // Remote target - send Follow activity\r\n    // First, ensure we have cached the remote actor\r\n    let cachedActor = await prisma.actorCache.findUnique({\r\n      where: { apId: targetApId },\r\n    });\r\n\r\n    if (!cachedActor) {\r\n      // Fetch remote actor\r\n      try {\r\n        if (!isSafeRemoteUrl(targetApId)) {\r\n          return c.json({ error: 'Invalid target_ap_id' }, 400);\r\n        }\r\n        // P07: Add timeout using AbortController\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), REMOTE_FETCH_TIMEOUT_MS);\r\n        let res: Response;\r\n        try {\r\n          res = await fetch(targetApId, {\r\n            headers: { 'Accept': 'application/activity+json, application/ld+json' },\r\n            signal: controller.signal\r\n          });\r\n        } finally {\r\n          clearTimeout(timeoutId);\r\n        }\r\n        if (!res.ok) return c.json({ error: 'Could not fetch remote actor' }, 400);\r\n\r\n        const actorData = await res.json() as RemoteActor;\r\n        if (\r\n          !actorData?.id ||\r\n          !actorData?.inbox ||\r\n          !isSafeRemoteUrl(actorData.id) ||\r\n          !isSafeRemoteUrl(actorData.inbox)\r\n        ) {\r\n          return c.json({ error: 'Invalid remote actor data' }, 400);\r\n        }\r\n\r\n        cachedActor = await prisma.actorCache.create({\r\n          data: {\r\n            apId: actorData.id,\r\n            type: actorData.type || 'Person',\r\n            preferredUsername: actorData.preferredUsername || null,\r\n            name: actorData.name || null,\r\n            summary: actorData.summary || null,\r\n            iconUrl: actorData.icon?.url || null,\r\n            inbox: actorData.inbox,\r\n            outbox: actorData.outbox || null,\r\n            publicKeyId: actorData.publicKey?.id || null,\r\n            publicKeyPem: actorData.publicKey?.publicKeyPem || null,\r\n            rawJson: JSON.stringify(actorData),\r\n          },\r\n        });\r\n      } catch (e) {\r\n        return c.json({ error: 'Failed to fetch remote actor' }, 400);\r\n      }\r\n    }\r\n\r\n    if (!cachedActor?.inbox || !isSafeRemoteUrl(cachedActor.inbox)) {\r\n      return c.json({ error: 'Invalid inbox URL' }, 400);\r\n    }\r\n\r\n    // Create pending follow\r\n    const activityId = activityApId(baseUrl, generateId());\r\n    await prisma.follow.create({\r\n      data: {\r\n        followerApId: actor.ap_id,\r\n        followingApId: targetApId,\r\n        status: 'pending',\r\n        activityApId: activityId,\r\n      },\r\n    });\r\n\r\n    // Send Follow activity\r\n    const followActivity = {\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: activityId,\r\n      type: 'Follow',\r\n      actor: actor.ap_id,\r\n      object: targetApId,\r\n      published: new Date().toISOString(),\r\n    };\r\n\r\n    const keyId = `${actor.ap_id}#main-key`;\r\n    const headers = await signRequest(actor.private_key_pem, keyId, 'POST', cachedActor.inbox, JSON.stringify(followActivity));\r\n\r\n    // P07: Add timeout for activity delivery\r\n    try {\r\n      const deliveryController = new AbortController();\r\n      const deliveryTimeoutId = setTimeout(() => deliveryController.abort(), REMOTE_FETCH_TIMEOUT_MS);\r\n      try {\r\n        await fetch(cachedActor.inbox, {\r\n          method: 'POST',\r\n          headers: {\r\n            ...headers,\r\n            'Content-Type': 'application/activity+json',\r\n          },\r\n          body: JSON.stringify(followActivity),\r\n          signal: deliveryController.signal\r\n        });\r\n      } finally {\r\n        clearTimeout(deliveryTimeoutId);\r\n      }\r\n    } catch (e) {\r\n      console.error('Failed to send Follow activity:', e);\r\n    }\r\n\r\n    // Store activity\r\n    await prisma.activity.create({\r\n      data: {\r\n        apId: activityId,\r\n        type: 'Follow',\r\n        actorApId: actor.ap_id,\r\n        objectApId: targetApId,\r\n        rawJson: JSON.stringify(followActivity),\r\n        direction: 'outbound',\r\n      },\r\n    });\r\n\r\n    return c.json({ success: true, status: 'pending' });\r\n  }\r\n});\r\n\r\n// Unfollow\r\nfollow.delete('/', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const body = await c.req.json<{ target_ap_id: string }>();\r\n  if (!body.target_ap_id) return c.json({ error: 'target_ap_id required' }, 400);\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const targetApId = body.target_ap_id;\r\n  const prisma = c.get('prisma');\r\n\r\n  const existingFollow = await prisma.follow.findUnique({\r\n    where: {\r\n      followerApId_followingApId: { followerApId: actor.ap_id, followingApId: targetApId },\r\n    },\r\n  });\r\n\r\n  if (!existingFollow) return c.json({ error: 'Not following' }, 400);\r\n\r\n  // Delete the follow\r\n  await prisma.follow.delete({\r\n    where: {\r\n      followerApId_followingApId: { followerApId: actor.ap_id, followingApId: targetApId },\r\n    },\r\n  });\r\n\r\n  // Update counts if was accepted\r\n  if (existingFollow.status === 'accepted') {\r\n    await prisma.actor.update({\r\n      where: { apId: actor.ap_id },\r\n      data: { followingCount: { decrement: 1 } },\r\n    }).catch(() => {});\r\n\r\n    if (isLocal(targetApId, baseUrl)) {\r\n      await prisma.actor.update({\r\n        where: { apId: targetApId },\r\n        data: { followerCount: { decrement: 1 } },\r\n      }).catch(() => {});\r\n    }\r\n  }\r\n\r\n  // Send Undo Follow to remote\r\n  if (!isLocal(targetApId, baseUrl)) {\r\n    const cachedActor = await prisma.actorCache.findUnique({\r\n      where: { apId: targetApId },\r\n      select: { inbox: true },\r\n    });\r\n    if (cachedActor?.inbox) {\r\n      if (isSafeRemoteUrl(cachedActor.inbox)) {\r\n        const activityId = activityApId(baseUrl, generateId());\r\n        const undoActivity = {\r\n          '@context': 'https://www.w3.org/ns/activitystreams',\r\n          id: activityId,\r\n          type: 'Undo',\r\n          actor: actor.ap_id,\r\n          published: new Date().toISOString(),\r\n          object: {\r\n            type: 'Follow',\r\n            actor: actor.ap_id,\r\n            object: targetApId,\r\n          },\r\n        };\r\n\r\n        const keyId = `${actor.ap_id}#main-key`;\r\n        const headers = await signRequest(actor.private_key_pem, keyId, 'POST', cachedActor.inbox, JSON.stringify(undoActivity));\r\n\r\n        // P07: Add timeout for activity delivery\r\n        try {\r\n          const undoController = new AbortController();\r\n          const undoTimeoutId = setTimeout(() => undoController.abort(), REMOTE_FETCH_TIMEOUT_MS);\r\n          try {\r\n            await fetch(cachedActor.inbox, {\r\n              method: 'POST',\r\n              headers: { ...headers, 'Content-Type': 'application/activity+json' },\r\n              body: JSON.stringify(undoActivity),\r\n              signal: undoController.signal,\r\n            });\r\n          } finally {\r\n            clearTimeout(undoTimeoutId);\r\n          }\r\n        } catch (e) {\r\n          console.error('Failed to send Undo Follow:', e);\r\n        }\r\n\r\n        // Store activity\r\n        await prisma.activity.create({\r\n          data: {\r\n            apId: activityId,\r\n            type: 'Undo',\r\n            actorApId: actor.ap_id,\r\n            objectApId: targetApId,\r\n            rawJson: JSON.stringify(undoActivity),\r\n            direction: 'outbound',\r\n          },\r\n        });\r\n      } else {\r\n        console.warn(`[Follow] Blocked unsafe inbox URL: ${cachedActor.inbox}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// Accept follow request\r\nfollow.post('/accept', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const body = await c.req.json<{ requester_ap_id: string }>();\r\n  if (!body.requester_ap_id) return c.json({ error: 'requester_ap_id required' }, 400);\r\n\r\n  const prisma = c.get('prisma');\r\n\r\n  // P07: Wrap in transaction to prevent race condition where two accepts could increment counts twice\r\n  let pendingFollow: Awaited<ReturnType<typeof prisma.follow.findFirst>>;\r\n  try {\r\n    pendingFollow = await prisma.$transaction(async (tx) => {\r\n      const follow = await tx.follow.findFirst({\r\n        where: {\r\n          followerApId: body.requester_ap_id,\r\n          followingApId: actor.ap_id,\r\n          status: 'pending',\r\n        },\r\n      });\r\n\r\n      if (!follow) return null;\r\n\r\n      await tx.follow.update({\r\n        where: {\r\n          followerApId_followingApId: { followerApId: body.requester_ap_id, followingApId: actor.ap_id },\r\n        },\r\n        data: { status: 'accepted', acceptedAt: new Date().toISOString() },\r\n      });\r\n\r\n      // Update counts atomically\r\n      await tx.actor.update({\r\n        where: { apId: actor.ap_id },\r\n        data: { followerCount: { increment: 1 } },\r\n      });\r\n      if (isLocal(body.requester_ap_id, c.env.APP_URL)) {\r\n        await tx.actor.update({\r\n          where: { apId: body.requester_ap_id },\r\n          data: { followingCount: { increment: 1 } },\r\n        });\r\n      }\r\n\r\n      return follow;\r\n    });\r\n  } catch (e) {\r\n    console.error('[Follow] Transaction error in accept:', e);\r\n    return c.json({ error: 'Internal error' }, 500);\r\n  }\r\n\r\n  if (!pendingFollow) return c.json({ error: 'No pending follow request' }, 404);\r\n\r\n  // Send Accept to remote\r\n  if (!isLocal(body.requester_ap_id, c.env.APP_URL)) {\r\n    const cachedActor = await prisma.actorCache.findUnique({\r\n      where: { apId: body.requester_ap_id },\r\n      select: { inbox: true },\r\n    });\r\n    if (cachedActor?.inbox) {\r\n      const baseUrl = c.env.APP_URL;\r\n      const activityId = activityApId(baseUrl, generateId());\r\n      const acceptActivity = {\r\n        '@context': 'https://www.w3.org/ns/activitystreams',\r\n        id: activityId,\r\n        type: 'Accept',\r\n        actor: actor.ap_id,\r\n        object: pendingFollow.activityApId,\r\n        published: new Date().toISOString(),\r\n      };\r\n\r\n      const keyId = `${actor.ap_id}#main-key`;\r\n      if (!isSafeRemoteUrl(cachedActor.inbox)) {\r\n        console.warn(`[Follow] Blocked unsafe inbox URL: ${cachedActor.inbox}`);\r\n        return c.json({ success: true });\r\n      }\r\n      const headers = await signRequest(actor.private_key_pem, keyId, 'POST', cachedActor.inbox, JSON.stringify(acceptActivity));\r\n\r\n      // P07: Add timeout for activity delivery\r\n      try {\r\n        const acceptController = new AbortController();\r\n        const acceptTimeoutId = setTimeout(() => acceptController.abort(), REMOTE_FETCH_TIMEOUT_MS);\r\n        try {\r\n          await fetch(cachedActor.inbox, {\r\n            method: 'POST',\r\n            headers: { ...headers, 'Content-Type': 'application/activity+json' },\r\n            body: JSON.stringify(acceptActivity),\r\n            signal: acceptController.signal,\r\n          });\r\n        } finally {\r\n          clearTimeout(acceptTimeoutId);\r\n        }\r\n      } catch (e) {\r\n        console.error('Failed to send Accept:', e);\r\n      }\r\n\r\n      // Store activity\r\n      await prisma.activity.create({\r\n        data: {\r\n          apId: activityId,\r\n          type: 'Accept',\r\n          actorApId: actor.ap_id,\r\n          objectApId: pendingFollow.activityApId || undefined,\r\n          rawJson: JSON.stringify(acceptActivity),\r\n          direction: 'outbound',\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// P07: Maximum batch size for follow accept to prevent DoS\r\nconst MAX_BATCH_ACCEPT_SIZE = 100;\r\n\r\n// Batch accept follow requests\r\nfollow.post('/accept/batch', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const body = await c.req.json<{ requester_ap_ids: string[] }>();\r\n  if (!body.requester_ap_ids || !Array.isArray(body.requester_ap_ids) || body.requester_ap_ids.length === 0) {\r\n    return c.json({ error: 'requester_ap_ids array required' }, 400);\r\n  }\r\n\r\n  // P07: Enforce size limit on batch accept\r\n  if (body.requester_ap_ids.length > MAX_BATCH_ACCEPT_SIZE) {\r\n    return c.json({ error: `Batch size exceeds maximum of ${MAX_BATCH_ACCEPT_SIZE}` }, 400);\r\n  }\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const prisma = c.get('prisma');\r\n  const results: { ap_id: string; success: boolean; error?: string }[] = [];\r\n\r\n  // Batch fetch all pending follows at once\r\n  const pendingFollows = await prisma.follow.findMany({\r\n    where: {\r\n      followerApId: { in: body.requester_ap_ids },\r\n      followingApId: actor.ap_id,\r\n      status: 'pending',\r\n    },\r\n  });\r\n\r\n  const pendingFollowMap = new Map(pendingFollows.map((f) => [f.followerApId, f]));\r\n\r\n  // Batch fetch cached actors for remote followers\r\n  const remoteRequesterIds = body.requester_ap_ids.filter((id) => !isLocal(id, baseUrl));\r\n  const cachedActors = remoteRequesterIds.length > 0\r\n    ? await prisma.actorCache.findMany({\r\n        where: { apId: { in: remoteRequesterIds } },\r\n        select: { apId: true, inbox: true },\r\n      })\r\n    : [];\r\n  const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\r\n\r\n  // Track counts to update\r\n  let followerCountIncrement = 0;\r\n  const localFollowerIds: string[] = [];\r\n  const activitiesToCreate: Array<{\r\n    apId: string;\r\n    type: string;\r\n    actorApId: string;\r\n    objectApId: string | undefined;\r\n    rawJson: string;\r\n    direction: string;\r\n  }> = [];\r\n\r\n  for (const requesterApId of body.requester_ap_ids) {\r\n    try {\r\n      const pendingFollow = pendingFollowMap.get(requesterApId);\r\n\r\n      if (!pendingFollow) {\r\n        results.push({ ap_id: requesterApId, success: false, error: 'No pending follow request' });\r\n        continue;\r\n      }\r\n\r\n      await prisma.follow.update({\r\n        where: {\r\n          followerApId_followingApId: { followerApId: requesterApId, followingApId: actor.ap_id },\r\n        },\r\n        data: { status: 'accepted', acceptedAt: new Date().toISOString() },\r\n      });\r\n\r\n      // Track count updates\r\n      followerCountIncrement++;\r\n      if (isLocal(requesterApId, baseUrl)) {\r\n        localFollowerIds.push(requesterApId);\r\n      }\r\n\r\n      // Send Accept to remote\r\n      if (!isLocal(requesterApId, baseUrl)) {\r\n        const cachedActor = cachedActorMap.get(requesterApId);\r\n        if (cachedActor?.inbox) {\r\n          const activityId = activityApId(baseUrl, generateId());\r\n          const acceptActivity = {\r\n            '@context': 'https://www.w3.org/ns/activitystreams',\r\n            id: activityId,\r\n            type: 'Accept',\r\n            actor: actor.ap_id,\r\n            object: pendingFollow.activityApId,\r\n            published: new Date().toISOString(),\r\n          };\r\n\r\n          const keyId = `${actor.ap_id}#main-key`;\r\n          if (!isSafeRemoteUrl(cachedActor.inbox)) {\r\n            console.warn(`[Follow] Blocked unsafe inbox URL: ${cachedActor.inbox}`);\r\n          } else {\r\n            const headers = await signRequest(actor.private_key_pem, keyId, 'POST', cachedActor.inbox, JSON.stringify(acceptActivity));\r\n\r\n            // Log failures instead of silently swallowing them\r\n            fetch(cachedActor.inbox, {\r\n              method: 'POST',\r\n              headers: { ...headers, 'Content-Type': 'application/activity+json' },\r\n              body: JSON.stringify(acceptActivity),\r\n            }).catch((err) => {\r\n              console.error(`[Follow] Batch Accept delivery failed to ${cachedActor.inbox}:`, err);\r\n            });\r\n\r\n            activitiesToCreate.push({\r\n              apId: activityId,\r\n              type: 'Accept',\r\n              actorApId: actor.ap_id,\r\n              objectApId: pendingFollow.activityApId || undefined,\r\n              rawJson: JSON.stringify(acceptActivity),\r\n              direction: 'outbound',\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      results.push({ ap_id: requesterApId, success: true });\r\n    } catch (e) {\r\n      results.push({ ap_id: requesterApId, success: false, error: 'Internal error' });\r\n    }\r\n  }\r\n\r\n  // Batch update counts - single update for actor's follower count\r\n  if (followerCountIncrement > 0) {\r\n    await prisma.actor.update({\r\n      where: { apId: actor.ap_id },\r\n      data: { followerCount: { increment: followerCountIncrement } },\r\n    });\r\n  }\r\n\r\n  // Batch update following counts for local followers\r\n  if (localFollowerIds.length > 0) {\r\n    await prisma.actor.updateMany({\r\n      where: { apId: { in: localFollowerIds } },\r\n      data: { followingCount: { increment: 1 } },\r\n    });\r\n  }\r\n\r\n  // Batch create activities\r\n  if (activitiesToCreate.length > 0) {\r\n    await prisma.activity.createMany({\r\n      data: activitiesToCreate,\r\n    });\r\n  }\r\n\r\n  return c.json({ results, accepted_count: results.filter(r => r.success).length });\r\n});\r\n\r\n// Reject follow request\r\nfollow.post('/reject', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const body = await c.req.json<{ requester_ap_id: string }>();\r\n  if (!body.requester_ap_id) return c.json({ error: 'requester_ap_id required' }, 400);\r\n\r\n  const prisma = c.get('prisma');\r\n\r\n  const pendingFollow = await prisma.follow.findFirst({\r\n    where: {\r\n      followerApId: body.requester_ap_id,\r\n      followingApId: actor.ap_id,\r\n      status: 'pending',\r\n    },\r\n  });\r\n\r\n  if (!pendingFollow) return c.json({ error: 'No pending follow request' }, 404);\r\n\r\n  await prisma.follow.update({\r\n    where: {\r\n      followerApId_followingApId: { followerApId: body.requester_ap_id, followingApId: actor.ap_id },\r\n    },\r\n    data: { status: 'rejected' },\r\n  });\r\n\r\n  if (pendingFollow.activityApId) {\r\n    await prisma.inbox.updateMany({\r\n      where: { actorApId: actor.ap_id, activityApId: pendingFollow.activityApId },\r\n      data: { read: 1 },\r\n    });\r\n  }\r\n\r\n  if (!isLocal(body.requester_ap_id, c.env.APP_URL)) {\r\n    const cachedActor = await prisma.actorCache.findUnique({\r\n      where: { apId: body.requester_ap_id },\r\n      select: { inbox: true },\r\n    });\r\n    if (cachedActor?.inbox) {\r\n      if (!isSafeRemoteUrl(cachedActor.inbox)) {\r\n        console.warn(`[Follow] Blocked unsafe inbox URL: ${cachedActor.inbox}`);\r\n        return c.json({ success: true });\r\n      }\r\n      const baseUrl = c.env.APP_URL;\r\n      const activityId = activityApId(baseUrl, generateId());\r\n      const rejectActivity = {\r\n        '@context': 'https://www.w3.org/ns/activitystreams',\r\n        id: activityId,\r\n        type: 'Reject',\r\n        actor: actor.ap_id,\r\n        object: pendingFollow.activityApId,\r\n        published: new Date().toISOString(),\r\n      };\r\n\r\n      const keyId = `${actor.ap_id}#main-key`;\r\n      const headers = await signRequest(actor.private_key_pem, keyId, 'POST', cachedActor.inbox, JSON.stringify(rejectActivity));\r\n\r\n      // P07: Add timeout for activity delivery\r\n      try {\r\n        const rejectController = new AbortController();\r\n        const rejectTimeoutId = setTimeout(() => rejectController.abort(), REMOTE_FETCH_TIMEOUT_MS);\r\n        try {\r\n          await fetch(cachedActor.inbox, {\r\n            method: 'POST',\r\n            headers: { ...headers, 'Content-Type': 'application/activity+json' },\r\n            body: JSON.stringify(rejectActivity),\r\n            signal: rejectController.signal,\r\n          });\r\n        } finally {\r\n          clearTimeout(rejectTimeoutId);\r\n        }\r\n      } catch (e) {\r\n        console.error('Failed to send Reject:', e);\r\n      }\r\n\r\n      await prisma.activity.create({\r\n        data: {\r\n          apId: activityId,\r\n          type: 'Reject',\r\n          actorApId: actor.ap_id,\r\n          objectApId: pendingFollow.activityApId || undefined,\r\n          rawJson: JSON.stringify(rejectActivity),\r\n          direction: 'outbound',\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// Get pending follow requests\r\nfollow.get('/requests', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const limit = Math.min(parseInt(c.req.query('limit') || '100'), 500);\r\n  const offset = parseInt(c.req.query('offset') || '0');\r\n\r\n  const follows = await prisma.follow.findMany({\r\n    where: { followingApId: actor.ap_id, status: 'pending' },\r\n    orderBy: { createdAt: 'desc' },\r\n    take: limit,\r\n    skip: offset,\r\n  });\r\n\r\n  // Batch load actor info to avoid N+1 queries\r\n  const followerApIds = follows.map((f) => f.followerApId);\r\n  const [localActors, cachedActors] = await Promise.all([\r\n    prisma.actor.findMany({\r\n      where: { apId: { in: followerApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n    prisma.actorCache.findMany({\r\n      where: { apId: { in: followerApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n  ]);\r\n\r\n  const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\r\n  const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\r\n\r\n  const result = follows.map((f) => {\r\n    const actorInfo = localActorMap.get(f.followerApId) || cachedActorMap.get(f.followerApId);\r\n\r\n    return {\r\n      ap_id: f.followerApId,\r\n      username: formatUsername(f.followerApId),\r\n      preferred_username: actorInfo?.preferredUsername || null,\r\n      name: actorInfo?.name || null,\r\n      icon_url: actorInfo?.iconUrl || null,\r\n      created_at: f.createdAt,\r\n    };\r\n  });\r\n\r\n  return c.json({ requests: result });\r\n});\r\n\r\nexport default follow;\r\n", "// Timeline routes for Yurucommu backend\r\nimport { Hono } from 'hono';\r\nimport type { Env, Variables } from '../types';\r\nimport { formatUsername, safeJsonParse } from '../utils';\r\nimport { withCache, CacheTTL, CacheTags } from '../middleware/cache';\r\n\r\nconst timeline = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\ntype Attachment = {\r\n  type?: string;\r\n  mediaType?: string;\r\n  url?: string;\r\n  [key: string]: unknown;\r\n};\r\n\r\n// Batch helper to get author info from either local actors or actor cache\r\n// This avoids N+1 queries by fetching all authors at once\r\nasync function batchGetAuthorInfo(\r\n  prisma: ReturnType<typeof import('../lib/db').getPrismaD1>,\r\n  apIds: string[]\r\n): Promise<Map<string, { preferredUsername: string | null; name: string | null; iconUrl: string | null }>> {\r\n  if (apIds.length === 0) {\r\n    return new Map();\r\n  }\r\n\r\n  const uniqueApIds = [...new Set(apIds)];\r\n\r\n  const [localActors, cachedActors] = await Promise.all([\r\n    prisma.actor.findMany({\r\n      where: { apId: { in: uniqueApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n    prisma.actorCache.findMany({\r\n      where: { apId: { in: uniqueApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n  ]);\r\n\r\n  const result = new Map<string, { preferredUsername: string | null; name: string | null; iconUrl: string | null }>();\r\n\r\n  // Add cached actors first\r\n  for (const a of cachedActors) {\r\n    result.set(a.apId, { preferredUsername: a.preferredUsername, name: a.name, iconUrl: a.iconUrl });\r\n  }\r\n\r\n  // Local actors override cached\r\n  for (const a of localActors) {\r\n    result.set(a.apId, { preferredUsername: a.preferredUsername, name: a.name, iconUrl: a.iconUrl });\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n// Batch helper to check interaction status for multiple objects\r\n// This avoids N+1 queries by fetching all interactions at once\r\nasync function batchGetInteractionStatus(\r\n  prisma: ReturnType<typeof import('../lib/db').getPrismaD1>,\r\n  viewerApId: string,\r\n  objectApIds: string[]\r\n): Promise<{ likedSet: Set<string>; bookmarkedSet: Set<string>; repostedSet: Set<string> }> {\r\n  if (!viewerApId || objectApIds.length === 0) {\r\n    return { likedSet: new Set(), bookmarkedSet: new Set(), repostedSet: new Set() };\r\n  }\r\n\r\n  const [likes, bookmarks, announces] = await Promise.all([\r\n    prisma.like.findMany({\r\n      where: { actorApId: viewerApId, objectApId: { in: objectApIds } },\r\n      select: { objectApId: true },\r\n    }),\r\n    prisma.bookmark.findMany({\r\n      where: { actorApId: viewerApId, objectApId: { in: objectApIds } },\r\n      select: { objectApId: true },\r\n    }),\r\n    prisma.announce.findMany({\r\n      where: { actorApId: viewerApId, objectApId: { in: objectApIds } },\r\n      select: { objectApId: true },\r\n    }),\r\n  ]);\r\n\r\n  return {\r\n    likedSet: new Set(likes.map((l) => l.objectApId)),\r\n    bookmarkedSet: new Set(bookmarks.map((b) => b.objectApId)),\r\n    repostedSet: new Set(announces.map((a) => a.objectApId)),\r\n  };\r\n}\r\n\r\n// Helper to get blocked and muted users\r\nasync function getBlockedAndMutedUsers(\r\n  prisma: ReturnType<typeof import('../lib/db').getPrismaD1>,\r\n  viewerApId: string\r\n): Promise<{ blockedApIds: string[]; mutedApIds: string[] }> {\r\n  if (!viewerApId) {\r\n    return { blockedApIds: [], mutedApIds: [] };\r\n  }\r\n\r\n  const [blocks, mutes] = await Promise.all([\r\n    prisma.block.findMany({\r\n      where: { blockerApId: viewerApId },\r\n      select: { blockedApId: true },\r\n    }),\r\n    prisma.mute.findMany({\r\n      where: { muterApId: viewerApId },\r\n      select: { mutedApId: true },\r\n    }),\r\n  ]);\r\n\r\n  return {\r\n    blockedApIds: blocks.map((b) => b.blockedApId),\r\n    mutedApIds: mutes.map((m) => m.mutedApId),\r\n  };\r\n}\r\n\r\n// Get public timeline\r\n// Supports both cursor (before) and offset pagination\r\n// Returns: posts, limit, offset (if used), has_more\r\n// Cached for 2 minutes for unauthenticated users\r\ntimeline.get('/', withCache({\r\n  ttl: CacheTTL.PUBLIC_TIMELINE,\r\n  cacheTag: CacheTags.TIMELINE,\r\n  queryParamsToInclude: ['limit', 'offset', 'before', 'community'],\r\n}), async (c) => {\r\n  const actor = c.get('actor');\r\n  const prisma = c.get('prisma');\r\n  const limit = Math.min(parseInt(c.req.query('limit') || '20'), 100);\r\n  const offset = parseInt(c.req.query('offset') || '0');\r\n  const before = c.req.query('before');\r\n  const communityApId = c.req.query('community');\r\n\r\n  const viewerApId = actor?.ap_id || '';\r\n\r\n  // Get blocked and muted users for filtering\r\n  const { blockedApIds, mutedApIds } = await getBlockedAndMutedUsers(prisma, viewerApId);\r\n  const excludedApIds = Array.from(new Set([...blockedApIds, ...mutedApIds]));\r\n\r\n  // Build the where clause for objects\r\n  const posts = await prisma.object.findMany({\r\n    where: {\r\n      type: 'Note',\r\n      visibility: 'public',\r\n      inReplyTo: null,\r\n      audienceJson: '[]',\r\n      ...(excludedApIds.length > 0 ? { attributedTo: { notIn: excludedApIds } } : {}),\r\n      ...(communityApId ? { communityApId } : {}),\r\n      ...(before ? { published: { lt: before } } : {}),\r\n    },\r\n    orderBy: { published: 'desc' },\r\n    take: limit + 1,\r\n    skip: offset,\r\n  });\r\n\r\n  // Check if there are more results\r\n  const has_more = posts.length > limit;\r\n  const actualResults = has_more ? posts.slice(0, limit) : posts;\r\n\r\n  // Batch fetch author info and interaction status to avoid N+1 queries\r\n  const authorApIds = actualResults.map((p) => p.attributedTo);\r\n  const postApIds = actualResults.map((p) => p.apId);\r\n\r\n  const [authorMap, interactions] = await Promise.all([\r\n    batchGetAuthorInfo(prisma, authorApIds),\r\n    batchGetInteractionStatus(prisma, viewerApId, postApIds),\r\n  ]);\r\n\r\n  // Map posts to result format\r\n  const result = actualResults.map((p) => {\r\n    const author = authorMap.get(p.attributedTo) || { preferredUsername: null, name: null, iconUrl: null };\r\n\r\n    return {\r\n      ap_id: p.apId,\r\n      type: p.type,\r\n      author: {\r\n        ap_id: p.attributedTo,\r\n        username: formatUsername(p.attributedTo),\r\n        preferred_username: author.preferredUsername,\r\n        name: author.name,\r\n        icon_url: author.iconUrl,\r\n      },\r\n      content: p.content,\r\n      summary: p.summary,\r\n      attachments: safeJsonParse<Attachment[]>(p.attachmentsJson, []),\r\n      in_reply_to: p.inReplyTo,\r\n      visibility: p.visibility,\r\n      community_ap_id: p.communityApId,\r\n      like_count: p.likeCount,\r\n      reply_count: p.replyCount,\r\n      announce_count: p.announceCount,\r\n      published: p.published,\r\n      liked: interactions.likedSet.has(p.apId),\r\n      bookmarked: interactions.bookmarkedSet.has(p.apId),\r\n      reposted: interactions.repostedSet.has(p.apId),\r\n    };\r\n  });\r\n\r\n  return c.json({ posts: result, limit, offset, has_more });\r\n});\r\n\r\n// Get following timeline\r\n// Supports both cursor (before) and offset pagination\r\n// Returns: posts, limit, offset (if used), has_more\r\ntimeline.get('/following', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const limit = Math.min(parseInt(c.req.query('limit') || '20'), 100);\r\n  const offset = parseInt(c.req.query('offset') || '0');\r\n  const before = c.req.query('before');\r\n\r\n  const viewerApId = actor.ap_id;\r\n\r\n  // Get blocked and muted users for filtering\r\n  const { blockedApIds, mutedApIds } = await getBlockedAndMutedUsers(prisma, viewerApId);\r\n  const excludedApIds = Array.from(new Set([...blockedApIds, ...mutedApIds]));\r\n\r\n  // Get the list of users the viewer is following\r\n  const follows = await prisma.follow.findMany({\r\n    where: { followerApId: viewerApId, status: 'accepted' },\r\n    select: { followingApId: true },\r\n  });\r\n  const followingApIds = follows.map((f) => f.followingApId);\r\n\r\n  // Include own posts and followed users' posts\r\n  const allowedAuthors = [viewerApId, ...followingApIds];\r\n\r\n  // Build the where clause for objects\r\n  // For own posts: all visibilities except direct\r\n  // For followed users: public, unlisted, or followers visibility\r\n  const posts = await prisma.object.findMany({\r\n    where: {\r\n      type: 'Note',\r\n      inReplyTo: null,\r\n      audienceJson: '[]',\r\n      attributedTo: { in: allowedAuthors },\r\n      ...(excludedApIds.length > 0 ? { NOT: { attributedTo: { in: excludedApIds } } } : {}),\r\n      ...(before ? { published: { lt: before } } : {}),\r\n      AND: [\r\n        {\r\n          OR: [\r\n            // Own posts (all except direct)\r\n            { attributedTo: viewerApId },\r\n            // Followed users' posts with appropriate visibility\r\n            {\r\n              AND: [\r\n                { attributedTo: { not: viewerApId } },\r\n                { visibility: { in: ['public', 'unlisted', 'followers'] } },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n    orderBy: { published: 'desc' },\r\n    take: limit + 1,\r\n    skip: offset,\r\n  });\r\n\r\n  // Check if there are more results\r\n  const has_more = posts.length > limit;\r\n  const actualResults = has_more ? posts.slice(0, limit) : posts;\r\n\r\n  // Batch fetch author info and interaction status to avoid N+1 queries\r\n  const authorApIds = actualResults.map((p) => p.attributedTo);\r\n  const postApIds = actualResults.map((p) => p.apId);\r\n\r\n  const [authorMap, interactions] = await Promise.all([\r\n    batchGetAuthorInfo(prisma, authorApIds),\r\n    batchGetInteractionStatus(prisma, viewerApId, postApIds),\r\n  ]);\r\n\r\n  // Map posts to result format\r\n  const result = actualResults.map((p) => {\r\n    const author = authorMap.get(p.attributedTo) || { preferredUsername: null, name: null, iconUrl: null };\r\n\r\n    return {\r\n      ap_id: p.apId,\r\n      type: p.type,\r\n      author: {\r\n        ap_id: p.attributedTo,\r\n        username: formatUsername(p.attributedTo),\r\n        preferred_username: author.preferredUsername,\r\n        name: author.name,\r\n        icon_url: author.iconUrl,\r\n      },\r\n      content: p.content,\r\n      summary: p.summary,\r\n      attachments: safeJsonParse<Attachment[]>(p.attachmentsJson, []),\r\n      in_reply_to: p.inReplyTo,\r\n      visibility: p.visibility,\r\n      like_count: p.likeCount,\r\n      reply_count: p.replyCount,\r\n      announce_count: p.announceCount,\r\n      published: p.published,\r\n      liked: interactions.likedSet.has(p.apId),\r\n      bookmarked: interactions.bookmarkedSet.has(p.apId),\r\n      reposted: interactions.repostedSet.has(p.apId),\r\n    };\r\n  });\r\n\r\n  return c.json({ posts: result, limit, offset, has_more });\r\n});\r\n\r\nexport default timeline;\r\n", "\uFEFF// Posts, Likes, and Bookmarks routes for Yurucommu backend\nimport { Hono } from 'hono';\nimport type { Env, Variables } from '../types';\nimport baseRoutes from './posts/base';\nimport interactionRoutes from './posts/interactions';\n\nconst posts = new Hono<{ Bindings: Env; Variables: Variables }>();\n\nposts.route('/', baseRoutes);\nposts.route('/', interactionRoutes);\n\nexport default posts;\r\n", "import { Hono } from 'hono';\r\nimport type { Env, Variables } from '../../types';\r\nimport { generateId, objectApId, activityApId, formatUsername, isLocal, safeJsonParse } from '../../utils';\r\nimport { MAX_POST_CONTENT_LENGTH, MAX_POST_SUMMARY_LENGTH, MAX_POSTS_PAGE_LIMIT, extractMentions, formatPost, normalizeVisibility, parseLimit, PostRow } from './utils';\r\nimport { deliverActivity, deliverActivityToMany } from '../../lib/activitypub-helpers';\r\n\r\nconst posts = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\ntype PostAttachment = {\r\n  type?: string;\r\n  mediaType?: string;\r\n  url?: string;\r\n  [key: string]: unknown;\r\n};\r\n\r\ntype CreatePostBody = {\r\n  content: string;\r\n  summary?: string;\r\n  attachments?: PostAttachment[];\r\n  in_reply_to?: string;\r\n  visibility?: string;\r\n  community_ap_id?: string;\r\n};\r\n\r\ntype PostDetailRow = PostRow & {\r\n  to_json?: string | null;\r\n  bookmarked?: number;\r\n};\r\n\r\n// Create post\r\nposts.post('/', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const body = await c.req.json<CreatePostBody>();\r\n\r\n  const content = body.content?.trim();\r\n  const summary = body.summary?.trim();\r\n\r\n  if (!content) {\r\n    return c.json({ error: 'Content required' }, 400);\r\n  }\r\n  if (content.length > MAX_POST_CONTENT_LENGTH) {\r\n    return c.json({ error: `Content too long (max ${MAX_POST_CONTENT_LENGTH} chars)` }, 400);\r\n  }\r\n  if (summary && summary.length > MAX_POST_SUMMARY_LENGTH) {\r\n    return c.json({ error: `Summary too long (max ${MAX_POST_SUMMARY_LENGTH} chars)` }, 400);\r\n  }\r\n\r\n  const visibility = normalizeVisibility(body.visibility);\r\n  let communityId: string | null = null;\r\n  if (body.community_ap_id) {\r\n    const community = await prisma.community.findFirst({\r\n      where: {\r\n        OR: [\r\n          { apId: body.community_ap_id },\r\n          { preferredUsername: body.community_ap_id }\r\n        ]\r\n      },\r\n      select: { apId: true, postPolicy: true }\r\n    });\r\n\r\n    if (!community) {\r\n      return c.json({ error: 'Community not found' }, 404);\r\n    }\r\n\r\n    communityId = community.apId;\r\n\r\n    const membership = await prisma.communityMember.findUnique({\r\n      where: {\r\n        communityApId_actorApId: {\r\n          communityApId: community.apId,\r\n          actorApId: actor.ap_id\r\n        }\r\n      },\r\n      select: { role: true }\r\n    });\r\n\r\n    const policy = community.postPolicy || 'members';\r\n    const role = membership?.role as 'owner' | 'moderator' | 'member' | undefined;\r\n    const isManager = role === 'owner' || role === 'moderator';\r\n\r\n    if (policy !== 'anyone' && !membership) {\r\n      return c.json({ error: 'Not a community member' }, 403);\r\n    }\r\n    if (policy === 'mods' && !isManager) {\r\n      return c.json({ error: 'Moderator role required' }, 403);\r\n    }\r\n    if (policy === 'owners' && role !== 'owner') {\r\n      return c.json({ error: 'Owner role required' }, 403);\r\n    }\r\n  }\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const postId = generateId();\r\n  const apId = objectApId(baseUrl, postId);\r\n  const now = new Date().toISOString();\r\n\r\n  // Insert the post\r\n  try {\r\n    await prisma.object.create({\r\n      data: {\r\n        apId: apId,\r\n        type: 'Note',\r\n        attributedTo: actor.ap_id,\r\n        content: content,\r\n        summary: summary || null,\r\n        attachmentsJson: JSON.stringify(body.attachments || []),\r\n        inReplyTo: body.in_reply_to || null,\r\n        visibility: visibility,\r\n        communityApId: communityId,\r\n        published: now,\r\n        isLocal: 1\r\n      }\r\n    });\r\n  } catch (e) {\r\n    console.error('[Posts] Failed to insert post:', e);\r\n    return c.json({ error: 'Failed to create post' }, 500);\r\n  }\r\n\r\n  // Update author's post count\r\n  try {\r\n    await prisma.actor.update({\r\n      where: { apId: actor.ap_id },\r\n      data: { postCount: { increment: 1 } }\r\n    });\r\n  } catch (e) {\r\n    console.error('[Posts] Failed to update post count:', e);\r\n    // Non-critical error, continue\r\n  }\r\n\r\n  // If replying to someone, update reply count\r\n  if (body.in_reply_to) {\r\n    try {\r\n      await prisma.object.update({\r\n        where: { apId: body.in_reply_to },\r\n        data: { replyCount: { increment: 1 } }\r\n      });\r\n    } catch (e) {\r\n      console.error('[Posts] Failed to update reply count:', e);\r\n      // Non-critical error, continue\r\n    }\r\n\r\n    // Add to inbox of the post author being replied to (AP Native notification)\r\n    try {\r\n      const parentPost = await prisma.object.findUnique({\r\n        where: { apId: body.in_reply_to },\r\n        select: { attributedTo: true }\r\n      });\r\n      if (parentPost && parentPost.attributedTo !== actor.ap_id && isLocal(parentPost.attributedTo, baseUrl)) {\r\n        // Create activity for the inbox\r\n        const replyActivityId = activityApId(baseUrl, generateId());\r\n        await prisma.activity.create({\r\n          data: {\r\n            apId: replyActivityId,\r\n            type: 'Create',\r\n            actorApId: actor.ap_id,\r\n            objectApId: apId,\r\n            rawJson: JSON.stringify({\r\n              '@context': 'https://www.w3.org/ns/activitystreams',\r\n              id: replyActivityId,\r\n              type: 'Create',\r\n              actor: actor.ap_id,\r\n              object: apId\r\n            }),\r\n            createdAt: now\r\n          }\r\n        });\r\n\r\n        // Add to recipient's inbox\r\n        await prisma.inbox.create({\r\n          data: {\r\n            actorApId: parentPost.attributedTo,\r\n            activityApId: replyActivityId,\r\n            read: 0,\r\n            createdAt: now\r\n          }\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.error('[Posts] Failed to create reply notification:', e);\r\n      // Non-critical error, continue\r\n    }\r\n  }\r\n\r\n  // Process mentions and create notifications\r\n  const mentions = extractMentions(content);\r\n  if (mentions.length > 0) {\r\n    // Batch lookup for local and remote mentions to avoid N+1 queries\r\n    const localMentions = mentions.filter((m) => !m.includes('@'));\r\n    const remoteMentions = mentions.filter((m) => m.includes('@'));\r\n\r\n    // Batch fetch local actors\r\n    const localActors = localMentions.length > 0\r\n      ? await prisma.actor.findMany({\r\n          where: { preferredUsername: { in: localMentions } },\r\n          select: { apId: true, preferredUsername: true },\r\n        })\r\n      : [];\r\n    const localActorMap = new Map(localActors.map((a) => [a.preferredUsername, a.apId]));\r\n\r\n    // Batch fetch cached actors for remote mentions\r\n    // Note: We need to check each remote mention individually as they have username@domain format\r\n    // But we can batch fetch all cached actors and filter client-side\r\n    const cachedActors = remoteMentions.length > 0\r\n      ? await prisma.actorCache.findMany({\r\n          where: {\r\n            preferredUsername: { in: remoteMentions.map((m) => m.split('@')[0]) },\r\n          },\r\n          select: { apId: true, preferredUsername: true },\r\n        })\r\n      : [];\r\n\r\n    // Build remote actor map (username@domain -> apId)\r\n    const remoteActorMap = new Map<string, string>();\r\n    for (const mention of remoteMentions) {\r\n      const [username, domain] = mention.split('@');\r\n      const matching = cachedActors.find(\r\n        (a) => a.preferredUsername === username && a.apId.includes(domain)\r\n      );\r\n      if (matching) {\r\n        remoteActorMap.set(mention, matching.apId);\r\n      }\r\n    }\r\n\r\n    // Get parent post author if replying (for deduplication)\r\n    let parentAuthor: string | null = null;\r\n    if (body.in_reply_to) {\r\n      const parentPost = await prisma.object.findUnique({\r\n        where: { apId: body.in_reply_to },\r\n        select: { attributedTo: true },\r\n      });\r\n      parentAuthor = parentPost?.attributedTo || null;\r\n    }\r\n\r\n    // Collect activities and inbox entries to batch create\r\n    const activitiesToCreate: Array<{\r\n      apId: string;\r\n      type: string;\r\n      actorApId: string;\r\n      objectApId: string;\r\n      rawJson: string;\r\n      createdAt: string;\r\n    }> = [];\r\n    const inboxEntriesToCreate: Array<{\r\n      actorApId: string;\r\n      activityApId: string;\r\n      read: number;\r\n      createdAt: string;\r\n    }> = [];\r\n\r\n    for (const mention of mentions) {\r\n      try {\r\n        let mentionedActorApId: string | null = null;\r\n\r\n        if (mention.includes('@')) {\r\n          mentionedActorApId = remoteActorMap.get(mention) || null;\r\n        } else {\r\n          mentionedActorApId = localActorMap.get(mention) || null;\r\n        }\r\n\r\n        // Skip if not found, is self, or already notified as reply recipient\r\n        if (!mentionedActorApId || mentionedActorApId === actor.ap_id) continue;\r\n        if (parentAuthor === mentionedActorApId) continue; // Already notified via reply\r\n\r\n        // Create mention activity if local\r\n        if (isLocal(mentionedActorApId, baseUrl)) {\r\n          const mentionActivityId = activityApId(baseUrl, generateId());\r\n          activitiesToCreate.push({\r\n            apId: mentionActivityId,\r\n            type: 'Create',\r\n            actorApId: actor.ap_id,\r\n            objectApId: apId,\r\n            rawJson: JSON.stringify({\r\n              '@context': 'https://www.w3.org/ns/activitystreams',\r\n              id: mentionActivityId,\r\n              type: 'Create',\r\n              actor: actor.ap_id,\r\n              object: apId,\r\n            }),\r\n            createdAt: now,\r\n          });\r\n\r\n          inboxEntriesToCreate.push({\r\n            actorApId: mentionedActorApId,\r\n            activityApId: mentionActivityId,\r\n            read: 0,\r\n            createdAt: now,\r\n          });\r\n        }\r\n      } catch (e) {\r\n        console.error(`Failed to process mention ${mention}:`, e);\r\n      }\r\n    }\r\n\r\n    // Batch create activities and inbox entries\r\n    if (activitiesToCreate.length > 0) {\r\n      await prisma.activity.createMany({ data: activitiesToCreate });\r\n    }\r\n    if (inboxEntriesToCreate.length > 0) {\r\n      await prisma.inbox.createMany({ data: inboxEntriesToCreate });\r\n    }\r\n  }\r\n\r\n  // Federate to followers if visibility is public\r\n  if (visibility !== 'direct') {\r\n    const followers = await prisma.follow.findMany({\r\n      where: {\r\n        followingApId: actor.ap_id,\r\n        status: 'accepted'\r\n      },\r\n      select: { followerApId: true },\r\n      distinct: ['followerApId']\r\n    });\r\n\r\n    // Build to/cc fields based on visibility\r\n    const followersUrl = `${actor.ap_id}/followers`;\r\n    const publicUrl = 'https://www.w3.org/ns/activitystreams#Public';\r\n    let toField: string[];\r\n    let ccField: string[];\r\n\r\n    if (visibility === 'public') {\r\n      toField = [publicUrl];\r\n      ccField = [followersUrl];\r\n    } else if (visibility === 'unlisted') {\r\n      toField = [followersUrl];\r\n      ccField = [publicUrl];\r\n    } else if (visibility === 'followers') {\r\n      toField = [followersUrl];\r\n      ccField = [];\r\n    } else {\r\n      // direct - would need specific recipients, for now use empty\r\n      toField = [];\r\n      ccField = [];\r\n    }\r\n\r\n    const createActivity = {\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: activityApId(baseUrl, generateId()),\r\n      type: 'Create',\r\n      actor: actor.ap_id,\r\n      published: now,\r\n      to: toField,\r\n      cc: ccField,\r\n      object: {\r\n        '@context': 'https://www.w3.org/ns/activitystreams',\r\n        id: apId,\r\n        type: 'Note',\r\n        attributedTo: actor.ap_id,\r\n        content,\r\n        summary: summary || null,\r\n        attachment: body.attachments || [],\r\n        inReplyTo: body.in_reply_to || null,\r\n        published: now,\r\n        to: toField,\r\n        cc: ccField,\r\n      },\r\n    };\r\n\r\n    // Send to remote followers (non-blocking background delivery)\r\n    const remoteFollowers = followers.filter((f) => !isLocal(f.followerApId, baseUrl));\r\n\r\n    // Schedule delivery in background - don't await to avoid blocking the response\r\n    // Use Promise.allSettled to ensure all deliveries are attempted even if some fail\r\n    if (remoteFollowers.length > 0) {\r\n      const senderActor = { apId: actor.ap_id, privateKeyPem: actor.private_key_pem };\r\n      Promise.allSettled(\r\n        remoteFollowers.map((follower) =>\r\n          deliverActivity(prisma, senderActor, follower.followerApId, createActivity)\r\n            .then((success) => {\r\n              if (!success) {\r\n                console.warn(`[Posts] Background delivery failed to ${follower.followerApId}`);\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              console.error(`[Posts] Background delivery error to ${follower.followerApId}:`, err);\r\n            })\r\n        )\r\n      ).catch((err) => {\r\n        console.error('[Posts] Background delivery batch error:', err);\r\n      });\r\n    }\r\n\r\n    // Store activity\r\n    await prisma.activity.create({\r\n      data: {\r\n        apId: createActivity.id,\r\n        type: 'Create',\r\n        actorApId: actor.ap_id,\r\n        objectApId: apId,\r\n        rawJson: JSON.stringify(createActivity),\r\n        direction: 'outbound'\r\n      }\r\n    });\r\n  }\r\n\r\n  return c.json({\r\n    ap_id: apId,\r\n    type: 'Note',\r\n    author: {\r\n      ap_id: actor.ap_id,\r\n      username: formatUsername(actor.ap_id),\r\n      preferred_username: actor.preferred_username,\r\n      name: actor.name,\r\n      icon_url: actor.icon_url,\r\n    },\r\n    content,\r\n    summary: summary || null,\r\n    attachments: body.attachments || [],\r\n    visibility,\r\n    published: now,\r\n    like_count: 0,\r\n    reply_count: 0,\r\n    announce_count: 0,\r\n    liked: false,\r\n    bookmarked: false,\r\n  });\r\n});\r\n\r\n// Get single post\r\nposts.get('/:id', async (c) => {\r\n  const currentActor = c.get('actor');\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n  const prisma = c.get('prisma');\r\n\r\n  // Try to find the post with author info\r\n  const postApId = objectApId(baseUrl, postId);\r\n  const post = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: postApId },\r\n        { apId: postId }\r\n      ]\r\n    },\r\n    include: {\r\n      author: {\r\n        select: {\r\n          preferredUsername: true,\r\n          name: true,\r\n          iconUrl: true\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  if (!post) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Try to get cached actor info if author is remote\r\n  let authorUsername: string | null | undefined = post.author?.preferredUsername;\r\n  let authorName: string | null | undefined = post.author?.name;\r\n  let authorIconUrl: string | null | undefined = post.author?.iconUrl;\r\n\r\n  if (!authorUsername) {\r\n    const cachedActor = await prisma.actorCache.findUnique({\r\n      where: { apId: post.attributedTo },\r\n      select: { preferredUsername: true, name: true, iconUrl: true }\r\n    });\r\n    if (cachedActor) {\r\n      authorUsername = cachedActor.preferredUsername;\r\n      authorName = cachedActor.name;\r\n      authorIconUrl = cachedActor.iconUrl;\r\n    }\r\n  }\r\n\r\n  // Check liked and bookmarked status\r\n  let liked = false;\r\n  let bookmarked = false;\r\n  if (currentActor) {\r\n    const likeExists = await prisma.like.findUnique({\r\n      where: {\r\n        actorApId_objectApId: {\r\n          actorApId: currentActor.ap_id,\r\n          objectApId: post.apId\r\n        }\r\n      }\r\n    });\r\n    liked = !!likeExists;\r\n\r\n    const bookmarkExists = await prisma.bookmark.findUnique({\r\n      where: {\r\n        actorApId_objectApId: {\r\n          actorApId: currentActor.ap_id,\r\n          objectApId: post.apId\r\n        }\r\n      }\r\n    });\r\n    bookmarked = !!bookmarkExists;\r\n  }\r\n\r\n  // Check visibility\r\n  if (post.visibility === 'followers') {\r\n    if (!currentActor) {\r\n      return c.json({ error: 'Post not found' }, 404);\r\n    }\r\n    if (currentActor.ap_id !== post.attributedTo) {\r\n      const follows = await prisma.follow.findUnique({\r\n        where: {\r\n          followerApId_followingApId: {\r\n            followerApId: currentActor.ap_id,\r\n            followingApId: post.attributedTo\r\n          },\r\n          status: 'accepted'\r\n        }\r\n      });\r\n      if (!follows) {\r\n        return c.json({ error: 'Post not found' }, 404);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (post.visibility === 'direct') {\r\n    if (!currentActor) {\r\n      return c.json({ error: 'Post not found' }, 404);\r\n    }\r\n    if (currentActor.ap_id !== post.attributedTo) {\r\n      const recipients = safeJsonParse<string[]>(post.toJson, []);\r\n      if (!recipients.includes(currentActor.ap_id)) {\r\n        return c.json({ error: 'Post not found' }, 404);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Build PostRow-compatible object for formatPost\r\n  const postRow: PostDetailRow = {\r\n    ap_id: post.apId,\r\n    type: post.type,\r\n    attributed_to: post.attributedTo,\r\n    author_username: authorUsername || null,\r\n    author_name: authorName || null,\r\n    author_icon_url: authorIconUrl || null,\r\n    content: post.content,\r\n    summary: post.summary,\r\n    attachments_json: post.attachmentsJson,\r\n    in_reply_to: post.inReplyTo,\r\n    visibility: post.visibility,\r\n    community_ap_id: post.communityApId,\r\n    like_count: post.likeCount,\r\n    reply_count: post.replyCount,\r\n    announce_count: post.announceCount,\r\n    published: post.published,\r\n    liked: liked ? 1 : 0,\r\n    bookmarked: bookmarked ? 1 : 0,\r\n    to_json: post.toJson\r\n  };\r\n\r\n  return c.json({ post: formatPost(postRow, currentActor?.ap_id) });\r\n});\r\n\r\n// Get post replies\r\nposts.get('/:id/replies', async (c) => {\r\n  const currentActor = c.get('actor');\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n  const limit = parseLimit(c.req.query('limit'), 20, MAX_POSTS_PAGE_LIMIT);\r\n  const before = c.req.query('before');\r\n  const prisma = c.get('prisma');\r\n\r\n  // Verify post exists\r\n  const postApId = objectApId(baseUrl, postId);\r\n  const parentPost = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: postApId },\r\n        { apId: postId }\r\n      ]\r\n    },\r\n    select: { apId: true }\r\n  });\r\n\r\n  if (!parentPost) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Build where clause\r\n  const whereClause: {\r\n    inReplyTo: string;\r\n    published?: { lt: string };\r\n  } = {\r\n    inReplyTo: parentPost.apId\r\n  };\r\n\r\n  if (before) {\r\n    whereClause.published = { lt: before };\r\n  }\r\n\r\n  // Get replies\r\n  const replies = await prisma.object.findMany({\r\n    where: whereClause,\r\n    include: {\r\n      author: {\r\n        select: {\r\n          preferredUsername: true,\r\n          name: true,\r\n          iconUrl: true\r\n        }\r\n      }\r\n    },\r\n    orderBy: { published: 'desc' },\r\n    take: limit\r\n  });\r\n\r\n  // Batch load cached authors for replies without local author\r\n  const repliesWithoutAuthor = replies.filter((r) => !r.author);\r\n  const cachedAuthorApIds = [...new Set(repliesWithoutAuthor.map((r) => r.attributedTo))];\r\n  const cachedAuthors = cachedAuthorApIds.length > 0\r\n    ? await prisma.actorCache.findMany({\r\n        where: { apId: { in: cachedAuthorApIds } },\r\n        select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n      })\r\n    : [];\r\n  const cachedAuthorMap = new Map(cachedAuthors.map((a) => [a.apId, a]));\r\n\r\n  // Batch load likes and bookmarks if user is logged in\r\n  const replyApIds = replies.map((r) => r.apId);\r\n  const likedReplyIds = new Set<string>();\r\n  const bookmarkedReplyIds = new Set<string>();\r\n\r\n  if (currentActor) {\r\n    const [likes, bookmarks] = await Promise.all([\r\n      prisma.like.findMany({\r\n        where: { actorApId: currentActor.ap_id, objectApId: { in: replyApIds } },\r\n        select: { objectApId: true },\r\n      }),\r\n      prisma.bookmark.findMany({\r\n        where: { actorApId: currentActor.ap_id, objectApId: { in: replyApIds } },\r\n        select: { objectApId: true },\r\n      }),\r\n    ]);\r\n    likes.forEach((l) => likedReplyIds.add(l.objectApId));\r\n    bookmarks.forEach((b) => bookmarkedReplyIds.add(b.objectApId));\r\n  }\r\n\r\n  // Process replies to match PostRow format\r\n  const result = replies.map((reply) => {\r\n    // Get author info (from local actor or cache)\r\n    let authorUsername: string | null | undefined = reply.author?.preferredUsername;\r\n    let authorName: string | null | undefined = reply.author?.name;\r\n    let authorIconUrl: string | null | undefined = reply.author?.iconUrl;\r\n\r\n    if (!authorUsername) {\r\n      const cachedActor = cachedAuthorMap.get(reply.attributedTo);\r\n      if (cachedActor) {\r\n        authorUsername = cachedActor.preferredUsername;\r\n        authorName = cachedActor.name;\r\n        authorIconUrl = cachedActor.iconUrl;\r\n      }\r\n    }\r\n\r\n    const liked = likedReplyIds.has(reply.apId);\r\n    const bookmarked = bookmarkedReplyIds.has(reply.apId);\r\n\r\n    const postRow: PostRow = {\r\n      ap_id: reply.apId,\r\n      type: reply.type,\r\n      attributed_to: reply.attributedTo,\r\n      author_username: authorUsername || null,\r\n      author_name: authorName || null,\r\n      author_icon_url: authorIconUrl || null,\r\n      content: reply.content,\r\n      summary: reply.summary,\r\n      attachments_json: reply.attachmentsJson,\r\n      in_reply_to: reply.inReplyTo,\r\n      visibility: reply.visibility,\r\n      community_ap_id: reply.communityApId,\r\n      like_count: reply.likeCount,\r\n      reply_count: reply.replyCount,\r\n      announce_count: reply.announceCount,\r\n      published: reply.published,\r\n      liked: liked ? 1 : 0\r\n    };\r\n\r\n    return formatPost(postRow, currentActor?.ap_id);\r\n  });\r\n\r\n  return c.json({ replies: result });\r\n});\r\n\r\n// Edit post\r\nposts.patch('/:id', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n  const body = await c.req.json<{ content?: string; summary?: string }>();\r\n  const prisma = c.get('prisma');\r\n\r\n  // Get the post\r\n  const postApId = objectApId(baseUrl, postId);\r\n  const post = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: postApId },\r\n        { apId: postId }\r\n      ]\r\n    }\r\n  });\r\n\r\n  if (!post) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Only author can edit\r\n  if (post.attributedTo !== actor.ap_id) {\r\n    return c.json({ error: 'Forbidden' }, 403);\r\n  }\r\n\r\n  // Validate content\r\n  let trimmedContent: string | undefined;\r\n  if (body.content !== undefined) {\r\n    trimmedContent = body.content.trim();\r\n    if (trimmedContent.length === 0) {\r\n      return c.json({ error: 'Content cannot be empty' }, 400);\r\n    }\r\n    if (trimmedContent.length > MAX_POST_CONTENT_LENGTH) {\r\n      return c.json({ error: `Content too long (max ${MAX_POST_CONTENT_LENGTH} chars)` }, 400);\r\n    }\r\n  }\r\n  let trimmedSummary: string | undefined;\r\n  if (body.summary !== undefined) {\r\n    trimmedSummary = body.summary.trim();\r\n    if (trimmedSummary.length > MAX_POST_SUMMARY_LENGTH) {\r\n      return c.json({ error: `Summary too long (max ${MAX_POST_SUMMARY_LENGTH} chars)` }, 400);\r\n    }\r\n  }\r\n\r\n  const nextContent = body.content !== undefined ? (trimmedContent as string) : post.content;\r\n  const nextSummary = body.summary !== undefined ? trimmedSummary || null : post.summary;\r\n\r\n  const now = new Date().toISOString();\r\n\r\n  // Build update data\r\n  const updateData: {\r\n    content?: string;\r\n    summary?: string | null;\r\n    updated: string;\r\n  } = {\r\n    updated: now\r\n  };\r\n\r\n  if (body.content !== undefined) {\r\n    updateData.content = trimmedContent;\r\n  }\r\n  if (body.summary !== undefined) {\r\n    updateData.summary = trimmedSummary || null;\r\n  }\r\n\r\n  if (Object.keys(updateData).length === 1) {\r\n    // Only updated timestamp, no real changes\r\n    return c.json({ error: 'No changes provided' }, 400);\r\n  }\r\n\r\n  await prisma.object.update({\r\n    where: { apId: post.apId },\r\n    data: updateData\r\n  });\r\n\r\n  // Send Update activity to followers\r\n  const followers = await prisma.follow.findMany({\r\n    where: {\r\n      followingApId: actor.ap_id,\r\n      status: 'accepted'\r\n    },\r\n    select: { followerApId: true },\r\n    distinct: ['followerApId']\r\n  });\r\n\r\n  const updateActivity = {\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    id: activityApId(baseUrl, generateId()),\r\n    type: 'Update',\r\n    actor: actor.ap_id,\r\n    object: {\r\n      id: post.apId,\r\n      type: 'Note',\r\n      attributedTo: actor.ap_id,\r\n      content: nextContent,\r\n      summary: nextSummary,\r\n      updated: now,\r\n    },\r\n  };\r\n\r\n  // P07: Send to remote followers in parallel with concurrency limit\r\n  const remoteFollowers = followers.filter((f) => !isLocal(f.followerApId, baseUrl));\r\n  const senderActor = { apId: actor.ap_id, privateKeyPem: actor.private_key_pem };\r\n  await deliverActivityToMany(prisma, senderActor, remoteFollowers.map(f => f.followerApId), updateActivity);\r\n\r\n  // Store activity\r\n  await prisma.activity.create({\r\n    data: {\r\n      apId: updateActivity.id,\r\n      type: 'Update',\r\n      actorApId: actor.ap_id,\r\n      objectApId: post.apId,\r\n      rawJson: JSON.stringify(updateActivity),\r\n      direction: 'outbound'\r\n    }\r\n  });\r\n\r\n  return c.json({\r\n    success: true,\r\n    post: {\r\n      ap_id: post.apId,\r\n      content: nextContent,\r\n      summary: nextSummary,\r\n      updated_at: now,\r\n    },\r\n  });\r\n});\r\n\r\n// Delete post\r\nposts.delete('/:id', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n  const prisma = c.get('prisma');\r\n\r\n  // Get the post\r\n  const postApId = objectApId(baseUrl, postId);\r\n  const post = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: postApId },\r\n        { apId: postId }\r\n      ]\r\n    }\r\n  });\r\n\r\n  if (!post) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Only author can delete\r\n  if (post.attributedTo !== actor.ap_id) {\r\n    return c.json({ error: 'Forbidden' }, 403);\r\n  }\r\n\r\n  // Delete the post\r\n  await prisma.object.delete({\r\n    where: { apId: post.apId }\r\n  });\r\n\r\n  // Update author's post count\r\n  await prisma.actor.update({\r\n    where: { apId: actor.ap_id },\r\n    data: {\r\n      postCount: { decrement: 1 }\r\n    }\r\n  });\r\n\r\n  // If this was a reply, update parent's reply count\r\n  if (post.inReplyTo) {\r\n    try {\r\n      await prisma.object.update({\r\n        where: { apId: post.inReplyTo },\r\n        data: {\r\n          replyCount: { decrement: 1 }\r\n        }\r\n      });\r\n    } catch (err) {\r\n      // HIGH FIX: Log the error - parent post may not exist, but we should still log for debugging\r\n      console.warn('[Posts] Failed to decrement parent reply count (parent may not exist):', err);\r\n    }\r\n  }\r\n\r\n  // Send Delete activity to followers\r\n  const followers = await prisma.follow.findMany({\r\n    where: {\r\n      followingApId: actor.ap_id,\r\n      status: 'accepted'\r\n    },\r\n    select: { followerApId: true },\r\n    distinct: ['followerApId']\r\n  });\r\n\r\n  const deleteActivity = {\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    id: activityApId(baseUrl, generateId()),\r\n    type: 'Delete',\r\n    actor: actor.ap_id,\r\n    object: post.apId,\r\n  };\r\n\r\n  // P07: Send to remote followers in parallel with concurrency limit\r\n  const remoteFollowers = followers.filter((f) => !isLocal(f.followerApId, baseUrl));\r\n  const senderActorDelete = { apId: actor.ap_id, privateKeyPem: actor.private_key_pem };\r\n  await deliverActivityToMany(prisma, senderActorDelete, remoteFollowers.map(f => f.followerApId), deleteActivity);\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n\r\nexport default posts;\r\n", "import { formatUsername, parseLimit } from '../../utils';\n\nexport { parseLimit };\n\nexport const MAX_POST_CONTENT_LENGTH = 5000;\nexport const MAX_POST_SUMMARY_LENGTH = 500;\nexport const MAX_POSTS_PAGE_LIMIT = 100;\n\nexport type PostRow = {\n  ap_id: string;\n  type: string;\n  attributed_to: string;\n  author_username: string | null;\n  author_name: string | null;\n  author_icon_url: string | null;\n  content: string;\n  summary: string | null;\n  attachments_json: string | null;\n  in_reply_to: string | null;\n  visibility: string;\n  community_ap_id: string | null;\n  like_count: number;\n  reply_count: number;\n  announce_count: number;\n  published: string;\n  liked?: number | boolean;\n};\n\nexport type FormattedPost = {\n  ap_id: string;\n  type: string;\n  author: {\n    ap_id: string;\n    username: string;\n    preferred_username: string | null;\n    name: string | null;\n    icon_url: string | null;\n  };\n  content: string;\n  summary: string | null;\n  attachments: unknown[];\n  in_reply_to: string | null;\n  visibility: string;\n  community_ap_id: string | null;\n  like_count: number;\n  reply_count: number;\n  announce_count: number;\n  published: string;\n  liked: boolean;\n};\n\nexport function extractMentions(content: string): string[] {\n  const mentionRegex = /@([a-zA-Z0-9_]+(?:@[a-zA-Z0-9.-]+)?)/g;\n  const mentions: string[] = [];\n  let match;\n  while ((match = mentionRegex.exec(content)) !== null) {\n    mentions.push(match[1]);\n  }\n  return [...new Set(mentions)];\n}\n\nexport function formatPost(p: PostRow, currentActorApId?: string): FormattedPost {\n  return {\n    ap_id: p.ap_id,\n    type: p.type,\n    author: {\n      ap_id: p.attributed_to,\n      username: formatUsername(p.attributed_to),\n      preferred_username: p.author_username,\n      name: p.author_name,\n      icon_url: p.author_icon_url,\n    },\n    content: p.content,\n    summary: p.summary,\n    attachments: JSON.parse(p.attachments_json || '[]'),\n    in_reply_to: p.in_reply_to,\n    visibility: p.visibility,\n    community_ap_id: p.community_ap_id,\n    like_count: p.like_count,\n    reply_count: p.reply_count,\n    announce_count: p.announce_count,\n    published: p.published,\n    liked: currentActorApId ? !!p.liked : false,\n  };\n}\n\nexport function normalizeVisibility(value?: string): 'public' | 'unlisted' | 'followers' | 'direct' {\n  if (value === 'private' || value === 'followers_only') return 'followers';\n  if (value === 'public' || value === 'unlisted' || value === 'followers' || value === 'direct') return value;\n  return 'public';\n}\n", "// ActivityPub helper functions for Yurucommu\r\n// Provides utilities for delivering activities to followers\r\n\r\nimport type { Env, Actor } from '../types';\r\nimport type { PrismaClient } from '../../generated/prisma';\r\nimport { generateId, activityApId, isLocal, signRequest, isSafeRemoteUrl, fetchWithTimeout } from '../utils';\r\n\r\n/**\r\n * Actor information needed to send an activity\r\n */\r\ninterface SenderActor {\r\n  apId: string;\r\n  privateKeyPem: string;\r\n}\r\n\r\n/**\r\n * Retry configuration for activity delivery\r\n */\r\nconst DELIVERY_RETRY_CONFIG = {\r\n  maxAttempts: 3,\r\n  baseDelayMs: 1000, // 1 second initial delay\r\n  maxDelayMs: 30000, // 30 seconds max delay\r\n};\r\n\r\n// P07: Concurrency limit for parallel activity delivery\r\nconst DELIVERY_CONCURRENCY_LIMIT = 10;\r\n\r\n/**\r\n * Calculate exponential backoff delay\r\n */\r\nfunction calculateBackoffDelay(attempt: number): number {\r\n  const delay = DELIVERY_RETRY_CONFIG.baseDelayMs * Math.pow(2, attempt);\r\n  return Math.min(delay, DELIVERY_RETRY_CONFIG.maxDelayMs);\r\n}\r\n\r\n/**\r\n * Sleep for a specified duration\r\n */\r\nfunction sleep(ms: number): Promise<void> {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\n/**\r\n * Deliver an activity to a specific recipient's inbox\r\n * Handles: actor cache lookup, URL safety check, signing, and delivery with retry\r\n *\r\n * @param prisma - PrismaClient instance\r\n * @param senderActor - Actor sending the activity (needs apId and privateKeyPem)\r\n * @param recipientApId - AP ID of the recipient to look up in actor_cache\r\n * @param activity - The activity object to deliver\r\n * @returns Promise<boolean> - true if delivery succeeded, false otherwise\r\n */\r\nexport async function deliverActivity(\r\n  prisma: PrismaClient,\r\n  senderActor: SenderActor,\r\n  recipientApId: string,\r\n  activity: object\r\n): Promise<boolean> {\r\n  try {\r\n    const cachedActor = await prisma.actorCache.findUnique({\r\n      where: { apId: recipientApId },\r\n      select: { inbox: true },\r\n    });\r\n\r\n    if (!cachedActor?.inbox) {\r\n      console.warn(`[deliverActivity] No inbox found for ${recipientApId}`);\r\n      return false;\r\n    }\r\n\r\n    if (!isSafeRemoteUrl(cachedActor.inbox)) {\r\n      console.warn(`[deliverActivity] Blocked unsafe inbox URL: ${cachedActor.inbox}`);\r\n      return false;\r\n    }\r\n\r\n    const keyId = `${senderActor.apId}#main-key`;\r\n    const body = JSON.stringify(activity);\r\n\r\n    // Retry logic with exponential backoff\r\n    let lastError: Error | null = null;\r\n    for (let attempt = 0; attempt < DELIVERY_RETRY_CONFIG.maxAttempts; attempt++) {\r\n      try {\r\n        const headers = await signRequest(senderActor.privateKeyPem, keyId, 'POST', cachedActor.inbox, body);\r\n\r\n        const response = await fetchWithTimeout(cachedActor.inbox, {\r\n          method: 'POST',\r\n          headers: { ...headers, 'Content-Type': 'application/activity+json' },\r\n          body,\r\n          timeout: 15000, // 15 second timeout for ActivityPub federation\r\n        });\r\n\r\n        if (response.ok) {\r\n          return true;\r\n        }\r\n\r\n        // Non-retryable status codes (4xx client errors, except rate limiting)\r\n        if (response.status >= 400 && response.status < 500 && response.status !== 429) {\r\n          console.warn(`[deliverActivity] Delivery failed with non-retryable status ${response.status} to ${recipientApId}`);\r\n          return false;\r\n        }\r\n\r\n        // Retryable error (5xx server error or 429 rate limit)\r\n        console.warn(`[deliverActivity] Delivery attempt ${attempt + 1}/${DELIVERY_RETRY_CONFIG.maxAttempts} failed with status ${response.status} to ${recipientApId}`);\r\n        lastError = new Error(`HTTP ${response.status}`);\r\n      } catch (e) {\r\n        lastError = e instanceof Error ? e : new Error(String(e));\r\n        console.warn(`[deliverActivity] Delivery attempt ${attempt + 1}/${DELIVERY_RETRY_CONFIG.maxAttempts} failed to ${recipientApId}:`, e);\r\n      }\r\n\r\n      // Wait before retry (unless it's the last attempt)\r\n      if (attempt < DELIVERY_RETRY_CONFIG.maxAttempts - 1) {\r\n        const delay = calculateBackoffDelay(attempt);\r\n        await sleep(delay);\r\n      }\r\n    }\r\n\r\n    console.error(`[deliverActivity] All ${DELIVERY_RETRY_CONFIG.maxAttempts} delivery attempts failed to ${recipientApId}:`, lastError);\r\n    return false;\r\n  } catch (e) {\r\n    console.error(`[deliverActivity] Failed to deliver to ${recipientApId}:`, e);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Story data from database after transformation\r\ninterface StoryData {\r\n  apId: string;\r\n  attributedTo: string;\r\n  attachment: {\r\n    type: string;\r\n    mediaType: string;\r\n    url: string;\r\n    r2_key: string;\r\n  };\r\n  displayDuration: string;\r\n  overlays?: unknown[];\r\n  endTime: string;\r\n  published: string;\r\n}\r\n\r\n/**\r\n * S28: Safely build URL by joining base and path\r\n * Uses URL constructor for proper handling of path separators\r\n */\r\nfunction safeUrlJoin(baseUrl: string, path: string): string {\r\n  // If path is already absolute URL, return as-is\r\n  if (path.startsWith('http://') || path.startsWith('https://')) {\r\n    return path;\r\n  }\r\n\r\n  try {\r\n    // Validate baseUrl format\r\n    const base = new URL(baseUrl);\r\n\r\n    // Normalize: remove trailing slash from base, ensure path has leading slash\r\n    const normalizedBase = base.origin + base.pathname.replace(/\\/+$/, '');\r\n    const normalizedPath = path.startsWith('/') ? path : '/' + path;\r\n\r\n    return normalizedBase + normalizedPath;\r\n  } catch (error) {\r\n    // If URL parsing fails, fall back to simple concatenation with safety checks\r\n    const cleanBase = baseUrl.replace(/\\/+$/, '');\r\n    const cleanPath = path.startsWith('/') ? path : '/' + path;\r\n    return cleanBase + cleanPath;\r\n  }\r\n}\r\n\r\n/**\r\n * Convert a Story to ActivityPub format\r\n */\r\nexport function storyToActivityPub(story: StoryData, actor: Actor, baseUrl: string): object {\r\n  // S28: Build full attachment URL using safe URL joining\r\n  const attachmentUrl = safeUrlJoin(baseUrl, story.attachment.url);\r\n\r\n  return {\r\n    '@context': [\r\n      'https://www.w3.org/ns/activitystreams',\r\n      {\r\n        'story': 'https://yurucommu.com/ns/story#',\r\n        'Story': 'story:Story',\r\n        'displayDuration': 'story:displayDuration',\r\n        'overlays': { '@id': 'story:overlays', '@container': '@list' },\r\n        'position': 'story:position'\r\n      }\r\n    ],\r\n    'id': story.apId,\r\n    'type': ['Story', 'Note'],\r\n    'attributedTo': actor.ap_id,\r\n    'published': story.published,\r\n    'endTime': story.endTime,\r\n    'to': [`${actor.ap_id}/followers`],\r\n    'attachment': [{\r\n      'type': story.attachment.type,\r\n      'mediaType': story.attachment.mediaType,\r\n      'url': attachmentUrl,\r\n    }],\r\n    'displayDuration': story.displayDuration,\r\n    ...(story.overlays && story.overlays.length > 0 ? { 'overlays': story.overlays } : {}),\r\n  };\r\n}\r\n\r\n/**\r\n * Deliver an activity to all followers of an actor\r\n */\r\nexport async function deliverToFollowers(\r\n  activity: object,\r\n  actor: Actor,\r\n  env: Env,\r\n  prisma: PrismaClient\r\n): Promise<void> {\r\n  const baseUrl = env.APP_URL;\r\n\r\n  // Get all accepted followers\r\n  const followers = await prisma.follow.findMany({\r\n    where: {\r\n      followingApId: actor.ap_id,\r\n      status: 'accepted',\r\n    },\r\n    select: {\r\n      followerApId: true,\r\n    },\r\n    distinct: ['followerApId'],\r\n  });\r\n\r\n  // Filter to remote followers only\r\n  const remoteFollowers = followers.filter(\r\n    (f) => !isLocal(f.followerApId, baseUrl)\r\n  );\r\n\r\n  // P07: Deliver to remote followers in parallel with concurrency limit\r\n  const senderActor: SenderActor = {\r\n    apId: actor.ap_id,\r\n    privateKeyPem: actor.private_key_pem,\r\n  };\r\n\r\n  await deliverActivityToMany(prisma, senderActor, remoteFollowers.map(f => f.followerApId), activity);\r\n}\r\n\r\n/**\r\n * P07: Deliver an activity to multiple recipients in parallel with concurrency limit\r\n * Uses Promise.allSettled for resilience (one failure doesn't stop others)\r\n */\r\nexport async function deliverActivityToMany(\r\n  prisma: PrismaClient,\r\n  senderActor: SenderActor,\r\n  recipientApIds: string[],\r\n  activity: object\r\n): Promise<{ successes: number; failures: number }> {\r\n  if (recipientApIds.length === 0) {\r\n    return { successes: 0, failures: 0 };\r\n  }\r\n\r\n  let successes = 0;\r\n  let failures = 0;\r\n\r\n  // Process in batches to limit concurrency\r\n  for (let i = 0; i < recipientApIds.length; i += DELIVERY_CONCURRENCY_LIMIT) {\r\n    const batch = recipientApIds.slice(i, i + DELIVERY_CONCURRENCY_LIMIT);\r\n    const results = await Promise.allSettled(\r\n      batch.map(recipientApId => deliverActivity(prisma, senderActor, recipientApId, activity))\r\n    );\r\n\r\n    for (const result of results) {\r\n      if (result.status === 'fulfilled' && result.value) {\r\n        successes++;\r\n      } else {\r\n        failures++;\r\n      }\r\n    }\r\n  }\r\n\r\n  return { successes, failures };\r\n}\r\n\r\n/**\r\n * Send Create(Story) activity to followers\r\n */\r\nexport async function sendCreateStoryActivity(\r\n  story: StoryData,\r\n  actor: Actor,\r\n  env: Env,\r\n  prisma: PrismaClient\r\n): Promise<void> {\r\n  const baseUrl = env.APP_URL;\r\n  const storyObject = storyToActivityPub(story, actor, baseUrl);\r\n\r\n  const activityId = activityApId(baseUrl, generateId());\r\n  const activity = {\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    'id': activityId,\r\n    'type': 'Create',\r\n    'actor': actor.ap_id,\r\n    'published': story.published,\r\n    'to': [`${actor.ap_id}/followers`],\r\n    'object': storyObject,\r\n  };\r\n\r\n  // Deliver to followers\r\n  await deliverToFollowers(activity, actor, env, prisma);\r\n\r\n  // Store outbound activity\r\n  await prisma.activity.create({\r\n    data: {\r\n      apId: activityId,\r\n      type: 'Create',\r\n      actorApId: actor.ap_id,\r\n      objectApId: story.apId,\r\n      rawJson: JSON.stringify(activity),\r\n      direction: 'outbound',\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * Send Delete(Story) activity to followers\r\n */\r\nexport async function sendDeleteStoryActivity(\r\n  storyApId: string,\r\n  actor: Actor,\r\n  env: Env,\r\n  prisma: PrismaClient\r\n): Promise<void> {\r\n  const baseUrl = env.APP_URL;\r\n  const activityId = activityApId(baseUrl, generateId());\r\n\r\n  const activity = {\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    'id': activityId,\r\n    'type': 'Delete',\r\n    'actor': actor.ap_id,\r\n    'to': ['https://www.w3.org/ns/activitystreams#Public'],\r\n    'object': storyApId,\r\n  };\r\n\r\n  // Deliver to followers\r\n  await deliverToFollowers(activity, actor, env, prisma);\r\n\r\n  // Store outbound activity\r\n  await prisma.activity.create({\r\n    data: {\r\n      apId: activityId,\r\n      type: 'Delete',\r\n      actorApId: actor.ap_id,\r\n      objectApId: storyApId,\r\n      rawJson: JSON.stringify(activity),\r\n      direction: 'outbound',\r\n    },\r\n  });\r\n}\r\n", "import { Hono } from 'hono';\r\nimport type { Env, Variables } from '../../types';\r\nimport { generateId, objectApId, activityApId, isLocal, formatUsername, safeJsonParse } from '../../utils';\r\nimport { MAX_POSTS_PAGE_LIMIT, formatPost, parseLimit, PostRow } from './utils';\r\nimport { deliverActivity } from '../../lib/activitypub-helpers';\r\n\r\nconst posts = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\n// Like post\r\nposts.post('/:id/like', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  // Get the post\r\n  const post = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: objectApId(baseUrl, postId) },\r\n        { apId: postId }\r\n      ]\r\n    }\r\n  });\r\n\r\n  if (!post) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Check if already liked\r\n  const existingLike = await prisma.like.findUnique({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId\r\n      }\r\n    }\r\n  });\r\n\r\n  if (existingLike) return c.json({ error: 'Already liked' }, 400);\r\n\r\n  // Create like, update count, and store activity atomically\r\n  const likeId = generateId();\r\n  const likeActivityApId = activityApId(baseUrl, likeId);\r\n  const likeActivityRaw = {\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    id: likeActivityApId,\r\n    type: 'Like',\r\n    actor: actor.ap_id,\r\n    object: post.apId,\r\n  };\r\n  const now = new Date().toISOString();\r\n\r\n  // Use transaction to ensure atomicity of like creation, count update, and activity storage\r\n  const shouldNotifyLocal = post.attributedTo !== actor.ap_id && isLocal(post.attributedTo, baseUrl);\r\n\r\n  await prisma.$transaction(async (tx) => {\r\n    // Create like\r\n    await tx.like.create({\r\n      data: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId,\r\n        activityApId: likeActivityApId\r\n      }\r\n    });\r\n\r\n    // Update like count\r\n    await tx.object.update({\r\n      where: { apId: post.apId },\r\n      data: { likeCount: { increment: 1 } }\r\n    });\r\n\r\n    // Store Like activity\r\n    await tx.activity.create({\r\n      data: {\r\n        apId: likeActivityApId,\r\n        type: 'Like',\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId,\r\n        rawJson: JSON.stringify(likeActivityRaw),\r\n        createdAt: now\r\n      }\r\n    });\r\n\r\n    // Add to inbox of post author if local (AP Native notification)\r\n    if (shouldNotifyLocal) {\r\n      await tx.inbox.create({\r\n        data: {\r\n          actorApId: post.attributedTo,\r\n          activityApId: likeActivityApId,\r\n          read: 0,\r\n          createdAt: now\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  // Send Like activity to remote post author (outside transaction - delivery is best-effort)\r\n  if (!isLocal(post.apId, baseUrl)) {\r\n    await deliverActivity(prisma, { apId: actor.ap_id, privateKeyPem: actor.private_key_pem }, post.attributedTo, likeActivityRaw);\r\n  }\r\n\r\n  return c.json({ success: true, liked: true });\r\n});\r\n\r\n// Unlike post\r\nposts.delete('/:id/like', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  // Get the post\r\n  const post = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: objectApId(baseUrl, postId) },\r\n        { apId: postId }\r\n      ]\r\n    }\r\n  });\r\n\r\n  if (!post) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Get the like\r\n  const like = await prisma.like.findUnique({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId\r\n      }\r\n    }\r\n  });\r\n\r\n  if (!like) return c.json({ error: 'Not liked' }, 400);\r\n\r\n  // Use transaction to ensure atomicity of like deletion and count update\r\n  await prisma.$transaction(async (tx) => {\r\n    // Delete the like\r\n    await tx.like.delete({\r\n      where: {\r\n        actorApId_objectApId: {\r\n          actorApId: actor.ap_id,\r\n          objectApId: post.apId\r\n        }\r\n      }\r\n    });\r\n\r\n    // Update like count\r\n    await tx.object.updateMany({\r\n      where: {\r\n        apId: post.apId,\r\n        likeCount: { gt: 0 }\r\n      },\r\n      data: { likeCount: { decrement: 1 } }\r\n    });\r\n  });\r\n\r\n  // Send Undo Like if post is remote (outside transaction - delivery is best-effort)\r\n  if (!isLocal(post.apId, baseUrl)) {\r\n    const undoObject = like.activityApId\r\n      ? like.activityApId\r\n      : {\r\n        type: 'Like',\r\n        actor: actor.ap_id,\r\n        object: post.apId,\r\n      };\r\n    const undoLikeActivity = {\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: activityApId(baseUrl, generateId()),\r\n      type: 'Undo',\r\n      actor: actor.ap_id,\r\n      object: undoObject,\r\n    };\r\n\r\n    const delivered = await deliverActivity(prisma, { apId: actor.ap_id, privateKeyPem: actor.private_key_pem }, post.attributedTo, undoLikeActivity);\r\n    if (delivered) {\r\n      // Store activity (best-effort, outside main transaction)\r\n      await prisma.activity.create({\r\n        data: {\r\n          apId: undoLikeActivity.id,\r\n          type: 'Undo',\r\n          actorApId: actor.ap_id,\r\n          objectApId: post.apId,\r\n          rawJson: JSON.stringify(undoLikeActivity),\r\n          direction: 'outbound'\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return c.json({ success: true, liked: false });\r\n});\r\n\r\n// Repost (Announce)\r\nposts.post('/:id/repost', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  // Get the post\r\n  const post = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: objectApId(baseUrl, postId) },\r\n        { apId: postId }\r\n      ]\r\n    }\r\n  });\r\n\r\n  if (!post) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Check if already reposted\r\n  const existingRepost = await prisma.announce.findUnique({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId\r\n      }\r\n    }\r\n  });\r\n\r\n  if (existingRepost) return c.json({ error: 'Already reposted' }, 400);\r\n\r\n  // Create repost, update count, and store activity atomically\r\n  const announceId = generateId();\r\n  const announceActivityApId = activityApId(baseUrl, announceId);\r\n  const announceActivityRaw = {\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    id: announceActivityApId,\r\n    type: 'Announce',\r\n    actor: actor.ap_id,\r\n    object: post.apId,\r\n    to: ['https://www.w3.org/ns/activitystreams#Public'],\r\n    cc: [actor.ap_id + '/followers'],\r\n  };\r\n  const now = new Date().toISOString();\r\n\r\n  // Use transaction to ensure atomicity of announce creation, count update, and activity storage\r\n  const shouldNotifyLocal = post.attributedTo !== actor.ap_id && isLocal(post.attributedTo, baseUrl);\r\n\r\n  await prisma.$transaction(async (tx) => {\r\n    // Create repost\r\n    await tx.announce.create({\r\n      data: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId,\r\n        activityApId: announceActivityApId\r\n      }\r\n    });\r\n\r\n    // Update announce count\r\n    await tx.object.update({\r\n      where: { apId: post.apId },\r\n      data: { announceCount: { increment: 1 } }\r\n    });\r\n\r\n    // Store Announce activity\r\n    await tx.activity.create({\r\n      data: {\r\n        apId: announceActivityApId,\r\n        type: 'Announce',\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId,\r\n        rawJson: JSON.stringify(announceActivityRaw),\r\n        createdAt: now\r\n      }\r\n    });\r\n\r\n    // Add to inbox of post author if local (AP Native notification)\r\n    if (shouldNotifyLocal) {\r\n      await tx.inbox.create({\r\n        data: {\r\n          actorApId: post.attributedTo,\r\n          activityApId: announceActivityApId,\r\n          read: 0,\r\n          createdAt: now\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  // Send Announce activity to remote post author (outside transaction - delivery is best-effort)\r\n  if (!isLocal(post.apId, baseUrl)) {\r\n    await deliverActivity(prisma, { apId: actor.ap_id, privateKeyPem: actor.private_key_pem }, post.attributedTo, announceActivityRaw);\r\n  }\r\n\r\n  return c.json({ success: true, reposted: true });\r\n});\r\n\r\n// Unrepost (Undo Announce)\r\nposts.delete('/:id/repost', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  // Get the post\r\n  const post = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: objectApId(baseUrl, postId) },\r\n        { apId: postId }\r\n      ]\r\n    }\r\n  });\r\n\r\n  if (!post) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Get the announce\r\n  const announce = await prisma.announce.findUnique({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId\r\n      }\r\n    }\r\n  });\r\n\r\n  if (!announce) return c.json({ error: 'Not reposted' }, 400);\r\n\r\n  // Use transaction to ensure atomicity of announce deletion and count update\r\n  await prisma.$transaction(async (tx) => {\r\n    // Delete the announce\r\n    await tx.announce.delete({\r\n      where: {\r\n        actorApId_objectApId: {\r\n          actorApId: actor.ap_id,\r\n          objectApId: post.apId\r\n        }\r\n      }\r\n    });\r\n\r\n    // Update announce count\r\n    await tx.object.updateMany({\r\n      where: {\r\n        apId: post.apId,\r\n        announceCount: { gt: 0 }\r\n      },\r\n      data: { announceCount: { decrement: 1 } }\r\n    });\r\n  });\r\n\r\n  // Send Undo Announce if post is remote (outside transaction - delivery is best-effort)\r\n  if (!isLocal(post.apId, baseUrl)) {\r\n    const undoAnnounceActivity = {\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: activityApId(baseUrl, generateId()),\r\n      type: 'Undo',\r\n      actor: actor.ap_id,\r\n      object: {\r\n        type: 'Announce',\r\n        actor: actor.ap_id,\r\n        object: post.apId,\r\n      },\r\n    };\r\n\r\n    const delivered = await deliverActivity(prisma, { apId: actor.ap_id, privateKeyPem: actor.private_key_pem }, post.attributedTo, undoAnnounceActivity);\r\n    if (delivered) {\r\n      // Store activity (best-effort, outside main transaction)\r\n      await prisma.activity.create({\r\n        data: {\r\n          apId: undoAnnounceActivity.id,\r\n          type: 'Undo',\r\n          actorApId: actor.ap_id,\r\n          objectApId: post.apId,\r\n          rawJson: JSON.stringify(undoAnnounceActivity),\r\n          direction: 'outbound'\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return c.json({ success: true, reposted: false });\r\n});\r\n\r\n// Bookmark post\r\nposts.post('/:id/bookmark', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  // Get the post\r\n  const post = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: objectApId(baseUrl, postId) },\r\n        { apId: postId }\r\n      ]\r\n    },\r\n    select: { apId: true }\r\n  });\r\n\r\n  if (!post) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Check if already bookmarked\r\n  const existingBookmark = await prisma.bookmark.findUnique({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId\r\n      }\r\n    }\r\n  });\r\n\r\n  if (existingBookmark) return c.json({ error: 'Already bookmarked' }, 400);\r\n\r\n  // Create bookmark\r\n  await prisma.bookmark.create({\r\n    data: {\r\n      actorApId: actor.ap_id,\r\n      objectApId: post.apId\r\n    }\r\n  });\r\n\r\n  return c.json({ success: true, bookmarked: true });\r\n});\r\n\r\n// Remove bookmark\r\nposts.delete('/:id/bookmark', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const postId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  // Get the post\r\n  const post = await prisma.object.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId: objectApId(baseUrl, postId) },\r\n        { apId: postId }\r\n      ]\r\n    },\r\n    select: { apId: true }\r\n  });\r\n\r\n  if (!post) return c.json({ error: 'Post not found' }, 404);\r\n\r\n  // Get the bookmark\r\n  const bookmark = await prisma.bookmark.findUnique({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId\r\n      }\r\n    }\r\n  });\r\n\r\n  if (!bookmark) return c.json({ error: 'Not bookmarked' }, 400);\r\n\r\n  // Delete the bookmark\r\n  await prisma.bookmark.delete({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: post.apId\r\n      }\r\n    }\r\n  });\r\n\r\n  return c.json({ success: true, bookmarked: false });\r\n});\r\n\r\n// Get user's bookmarks\r\nposts.get('/bookmarks', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const limit = parseLimit(c.req.query('limit'), 20, MAX_POSTS_PAGE_LIMIT);\r\n  const before = c.req.query('before');\r\n\r\n  // Get bookmarks with their objects\r\n  const bookmarks = await prisma.bookmark.findMany({\r\n    where: {\r\n      actorApId: actor.ap_id,\r\n      ...(before ? { createdAt: { lt: before } } : {}),\r\n    },\r\n    include: {\r\n      object: true,\r\n    },\r\n    orderBy: { createdAt: 'desc' },\r\n    take: limit,\r\n  });\r\n\r\n  // Batch load author info to avoid N+1 queries\r\n  const authorApIds = [...new Set(bookmarks.map((b) => b.object.attributedTo))];\r\n  const [localActors, cachedActors] = await Promise.all([\r\n    prisma.actor.findMany({\r\n      where: { apId: { in: authorApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n    prisma.actorCache.findMany({\r\n      where: { apId: { in: authorApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n  ]);\r\n\r\n  const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\r\n  const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\r\n\r\n  // Batch load likes for all bookmarked posts\r\n  const postApIds = bookmarks.map((b) => b.object.apId);\r\n  const likes = await prisma.like.findMany({\r\n    where: { actorApId: actor.ap_id, objectApId: { in: postApIds } },\r\n    select: { objectApId: true },\r\n  });\r\n  const likedPostIds = new Set(likes.map((l) => l.objectApId));\r\n\r\n  const result = bookmarks.map((b) => {\r\n    const obj = b.object;\r\n    const authorInfo = localActorMap.get(obj.attributedTo) || cachedActorMap.get(obj.attributedTo);\r\n\r\n    return {\r\n      ap_id: obj.apId,\r\n      type: obj.type,\r\n      author: {\r\n        ap_id: obj.attributedTo,\r\n        username: formatUsername(obj.attributedTo),\r\n        preferred_username: authorInfo?.preferredUsername || null,\r\n        name: authorInfo?.name || null,\r\n        icon_url: authorInfo?.iconUrl || null,\r\n      },\r\n      content: obj.content,\r\n      summary: obj.summary,\r\n      attachments: safeJsonParse(obj.attachmentsJson, []),\r\n      in_reply_to: obj.inReplyTo,\r\n      visibility: obj.visibility,\r\n      community_ap_id: obj.communityApId,\r\n      like_count: obj.likeCount,\r\n      reply_count: obj.replyCount,\r\n      announce_count: obj.announceCount,\r\n      published: obj.published,\r\n      liked: likedPostIds.has(obj.apId),\r\n      bookmarked: true,\r\n      reposted: false,\r\n    };\r\n  });\r\n\r\n  return c.json({ bookmarks: result });\r\n});\r\n\r\nexport default posts;\r\n", "// Notifications routes for Yurucommu backend\r\n// AP Native: Notifications are derived from inbox (activities addressed to the actor)\r\nimport { Hono } from 'hono';\r\nimport type { Env, Variables } from '../types';\r\nimport { formatUsername } from '../utils';\r\nimport type { PrismaClient, Prisma } from '../../generated/prisma';\r\n\r\nconst notifications = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\nconst ARCHIVE_RETENTION_DAYS = 90;\r\n\r\nasync function cleanupArchivedNotifications(prisma: PrismaClient, actorApId: string): Promise<void> {\r\n  const retentionDate = new Date();\r\n  retentionDate.setDate(retentionDate.getDate() - ARCHIVE_RETENTION_DAYS);\r\n  const retentionDateStr = retentionDate.toISOString();\r\n\r\n  // Get archived notification IDs that are past retention period\r\n  const archivedToDelete = await prisma.notificationArchived.findMany({\r\n    where: {\r\n      actorApId,\r\n      archivedAt: { lt: retentionDateStr },\r\n    },\r\n    select: { activityApId: true },\r\n  });\r\n\r\n  if (archivedToDelete.length > 0) {\r\n    const activityApIds = archivedToDelete.map(a => a.activityApId);\r\n\r\n    // Delete from inbox\r\n    await prisma.inbox.deleteMany({\r\n      where: {\r\n        actorApId,\r\n        activityApId: { in: activityApIds },\r\n      },\r\n    });\r\n\r\n    // Delete from notification_archived\r\n    await prisma.notificationArchived.deleteMany({\r\n      where: {\r\n        actorApId,\r\n        archivedAt: { lt: retentionDateStr },\r\n      },\r\n    });\r\n  }\r\n}\r\n\r\n// Map activity types to notification types\r\nfunction activityToNotificationType(activityType: string, hasInReplyTo: boolean, followStatus?: string | null): string | null {\r\n  switch (activityType) {\r\n    case 'Follow':\r\n      return followStatus === 'pending' ? 'follow_request' : 'follow';\r\n    case 'Like':\r\n      return 'like';\r\n    case 'Announce':\r\n      return 'announce';\r\n    case 'Create':\r\n      // Create activity for replies or mentions\r\n      return hasInReplyTo ? 'reply' : 'mention';\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\n// Get notifications with actor details (AP Native: from inbox + activities)\r\n// Supports ?type=follow|like|announce|reply|mention filter\r\n// Supports ?archived=true to show archived notifications\r\nnotifications.get('/', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  await cleanupArchivedNotifications(prisma, actor.ap_id);\r\n\r\n  const limit = Math.min(parseInt(c.req.query('limit') || '20'), 100);\r\n  const offset = parseInt(c.req.query('offset') || '0');\r\n  const before = c.req.query('before');\r\n  const typeFilter = c.req.query('type'); // follow, like, announce, reply, mention\r\n  const showArchived = c.req.query('archived') === 'true';\r\n\r\n  // Map filter type to activity types\r\n  const typeToActivityType: Record<string, string[]> = {\r\n    'follow': ['Follow'],\r\n    'like': ['Like'],\r\n    'announce': ['Announce'],\r\n    'reply': ['Create'], // Create with in_reply_to\r\n    'mention': ['Create'], // Create without in_reply_to\r\n  };\r\n\r\n  // Build activity type filter\r\n  let activityTypes = ['Follow', 'Like', 'Announce', 'Create'];\r\n  if (typeFilter && typeToActivityType[typeFilter]) {\r\n    activityTypes = typeToActivityType[typeFilter];\r\n  }\r\n\r\n  // Get archived activity IDs for this actor\r\n  const archivedActivities = await prisma.notificationArchived.findMany({\r\n    where: { actorApId: actor.ap_id },\r\n    select: { activityApId: true },\r\n  });\r\n  const archivedActivityIds = new Set(archivedActivities.map(a => a.activityApId));\r\n\r\n  // Build where clause for inbox query\r\n  const whereClause: Prisma.InboxWhereInput = {\r\n    actorApId: actor.ap_id,\r\n    activity: {\r\n      actorApId: { not: actor.ap_id },\r\n      type: { in: activityTypes },\r\n    },\r\n  };\r\n\r\n  if (before) {\r\n    whereClause.createdAt = { lt: before };\r\n  }\r\n\r\n  // Get inbox entries with activity data\r\n  const inboxEntries = await prisma.inbox.findMany({\r\n    where: whereClause,\r\n    include: {\r\n      activity: true,\r\n    },\r\n    orderBy: { createdAt: 'desc' },\r\n    take: limit * 5, // Fetch more to account for filtering\r\n  });\r\n\r\n  // Get all unique actor IDs and object IDs for batch fetching\r\n  const actorApIds = [...new Set(inboxEntries.map(i => i.activity.actorApId))];\r\n  const objectApIds = [...new Set(inboxEntries.map(i => i.activity.objectApId).filter((id): id is string => id !== null))];\r\n  const activityApIds = [...new Set(inboxEntries.map(i => i.activityApId))];\r\n\r\n  // Batch fetch actors (local and cached)\r\n  const [localActors, cachedActors, objects, follows] = await Promise.all([\r\n    prisma.actor.findMany({\r\n      where: { apId: { in: actorApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n    prisma.actorCache.findMany({\r\n      where: { apId: { in: actorApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n    prisma.object.findMany({\r\n      where: { apId: { in: objectApIds } },\r\n      select: { apId: true, content: true, inReplyTo: true },\r\n    }),\r\n    prisma.follow.findMany({\r\n      where: { activityApId: { in: activityApIds } },\r\n      select: { activityApId: true, status: true },\r\n    }),\r\n  ]);\r\n\r\n  // Create lookup maps\r\n  const actorMap = new Map<string, { preferredUsername: string | null; name: string | null; iconUrl: string | null }>();\r\n  for (const a of localActors) {\r\n    actorMap.set(a.apId, { preferredUsername: a.preferredUsername, name: a.name, iconUrl: a.iconUrl });\r\n  }\r\n  for (const a of cachedActors) {\r\n    if (!actorMap.has(a.apId)) {\r\n      actorMap.set(a.apId, { preferredUsername: a.preferredUsername, name: a.name, iconUrl: a.iconUrl });\r\n    }\r\n  }\r\n\r\n  const objectMap = new Map<string, { content: string; inReplyTo: string | null }>();\r\n  for (const o of objects) {\r\n    objectMap.set(o.apId, { content: o.content, inReplyTo: o.inReplyTo });\r\n  }\r\n\r\n  const followMap = new Map<string | null, string>();\r\n  for (const f of follows) {\r\n    if (f.activityApId) {\r\n      followMap.set(f.activityApId, f.status);\r\n    }\r\n  }\r\n\r\n  // Filter and process entries\r\n  const processedEntries: Array<{\r\n    activityApId: string;\r\n    read: number;\r\n    createdAt: string;\r\n    activityType: string;\r\n    actorApId: string;\r\n    objectApId: string | null;\r\n    followStatus: string | null;\r\n    actorUsername: string | null;\r\n    actorName: string | null;\r\n    actorIconUrl: string | null;\r\n    objectContent: string | null;\r\n    inReplyTo: string | null;\r\n  }> = [];\r\n\r\n  for (const entry of inboxEntries) {\r\n    const isArchived = archivedActivityIds.has(entry.activityApId);\r\n\r\n    // Filter by archived status\r\n    if (showArchived !== isArchived) {\r\n      continue;\r\n    }\r\n\r\n    const objectData = entry.activity.objectApId ? objectMap.get(entry.activity.objectApId) : null;\r\n    const inReplyTo = objectData?.inReplyTo ?? null;\r\n\r\n    // For reply vs mention distinction\r\n    if (typeFilter === 'reply' && entry.activity.type === 'Create' && !inReplyTo) {\r\n      continue;\r\n    }\r\n    if (typeFilter === 'mention' && entry.activity.type === 'Create' && inReplyTo) {\r\n      continue;\r\n    }\r\n\r\n    const actorData = actorMap.get(entry.activity.actorApId);\r\n    const followStatus = followMap.get(entry.activityApId) ?? null;\r\n\r\n    processedEntries.push({\r\n      activityApId: entry.activityApId,\r\n      read: entry.read,\r\n      createdAt: entry.createdAt,\r\n      activityType: entry.activity.type,\r\n      actorApId: entry.activity.actorApId,\r\n      objectApId: entry.activity.objectApId,\r\n      followStatus,\r\n      actorUsername: actorData?.preferredUsername ?? null,\r\n      actorName: actorData?.name ?? null,\r\n      actorIconUrl: actorData?.iconUrl ?? null,\r\n      objectContent: objectData?.content ?? null,\r\n      inReplyTo,\r\n    });\r\n\r\n    if (processedEntries.length > limit) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Check if there are more results\r\n  const has_more = processedEntries.length > limit;\r\n  const actualResults = has_more ? processedEntries.slice(0, limit) : processedEntries;\r\n\r\n  const notifications_list = actualResults.map((n) => {\r\n    const notifType = activityToNotificationType(n.activityType, !!n.inReplyTo, n.followStatus);\r\n    return {\r\n      id: n.activityApId,\r\n      type: notifType || n.activityType.toLowerCase(),\r\n      object_ap_id: n.objectApId,\r\n      read: !!n.read,\r\n      created_at: n.createdAt,\r\n      actor: {\r\n        ap_id: n.actorApId,\r\n        username: formatUsername(n.actorApId),\r\n        preferred_username: n.actorUsername,\r\n        name: n.actorName,\r\n        icon_url: n.actorIconUrl,\r\n      },\r\n      object_content: n.objectContent || '',\r\n    };\r\n  });\r\n\r\n  return c.json({ notifications: notifications_list, limit, offset, has_more });\r\n});\r\n\r\n// Get unread notification count (AP Native: from inbox)\r\nnotifications.get('/unread/count', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  await cleanupArchivedNotifications(prisma, actor.ap_id);\r\n\r\n  const unreadCount = await prisma.inbox.count({\r\n    where: {\r\n      actorApId: actor.ap_id,\r\n      read: 0,\r\n      activity: {\r\n        actorApId: { not: actor.ap_id },\r\n        type: { in: ['Follow', 'Like', 'Announce', 'Create'] },\r\n      },\r\n    },\r\n  });\r\n\r\n  return c.json({\r\n    count: unreadCount,\r\n  });\r\n});\r\n\r\n// Mark notifications as read (AP Native: updates inbox)\r\nnotifications.post('/read', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const body = await c.req.json<{ ids?: string[]; read_all?: boolean }>();\r\n\r\n  if (body.read_all) {\r\n    // Mark all inbox entries as read\r\n    await prisma.inbox.updateMany({\r\n      where: { actorApId: actor.ap_id },\r\n      data: { read: 1 },\r\n    });\r\n  } else if (body.ids && body.ids.length > 0) {\r\n    // Mark specific activities as read in inbox\r\n    await prisma.inbox.updateMany({\r\n      where: {\r\n        actorApId: actor.ap_id,\r\n        activityApId: { in: body.ids },\r\n      },\r\n      data: { read: 1 },\r\n    });\r\n  } else {\r\n    return c.json({ error: 'Either ids array or read_all flag is required' }, 400);\r\n  }\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// Archive notifications\r\nnotifications.post('/archive', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const body = await c.req.json<{ ids: string[] }>();\r\n  if (!body.ids || body.ids.length === 0) {\r\n    return c.json({ error: 'ids array is required' }, 400);\r\n  }\r\n\r\n  const now = new Date().toISOString();\r\n  let archivedCount = 0;\r\n\r\n  for (const id of body.ids) {\r\n    try {\r\n      await prisma.notificationArchived.create({\r\n        data: {\r\n          actorApId: actor.ap_id,\r\n          activityApId: id,\r\n          archivedAt: now,\r\n        },\r\n      });\r\n      archivedCount++;\r\n    } catch {\r\n      // Ignore duplicate key errors (already archived)\r\n    }\r\n  }\r\n\r\n  return c.json({ success: true, archived_count: archivedCount });\r\n});\r\n\r\n// Unarchive notifications\r\nnotifications.delete('/archive', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const body = await c.req.json<{ ids: string[] }>();\r\n  if (!body.ids || body.ids.length === 0) {\r\n    return c.json({ error: 'ids array is required' }, 400);\r\n  }\r\n\r\n  await prisma.notificationArchived.deleteMany({\r\n    where: {\r\n      actorApId: actor.ap_id,\r\n      activityApId: { in: body.ids },\r\n    },\r\n  });\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// Archive all notifications\r\n// P07: Reduced cap from 5000 to 1000 and batch process inserts\r\nconst ARCHIVE_ALL_CAP = 1000;\r\nconst ARCHIVE_BATCH_SIZE = 100;\r\n\r\nnotifications.post('/archive/all', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const now = new Date().toISOString();\r\n\r\n  // P07: Get already archived IDs to filter them out before inserting\r\n  const alreadyArchived = await prisma.notificationArchived.findMany({\r\n    where: { actorApId: actor.ap_id },\r\n    select: { activityApId: true },\r\n    take: ARCHIVE_ALL_CAP,\r\n  });\r\n  const alreadyArchivedIds = new Set(alreadyArchived.map(a => a.activityApId));\r\n\r\n  // Get activity IDs from inbox (reduced cap for safety)\r\n  const inboxItems = await prisma.inbox.findMany({\r\n    where: { actorApId: actor.ap_id },\r\n    select: { activityApId: true },\r\n    take: ARCHIVE_ALL_CAP,\r\n  });\r\n\r\n  // Filter out already archived items\r\n  const toArchive = inboxItems.filter(item => !alreadyArchivedIds.has(item.activityApId));\r\n\r\n  let archivedCount = 0;\r\n\r\n  // P07: Batch process inserts to avoid N+1\r\n  for (let i = 0; i < toArchive.length; i += ARCHIVE_BATCH_SIZE) {\r\n    const batch = toArchive.slice(i, i + ARCHIVE_BATCH_SIZE);\r\n    const batchData = batch.map(item => ({\r\n      actorApId: actor.ap_id,\r\n      activityApId: item.activityApId,\r\n      archivedAt: now,\r\n    }));\r\n\r\n    try {\r\n      // Use createMany for batch insert\r\n      const result = await prisma.notificationArchived.createMany({\r\n        data: batchData,\r\n      });\r\n      archivedCount += result.count;\r\n    } catch (e) {\r\n      // Unique constraint errors are expected for duplicates, ignore them\r\n      // For other errors, log and continue\r\n      const error = e as { code?: string };\r\n      if (error.code !== 'P2002') {\r\n        console.error('[Notifications] Batch archive error:', e);\r\n      }\r\n      // Continue with other batches even if one fails\r\n    }\r\n  }\r\n\r\n  return c.json({ success: true, archived_count: archivedCount });\r\n});\r\n\r\nexport default notifications;\r\n", "\uFEFF// Story routes for Yurucommu backend\n// v2: 1 Story = 1 Media (Instagram style)\nimport { Hono } from 'hono';\nimport type { Env, Variables } from '../types';\nimport baseRoutes from './stories/base';\nimport interactionRoutes from './stories/interactions';\n\nconst stories = new Hono<{ Bindings: Env; Variables: Variables }>();\n\nstories.route('/', baseRoutes);\nstories.route('/', interactionRoutes);\n\nexport default stories;\r\n", "// Story routes for Yurucommu backend\n// v2: 1 Story = 1 Media (Instagram style)\nimport { Hono } from 'hono';\nimport type { Env, Variables, APObject } from '../../types';\nimport { generateId, objectApId, actorApId, formatUsername, activityApId, isLocal, signRequest, isSafeRemoteUrl } from '../../utils';\nimport { sendCreateStoryActivity, sendDeleteStoryActivity } from '../../lib/activitypub-helpers';\nimport { cleanupExpiredStories, transformStoryData, validateOverlays } from './utils';\nimport type { PrismaClient } from '../../../generated/prisma';\n\nconst stories = new Hono<{ Bindings: Env; Variables: Variables }>();\n\ntype VoteResults = Record<number, number>;\n\ntype StoryAuthor = {\n  ap_id: string;\n  username: string;\n  preferred_username: string | null;\n  name: string | null;\n  icon_url: string | null;\n};\n\ntype StoryResponse = {\n  ap_id: string;\n  author: StoryAuthor;\n  attachment: ReturnType<typeof transformStoryData>['attachment'];\n  displayDuration: string;\n  overlays?: ReturnType<typeof transformStoryData>['overlays'];\n  end_time: string;\n  published: string;\n  viewed: boolean;\n  like_count: number;\n  share_count: number;\n  liked: boolean;\n  votes?: VoteResults;\n  votes_total?: number;\n  user_vote?: number;\n};\n\ntype StoryCreateBody = {\n  attachment: {\n    r2_key: string;\n    content_type: string;\n    width?: number;\n    height?: number;\n  };\n  displayDuration: string;\n  overlays?: unknown[];\n};\n\n// Get active stories from followed users and self (grouped by author)\nstories.get('/', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const prisma = c.get('prisma');\n  const baseUrl = c.env.APP_URL;\n  const now = new Date().toISOString();\n\n  // Probabilistic cleanup: 1% chance to run cleanup on each request\n  if (Math.random() < 0.01) {\n    // Run cleanup in background (don't await)\n    cleanupExpiredStories(prisma).catch(() => {});\n  }\n\n  // Get followed user IDs\n  const follows = await prisma.follow.findMany({\n    where: {\n      followerApId: actor.ap_id,\n      status: 'accepted',\n    },\n    select: {\n      followingApId: true,\n    },\n  });\n  const followedIds = follows.map(f => f.followingApId);\n  followedIds.push(actor.ap_id); // Include self\n\n  // Get blocked and muted user IDs\n  const blocks = await prisma.block.findMany({\n    where: {\n      blockerApId: actor.ap_id,\n    },\n    select: {\n      blockedApId: true,\n    },\n  });\n  const blockedIds = blocks.map(b => b.blockedApId);\n\n  const mutes = await prisma.mute.findMany({\n    where: {\n      muterApId: actor.ap_id,\n    },\n    select: {\n      mutedApId: true,\n    },\n  });\n  const mutedIds = mutes.map(m => m.mutedApId);\n\n  // Get stories from followed users (excluding blocked/muted)\n  const storiesData = await prisma.object.findMany({\n    where: {\n      type: 'Story',\n      endTime: { gt: now },\n      attributedTo: {\n        in: followedIds,\n        notIn: [...blockedIds, ...mutedIds],\n      },\n    },\n    include: {\n      author: {\n        select: {\n          apId: true,\n          preferredUsername: true,\n          name: true,\n          iconUrl: true,\n        },\n      },\n      storyViews: {\n        where: { actorApId: actor.ap_id },\n        select: { actorApId: true },\n      },\n      likes: {\n        where: { actorApId: actor.ap_id },\n        select: { actorApId: true },\n      },\n    },\n    orderBy: [\n      { endTime: 'desc' },\n    ],\n  });\n\n  // Get all story ap_ids for batch vote query\n  const storyApIds = storiesData.map(s => s.apId);\n\n  // Batch query for all votes\n  let allVotes: Record<string, VoteResults> = {};\n  let userVotes: Record<string, number> = {};\n\n  if (storyApIds.length > 0) {\n    // Get vote counts grouped by story and option\n    const votes = await prisma.storyVote.groupBy({\n      by: ['storyApId', 'optionIndex'],\n      where: {\n        storyApId: { in: storyApIds },\n      },\n      _count: {\n        id: true,\n      },\n    });\n\n    votes.forEach(v => {\n      if (!allVotes[v.storyApId]) {\n        allVotes[v.storyApId] = {};\n      }\n      allVotes[v.storyApId][v.optionIndex] = v._count.id;\n    });\n\n    // Get user's own votes\n    const userVotesData = await prisma.storyVote.findMany({\n      where: {\n        storyApId: { in: storyApIds },\n        actorApId: actor.ap_id,\n      },\n      select: {\n        storyApId: true,\n        optionIndex: true,\n      },\n    });\n\n    userVotesData.forEach(v => {\n      userVotes[v.storyApId] = v.optionIndex;\n    });\n  }\n\n  // Try to get author info from actor_cache for remote authors\n  const remoteAuthorIds = [...new Set(storiesData.filter(s => !s.author).map(s => s.attributedTo))];\n  let actorCacheMap: Record<string, { preferredUsername: string | null; name: string | null; iconUrl: string | null }> = {};\n\n  if (remoteAuthorIds.length > 0) {\n    const cachedActors = await prisma.actorCache.findMany({\n      where: { apId: { in: remoteAuthorIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n    });\n    cachedActors.forEach(a => {\n      actorCacheMap[a.apId] = { preferredUsername: a.preferredUsername, name: a.name, iconUrl: a.iconUrl };\n    });\n  }\n\n  // Group by author\n  const grouped: Record<string, { actor: StoryAuthor; stories: StoryResponse[]; has_unviewed: boolean }> = {};\n  const authorOrder: string[] = [];\n\n  storiesData.forEach(s => {\n    const authorApId = s.attributedTo;\n    const authorData = s.author || actorCacheMap[authorApId];\n    const authorInfo: StoryAuthor = {\n      ap_id: authorApId,\n      username: formatUsername(authorApId),\n      preferred_username: authorData?.preferredUsername || null,\n      name: authorData?.name || null,\n      icon_url: authorData?.iconUrl || null,\n    };\n\n    if (!grouped[authorApId]) {\n      grouped[authorApId] = {\n        actor: authorInfo,\n        stories: [],\n        has_unviewed: false,\n      };\n      // Add self first, then others\n      if (authorApId === actor.ap_id) {\n        authorOrder.unshift(authorApId);\n      } else {\n        authorOrder.push(authorApId);\n      }\n    }\n\n    const isViewed = s.storyViews.length > 0;\n    if (!isViewed) {\n      grouped[authorApId].has_unviewed = true;\n    }\n\n    // Transform to new format\n    const storyData = transformStoryData(s.attachmentsJson);\n\n    // Calculate vote totals\n    const storyVotes = allVotes[s.apId] || {};\n    const total = Object.values(storyVotes).reduce((sum: number, count: number) => sum + count, 0);\n\n    grouped[authorApId].stories.push({\n      ap_id: s.apId,\n      author: authorInfo,\n      attachment: storyData.attachment,\n      displayDuration: storyData.displayDuration,\n      overlays: storyData.overlays,\n      end_time: s.endTime || '',\n      published: s.published,\n      viewed: isViewed,\n      like_count: s.likeCount,\n      share_count: s.shareCount || 0,\n      liked: s.likes.length > 0,\n      votes: storyVotes,\n      votes_total: total,\n      user_vote: userVotes[s.apId],\n    });\n  });\n\n  // Sort stories within each group: unviewed first, then by end_time desc\n  Object.keys(grouped).forEach(authorApId => {\n    grouped[authorApId].stories.sort((a, b) => {\n      // Unviewed first\n      if (!a.viewed && b.viewed) return -1;\n      if (a.viewed && !b.viewed) return 1;\n      // Then by end_time desc\n      return b.end_time.localeCompare(a.end_time);\n    });\n  });\n\n  // Sort author groups: those with unviewed stories first\n  authorOrder.sort((a, b) => {\n    // Self always first\n    if (a === actor.ap_id) return -1;\n    if (b === actor.ap_id) return 1;\n    // Then unviewed first\n    if (grouped[a].has_unviewed && !grouped[b].has_unviewed) return -1;\n    if (!grouped[a].has_unviewed && grouped[b].has_unviewed) return 1;\n    return 0;\n  });\n\n  const result = authorOrder.map(apId => grouped[apId]);\n\n  return c.json({ actor_stories: result });\n});\n\n// Cleanup expired stories (admin/scheduled endpoint)\n// Must be defined before /:actorId to avoid route conflict\nstories.post('/cleanup', async (c) => {\n  const prisma = c.get('prisma');\n  const deleted = await cleanupExpiredStories(prisma);\n  return c.json({ deleted });\n});\n\n// Get stories for a specific user\nstories.get('/:actorId', async (c) => {\n  const targetActorId = c.req.param('actorId');\n  const actor = c.get('actor');\n  const prisma = c.get('prisma');\n\n  const baseUrl = c.env.APP_URL;\n  const now = new Date().toISOString();\n\n  // Find the actor by username or full ap_id\n  let targetApId = targetActorId;\n  if (!targetActorId.startsWith('http')) {\n    // It's a username, convert to ap_id\n    targetApId = actorApId(baseUrl, targetActorId);\n  }\n\n  // Get blocked and muted user IDs (if authenticated)\n  let blockedIds: string[] = [];\n  let mutedIds: string[] = [];\n\n  if (actor) {\n    const blocks = await prisma.block.findMany({\n      where: { blockerApId: actor.ap_id },\n      select: { blockedApId: true },\n    });\n    blockedIds = blocks.map(b => b.blockedApId);\n\n    const mutes = await prisma.mute.findMany({\n      where: { muterApId: actor.ap_id },\n      select: { mutedApId: true },\n    });\n    mutedIds = mutes.map(m => m.mutedApId);\n  }\n\n  // Check if target is blocked/muted\n  if (blockedIds.includes(targetApId) || mutedIds.includes(targetApId)) {\n    return c.json({ stories: [] });\n  }\n\n  // Get stories for the target user\n  const userStories = await prisma.object.findMany({\n    where: {\n      type: 'Story',\n      attributedTo: targetApId,\n      endTime: { gt: now },\n    },\n    include: {\n      author: {\n        select: {\n          apId: true,\n          preferredUsername: true,\n          name: true,\n          iconUrl: true,\n        },\n      },\n      storyViews: actor ? {\n        where: { actorApId: actor.ap_id },\n        select: { actorApId: true },\n      } : false,\n      likes: actor ? {\n        where: { actorApId: actor.ap_id },\n        select: { actorApId: true },\n      } : false,\n    },\n    orderBy: { published: 'desc' },\n  });\n\n  // Get all story ap_ids for batch vote query\n  const storyApIds = userStories.map(s => s.apId);\n\n  // Batch query for all votes\n  let allVotes: Record<string, VoteResults> = {};\n  let userVotes: Record<string, number> = {};\n\n  if (storyApIds.length > 0) {\n    // Get vote counts grouped by story and option\n    const votes = await prisma.storyVote.groupBy({\n      by: ['storyApId', 'optionIndex'],\n      where: {\n        storyApId: { in: storyApIds },\n      },\n      _count: {\n        id: true,\n      },\n    });\n\n    votes.forEach(v => {\n      if (!allVotes[v.storyApId]) {\n        allVotes[v.storyApId] = {};\n      }\n      allVotes[v.storyApId][v.optionIndex] = v._count.id;\n    });\n\n    // Get user's own votes (if authenticated)\n    if (actor) {\n      const userVotesData = await prisma.storyVote.findMany({\n        where: {\n          storyApId: { in: storyApIds },\n          actorApId: actor.ap_id,\n        },\n        select: {\n          storyApId: true,\n          optionIndex: true,\n        },\n      });\n\n      userVotesData.forEach(v => {\n        userVotes[v.storyApId] = v.optionIndex;\n      });\n    }\n  }\n\n  // Try to get author info from actor_cache for remote authors\n  const remoteAuthorIds = [...new Set(userStories.filter(s => !s.author).map(s => s.attributedTo))];\n  let actorCacheMap: Record<string, { preferredUsername: string | null; name: string | null; iconUrl: string | null }> = {};\n\n  if (remoteAuthorIds.length > 0) {\n    const cachedActors = await prisma.actorCache.findMany({\n      where: { apId: { in: remoteAuthorIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n    });\n    cachedActors.forEach(a => {\n      actorCacheMap[a.apId] = { preferredUsername: a.preferredUsername, name: a.name, iconUrl: a.iconUrl };\n    });\n  }\n\n  const result = userStories.map(s => {\n    const storyData = transformStoryData(s.attachmentsJson);\n    const authorData = s.author || actorCacheMap[s.attributedTo];\n\n    // Calculate vote totals\n    const storyVotes = allVotes[s.apId] || {};\n    const total = Object.values(storyVotes).reduce((sum: number, count: number) => sum + count, 0);\n\n    const storyViews = (s.storyViews as { actorApId: string }[] | undefined) || [];\n    const likes = (s.likes as { actorApId: string }[] | undefined) || [];\n\n    return {\n      ap_id: s.apId,\n      author: {\n        ap_id: s.attributedTo,\n        username: formatUsername(s.attributedTo),\n        preferred_username: authorData?.preferredUsername || null,\n        name: authorData?.name || null,\n        icon_url: authorData?.iconUrl || null,\n      },\n      attachment: storyData.attachment,\n      displayDuration: storyData.displayDuration,\n      overlays: storyData.overlays,\n      end_time: s.endTime || '',\n      published: s.published,\n      viewed: storyViews.length > 0,\n      like_count: s.likeCount,\n      share_count: s.shareCount || 0,\n      liked: likes.length > 0,\n      votes: storyVotes,\n      votes_total: total,\n      user_vote: userVotes[s.apId],\n    };\n  });\n\n  return c.json({ stories: result });\n});\n\n// Create story (v2: single attachment format)\nstories.post('/', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const prisma = c.get('prisma');\n  const body = await c.req.json<StoryCreateBody>();\n\n  if (!body.attachment || !body.attachment.r2_key) {\n    return c.json({ error: 'attachment with r2_key required' }, 400);\n  }\n\n  // Validate overlays if provided\n  if (body.overlays && body.overlays.length > 0) {\n    const validation = validateOverlays(body.overlays);\n    if (!validation.valid) {\n      return c.json({ error: validation.error }, 400);\n    }\n  }\n\n  const baseUrl = c.env.APP_URL;\n  const id = generateId();\n  const apId = objectApId(baseUrl, id);\n  const now = new Date().toISOString();\n\n  // Set expiration to 24 hours from now\n  const endTime = new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString();\n\n  // Store in new format with width/height\n  const storyData = {\n    attachment: {\n      ...body.attachment,\n      width: body.attachment.width || 1080,\n      height: body.attachment.height || 1920,\n    },\n    displayDuration: body.displayDuration || 'PT5S',\n    overlays: body.overlays || undefined,\n  };\n  const attachmentsJson = JSON.stringify(storyData);\n\n  await prisma.object.create({\n    data: {\n      apId,\n      type: 'Story',\n      attributedTo: actor.ap_id,\n      content: '',\n      attachmentsJson,\n      endTime,\n      published: now,\n      isLocal: 1,\n    },\n  });\n\n  // Update post count\n  await prisma.actor.update({\n    where: { apId: actor.ap_id },\n    data: { postCount: { increment: 1 } },\n  });\n\n  // Transform for response\n  const responseData = transformStoryData(attachmentsJson);\n\n  const story = {\n    ap_id: apId,\n    author: {\n      ap_id: actor.ap_id,\n      username: formatUsername(actor.ap_id),\n      preferred_username: actor.preferred_username,\n      name: actor.name,\n      icon_url: actor.icon_url,\n    },\n    attachment: responseData.attachment,\n    displayDuration: responseData.displayDuration,\n    overlays: responseData.overlays,\n    end_time: endTime,\n    published: now,\n    viewed: false,\n    like_count: 0,\n    liked: false,\n  };\n\n  // Send Create(Story) activity to followers (async, don't block response)\n  sendCreateStoryActivity(\n    {\n      apId: apId,\n      attributedTo: actor.ap_id,\n      attachment: responseData.attachment,\n      displayDuration: responseData.displayDuration,\n      overlays: responseData.overlays,\n      endTime: endTime,\n      published: now,\n    },\n    actor,\n    c.env,\n    prisma\n  ).catch(console.error);\n\n  return c.json({ story }, 201);\n});\n\n// Delete story\nstories.post('/delete', async (c) => {\n  const actor = c.get('actor');\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n  const prisma = c.get('prisma');\n  const body = await c.req.json<{ ap_id: string }>();\n  if (!body.ap_id) return c.json({ error: 'ap_id required' }, 400);\n  const apId = body.ap_id;\n\n  // Verify ownership\n  const story = await prisma.object.findUnique({\n    where: { apId },\n  });\n\n  if (!story) return c.json({ error: 'Story not found' }, 404);\n  if (story.attributedTo !== actor.ap_id) {\n    return c.json({ error: 'Forbidden' }, 403);\n  }\n\n  // Send Delete(Story) activity to followers before deleting\n  // Must await to ensure federation completes before local deletion\n  try {\n    await sendDeleteStoryActivity(apId, actor, c.env, prisma);\n  } catch (err) {\n    console.error('Failed to send Delete activity for story:', err);\n    // Continue with deletion even if federation fails\n  }\n\n  // Delete story votes first\n  await prisma.storyVote.deleteMany({\n    where: { storyApId: apId },\n  });\n\n  // Delete story likes\n  await prisma.like.deleteMany({\n    where: { objectApId: apId },\n  });\n\n  // Delete story views\n  await prisma.storyView.deleteMany({\n    where: { storyApId: apId },\n  });\n\n  // Delete story shares\n  await prisma.storyShare.deleteMany({\n    where: { storyApId: apId },\n  });\n\n  // Delete story\n  await prisma.object.delete({\n    where: { apId },\n  });\n\n  // Update post count\n  await prisma.actor.update({\n    where: { apId: actor.ap_id },\n    data: {\n      postCount: { decrement: 1 },\n    },\n  });\n\n  return c.json({ success: true });\n});\n\n\nexport default stories;\n", "import type { PrismaClient } from '../../../generated/prisma';\n\ninterface VoteResults {\n  [optionIndex: number]: number;\n}\n\ntype OverlayPosition = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n};\n\ntype Overlay = {\n  type: string;\n  position: OverlayPosition;\n  oneOf?: unknown[];\n  href?: string;\n};\n\ntype StoryAttachment = {\n  type: string;\n  mediaType: string;\n  url: string;\n  r2_key: string;\n  width: number;\n  height: number;\n};\n\ntype StoredStoryData = {\n  attachment?: {\n    r2_key?: string;\n    content_type?: string;\n    url?: string;\n    width?: number;\n    height?: number;\n  };\n  displayDuration?: string;\n  overlays?: Overlay[];\n};\n\nexport async function cleanupExpiredStories(prisma: PrismaClient): Promise<number> {\n  const now = new Date().toISOString();\n\n  // Get expired story IDs\n  const expiredStories = await prisma.object.findMany({\n    where: {\n      type: 'Story',\n      endTime: { lt: now },\n    },\n    select: {\n      apId: true,\n    },\n  });\n\n  if (expiredStories.length === 0) {\n    return 0;\n  }\n\n  const expiredApIds = expiredStories.map(s => s.apId);\n\n  // Delete story votes\n  await prisma.storyVote.deleteMany({\n    where: {\n      storyApId: { in: expiredApIds },\n    },\n  });\n\n  // Delete story likes\n  await prisma.like.deleteMany({\n    where: {\n      objectApId: { in: expiredApIds },\n    },\n  });\n\n  // Delete story views\n  await prisma.storyView.deleteMany({\n    where: {\n      storyApId: { in: expiredApIds },\n    },\n  });\n\n  // Delete story shares\n  await prisma.storyShare.deleteMany({\n    where: {\n      storyApId: { in: expiredApIds },\n    },\n  });\n\n  // Delete expired stories\n  const result = await prisma.object.deleteMany({\n    where: {\n      type: 'Story',\n      endTime: { lt: now },\n    },\n  });\n\n  return result.count;\n}\n\nexport async function getVoteCounts(prisma: PrismaClient, storyApId: string): Promise<VoteResults> {\n  const votes = await prisma.storyVote.groupBy({\n    by: ['optionIndex'],\n    where: {\n      storyApId,\n    },\n    _count: {\n      id: true,\n    },\n  });\n\n  const results: VoteResults = {};\n  votes.forEach(vote => {\n    results[vote.optionIndex] = vote._count.id;\n  });\n  return results;\n}\n\nexport function validateOverlays(overlays: unknown[]): { valid: boolean; error?: string } {\n  if (!Array.isArray(overlays)) {\n    return { valid: false, error: 'overlays must be an array' };\n  }\n\n  for (let i = 0; i < overlays.length; i++) {\n    const overlay = overlays[i] as Record<string, unknown>;\n\n    // type validation\n    if (!overlay.type || typeof overlay.type !== 'string') {\n      return { valid: false, error: `overlay[${i}].type is required` };\n    }\n\n    // position validation\n    if (!overlay.position || typeof overlay.position !== 'object') {\n      return { valid: false, error: `overlay[${i}].position is required` };\n    }\n\n    const position = overlay.position as Partial<OverlayPosition>;\n    const { x, y, width, height } = position;\n    if (typeof x !== 'number' || x < 0 || x > 1) {\n      return { valid: false, error: `overlay[${i}].position.x must be 0.0-1.0` };\n    }\n    if (typeof y !== 'number' || y < 0 || y > 1) {\n      return { valid: false, error: `overlay[${i}].position.y must be 0.0-1.0` };\n    }\n    if (typeof width !== 'number' || width < 0 || width > 1) {\n      return { valid: false, error: `overlay[${i}].position.width must be 0.0-1.0` };\n    }\n    if (typeof height !== 'number' || height < 0 || height > 1) {\n      return { valid: false, error: `overlay[${i}].position.height must be 0.0-1.0` };\n    }\n\n    if (overlay.type === 'Question') {\n      const oneOf = overlay.oneOf as unknown[] | undefined;\n      if (!oneOf || !Array.isArray(oneOf) || oneOf.length < 2 || oneOf.length > 4) {\n        return { valid: false, error: `overlay[${i}].oneOf must have 2-4 options` };\n      }\n    }\n\n    if (overlay.type === 'Link') {\n      if (!overlay.href || typeof overlay.href !== 'string') {\n        return { valid: false, error: `overlay[${i}].href is required` };\n      }\n      try {\n        new URL(overlay.href);\n      } catch {\n        return { valid: false, error: `overlay[${i}].href is invalid URL` };\n      }\n    }\n  }\n\n  return { valid: true };\n}\n\nexport function transformStoryData(attachmentsJson: string): {\n  attachment: StoryAttachment;\n  displayDuration: string;\n  overlays?: Overlay[];\n} {\n  const stored = JSON.parse(attachmentsJson || '{}') as StoredStoryData;\n  const r2Key = stored.attachment?.r2_key;\n  const contentType = stored.attachment?.content_type || 'image/jpeg';\n  const externalUrl = stored.attachment?.url;\n\n  let url = '';\n  if (r2Key) {\n    url = `/media/${r2Key.replace('uploads/', '')}`;\n  } else if (externalUrl) {\n    url = externalUrl;\n  }\n\n  return {\n    attachment: {\n      type: contentType.startsWith('video/') ? 'Video' : 'Document',\n      mediaType: contentType,\n      url,\n      r2_key: r2Key || '',\n      width: stored.attachment?.width || 1080,\n      height: stored.attachment?.height || 1920,\n    },\n    displayDuration: stored.displayDuration || 'PT5S',\n    overlays: stored.overlays || undefined,\n  };\n}\n", "import { Hono } from 'hono';\r\nimport type { Env, Variables } from '../../types';\r\nimport { generateId, objectApId, activityApId, isLocal, signRequest, isSafeRemoteUrl } from '../../utils';\r\nimport { getVoteCounts } from './utils';\r\n\r\nconst stories = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\ntype StoryOverlay = {\r\n  type?: string;\r\n  oneOf?: unknown[];\r\n};\r\n\r\ntype StoryData = {\r\n  overlays?: StoryOverlay[];\r\n};\r\n\r\n// Mark story as viewed\r\nstories.post('/view', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const body = await c.req.json<{ ap_id: string }>();\r\n  if (!body.ap_id) return c.json({ error: 'ap_id required' }, 400);\r\n  const apId = body.ap_id;\r\n\r\n  // Check if story exists\r\n  const story = await prisma.object.findFirst({\r\n    where: {\r\n      apId,\r\n      type: 'Story',\r\n    },\r\n  });\r\n\r\n  if (!story) return c.json({ error: 'Story not found' }, 404);\r\n\r\n  // Check if already viewed - use upsert to handle race conditions\r\n  const now = new Date().toISOString();\r\n\r\n  try {\r\n    await prisma.storyView.upsert({\r\n      where: {\r\n        actorApId_storyApId: {\r\n          actorApId: actor.ap_id,\r\n          storyApId: apId,\r\n        },\r\n      },\r\n      update: {}, // No update needed if it already exists\r\n      create: {\r\n        actorApId: actor.ap_id,\r\n        storyApId: apId,\r\n        viewedAt: now,\r\n      },\r\n    });\r\n  } catch (e) {\r\n    // Ignore duplicate key errors\r\n  }\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// Vote on a story poll\r\nstories.post('/vote', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const body = await c.req.json<{ ap_id: string; option_index: number }>();\r\n  if (!body.ap_id) return c.json({ error: 'ap_id required' }, 400);\r\n  const apId = body.ap_id;\r\n\r\n  if (typeof body.option_index !== 'number' || body.option_index < 0) {\r\n    return c.json({ error: 'Invalid option_index' }, 400);\r\n  }\r\n\r\n  // Check if story exists\r\n  const story = await prisma.object.findFirst({\r\n    where: {\r\n      apId,\r\n      type: 'Story',\r\n    },\r\n  });\r\n\r\n  if (!story) return c.json({ error: 'Story not found' }, 404);\r\n\r\n  // Check if user is trying to vote on their own story\r\n  if (story.attributedTo === actor.ap_id) {\r\n    return c.json({ error: 'Cannot vote on your own story' }, 403);\r\n  }\r\n\r\n  // Check if story is still active (not expired)\r\n  const now = new Date().toISOString();\r\n  if (story.endTime && story.endTime < now) {\r\n    return c.json({ error: 'Story has expired' }, 410); // 410 Gone\r\n  }\r\n\r\n  // Get story data and validate option_index range\r\n  const storyData = JSON.parse(story.attachmentsJson || '{}') as StoryData;\r\n  const questionOverlays = (storyData.overlays || []).filter((o: StoryOverlay) => o.type === 'Question');\r\n\r\n  if (questionOverlays.length === 0) {\r\n    return c.json({ error: 'Story has no poll' }, 400);\r\n  }\r\n\r\n  // Check option_index against the first Question overlay's options\r\n  const maxOptionIndex = questionOverlays[0].oneOf?.length || 0;\r\n  if (body.option_index >= maxOptionIndex) {\r\n    return c.json({ error: `option_index must be 0-${maxOptionIndex - 1}` }, 400);\r\n  }\r\n\r\n  // Check if user already voted\r\n  const existingVote = await prisma.storyVote.findFirst({\r\n    where: {\r\n      storyApId: apId,\r\n      actorApId: actor.ap_id,\r\n    },\r\n  });\r\n\r\n  if (existingVote) {\r\n    // Update existing vote\r\n    await prisma.storyVote.update({\r\n      where: { id: existingVote.id },\r\n      data: {\r\n        optionIndex: body.option_index,\r\n        createdAt: now,\r\n      },\r\n    });\r\n  } else {\r\n    // Insert new vote\r\n    const voteId = generateId();\r\n    await prisma.storyVote.create({\r\n      data: {\r\n        id: voteId,\r\n        storyApId: apId,\r\n        actorApId: actor.ap_id,\r\n        optionIndex: body.option_index,\r\n        createdAt: now,\r\n      },\r\n    });\r\n  }\r\n\r\n  // Get updated vote counts\r\n  const votes = await getVoteCounts(prisma, apId);\r\n  const total = Object.values(votes).reduce((sum: number, count: number) => sum + count, 0);\r\n\r\n  return c.json({ success: true, votes, total, user_vote: body.option_index });\r\n});\r\n\r\n// Like a story\r\nstories.post('/:id/like', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const storyId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = storyId.startsWith('http') ? storyId : objectApId(baseUrl, storyId);\r\n\r\n  const story = await prisma.object.findFirst({\r\n    where: {\r\n      apId,\r\n      type: 'Story',\r\n    },\r\n  });\r\n\r\n  if (!story) return c.json({ error: 'Story not found' }, 404);\r\n\r\n  const existing = await prisma.like.findUnique({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: apId,\r\n      },\r\n    },\r\n  });\r\n\r\n  if (existing) {\r\n    return c.json({ success: true, liked: true, like_count: story.likeCount });\r\n  }\r\n\r\n  const likeId = generateId();\r\n  const likeActivityApId = activityApId(baseUrl, likeId);\r\n  const now = new Date().toISOString();\r\n\r\n  await prisma.like.create({\r\n    data: {\r\n      actorApId: actor.ap_id,\r\n      objectApId: apId,\r\n      activityApId: likeActivityApId,\r\n      createdAt: now,\r\n    },\r\n  });\r\n\r\n  await prisma.object.update({\r\n    where: { apId },\r\n    data: { likeCount: { increment: 1 } },\r\n  });\r\n\r\n  const likeActivityRaw = {\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    id: likeActivityApId,\r\n    type: 'Like',\r\n    actor: actor.ap_id,\r\n    object: apId,\r\n  };\r\n\r\n  await prisma.activity.create({\r\n    data: {\r\n      apId: likeActivityApId,\r\n      type: 'Like',\r\n      actorApId: actor.ap_id,\r\n      objectApId: apId,\r\n      rawJson: JSON.stringify(likeActivityRaw),\r\n      createdAt: now,\r\n    },\r\n  });\r\n\r\n  if (story.attributedTo !== actor.ap_id && isLocal(story.attributedTo, baseUrl)) {\r\n    await prisma.inbox.create({\r\n      data: {\r\n        actorApId: story.attributedTo,\r\n        activityApId: likeActivityApId,\r\n        read: 0,\r\n        createdAt: now,\r\n      },\r\n    });\r\n  }\r\n\r\n  if (!isLocal(apId, baseUrl)) {\r\n    try {\r\n      const postAuthor = await prisma.actorCache.findUnique({\r\n        where: { apId: story.attributedTo },\r\n        select: { inbox: true },\r\n      });\r\n      if (postAuthor?.inbox) {\r\n        if (!isSafeRemoteUrl(postAuthor.inbox)) {\r\n          console.warn(`[Stories] Blocked unsafe inbox URL: ${postAuthor.inbox}`);\r\n        } else {\r\n          const keyId = `${actor.ap_id}#main-key`;\r\n          const headers = await signRequest(actor.private_key_pem, keyId, 'POST', postAuthor.inbox, JSON.stringify(likeActivityRaw));\r\n\r\n          await fetch(postAuthor.inbox, {\r\n            method: 'POST',\r\n            headers: { ...headers, 'Content-Type': 'application/activity+json' },\r\n            body: JSON.stringify(likeActivityRaw),\r\n          });\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error('Failed to send Like activity for story:', e);\r\n    }\r\n  }\r\n\r\n  return c.json({ success: true, liked: true, like_count: story.likeCount + 1 });\r\n});\r\n\r\n// Unlike a story\r\nstories.delete('/:id/like', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const storyId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = storyId.startsWith('http') ? storyId : objectApId(baseUrl, storyId);\r\n\r\n  const story = await prisma.object.findFirst({\r\n    where: {\r\n      apId,\r\n      type: 'Story',\r\n    },\r\n  });\r\n\r\n  if (!story) return c.json({ error: 'Story not found' }, 404);\r\n\r\n  const like = await prisma.like.findUnique({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: apId,\r\n      },\r\n    },\r\n  });\r\n\r\n  if (!like) return c.json({ error: 'Not liked' }, 400);\r\n\r\n  await prisma.like.delete({\r\n    where: {\r\n      actorApId_objectApId: {\r\n        actorApId: actor.ap_id,\r\n        objectApId: apId,\r\n      },\r\n    },\r\n  });\r\n\r\n  await prisma.object.update({\r\n    where: { apId },\r\n    data: {\r\n      likeCount: { decrement: 1 },\r\n    },\r\n  });\r\n\r\n  if (!isLocal(apId, baseUrl)) {\r\n    try {\r\n      const postAuthor = await prisma.actorCache.findUnique({\r\n        where: { apId: story.attributedTo },\r\n        select: { inbox: true },\r\n      });\r\n      if (postAuthor?.inbox) {\r\n        if (!isSafeRemoteUrl(postAuthor.inbox)) {\r\n          console.warn(`[Stories] Blocked unsafe inbox URL: ${postAuthor.inbox}`);\r\n          return c.json({ success: true, liked: false });\r\n        }\r\n        const undoObject = like.activityApId\r\n          ? like.activityApId\r\n          : {\r\n            type: 'Like',\r\n            actor: actor.ap_id,\r\n            object: apId,\r\n          };\r\n        const undoLikeActivity = {\r\n          '@context': 'https://www.w3.org/ns/activitystreams',\r\n          id: activityApId(baseUrl, generateId()),\r\n          type: 'Undo',\r\n          actor: actor.ap_id,\r\n          object: undoObject,\r\n        };\r\n\r\n        const keyId = `${actor.ap_id}#main-key`;\r\n        const headers = await signRequest(actor.private_key_pem, keyId, 'POST', postAuthor.inbox, JSON.stringify(undoLikeActivity));\r\n\r\n        await fetch(postAuthor.inbox, {\r\n          method: 'POST',\r\n          headers: { ...headers, 'Content-Type': 'application/activity+json' },\r\n          body: JSON.stringify(undoLikeActivity),\r\n        });\r\n\r\n        await prisma.activity.create({\r\n          data: {\r\n            apId: undoLikeActivity.id,\r\n            type: 'Undo',\r\n            actorApId: actor.ap_id,\r\n            objectApId: apId,\r\n            rawJson: JSON.stringify(undoLikeActivity),\r\n            direction: 'outbound',\r\n          },\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.error('Failed to send Undo Like for story:', e);\r\n    }\r\n  }\r\n\r\n  return c.json({ success: true, liked: false, like_count: Math.max(0, story.likeCount - 1) });\r\n});\r\n\r\n// Share a story (track that user shared it)\r\nstories.post('/:id/share', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n  const storyId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = storyId.startsWith('http') ? storyId : objectApId(baseUrl, storyId);\r\n\r\n  const story = await prisma.object.findFirst({\r\n    where: {\r\n      apId,\r\n      type: 'Story',\r\n    },\r\n  });\r\n\r\n  if (!story) return c.json({ error: 'Story not found' }, 404);\r\n\r\n  // Check if already shared\r\n  const existing = await prisma.storyShare.findFirst({\r\n    where: {\r\n      storyApId: apId,\r\n      actorApId: actor.ap_id,\r\n    },\r\n  });\r\n\r\n  if (existing) {\r\n    return c.json({ success: true, shared: true, share_count: story.shareCount || 0 });\r\n  }\r\n\r\n  const shareId = generateId();\r\n  const now = new Date().toISOString();\r\n\r\n  await prisma.storyShare.create({\r\n    data: {\r\n      id: shareId,\r\n      storyApId: apId,\r\n      actorApId: actor.ap_id,\r\n      sharedAt: now,\r\n    },\r\n  });\r\n\r\n  await prisma.object.update({\r\n    where: { apId },\r\n    data: { shareCount: { increment: 1 } },\r\n  });\r\n\r\n  return c.json({ success: true, shared: true, share_count: (story.shareCount || 0) + 1 });\r\n});\r\n\r\n// Get share count for a story\r\nstories.get('/:id/shares', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const storyId = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = storyId.startsWith('http') ? storyId : objectApId(baseUrl, storyId);\r\n\r\n  const story = await prisma.object.findFirst({\r\n    where: {\r\n      apId,\r\n      type: 'Story',\r\n    },\r\n    select: {\r\n      shareCount: true,\r\n    },\r\n  });\r\n\r\n  if (!story) return c.json({ error: 'Story not found' }, 404);\r\n\r\n  return c.json({ share_count: story.shareCount || 0 });\r\n});\r\n\r\n// Get votes for a story\r\nstories.get('/:id/votes', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const storyId = c.req.param('id');\r\n  const actor = c.get('actor');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = objectApId(baseUrl, storyId);\r\n\r\n  // Check if story exists\r\n  const story = await prisma.object.findFirst({\r\n    where: {\r\n      apId,\r\n      type: 'Story',\r\n    },\r\n  });\r\n\r\n  if (!story) return c.json({ error: 'Story not found' }, 404);\r\n\r\n  // Get vote counts\r\n  const votes = await getVoteCounts(prisma, apId);\r\n  const total = Object.values(votes).reduce((sum, count) => sum + count, 0);\r\n\r\n  // Get user's vote if authenticated\r\n  let user_vote: number | undefined;\r\n  if (actor) {\r\n    const userVote = await prisma.storyVote.findFirst({\r\n      where: {\r\n        storyApId: apId,\r\n        actorApId: actor.ap_id,\r\n      },\r\n      select: {\r\n        optionIndex: true,\r\n      },\r\n    });\r\n    if (userVote) {\r\n      user_vote = userVote.optionIndex;\r\n    }\r\n  }\r\n\r\n  return c.json({ votes, total, user_vote });\r\n});\r\n\r\nexport default stories;\r\n", "import { Hono } from 'hono';\nimport type { Env, Variables } from '../types';\nimport { formatUsername, isSafeRemoteUrl, normalizeRemoteDomain } from '../utils';\n\nconst search = new Hono<{ Bindings: Env; Variables: Variables }>();\n\n// Whitelist of allowed sort values for actors\nconst ALLOWED_ACTOR_SORTS = ['relevance', 'followers', 'recent'] as const;\ntype ActorSort = typeof ALLOWED_ACTOR_SORTS[number];\n\n// Whitelist of allowed sort values for posts\nconst ALLOWED_POST_SORTS = ['recent', 'popular'] as const;\ntype PostSort = typeof ALLOWED_POST_SORTS[number];\n\n// Validate sort parameter against whitelist\nfunction validateActorSort(sort: string | undefined): ActorSort {\n  if (sort && ALLOWED_ACTOR_SORTS.includes(sort as ActorSort)) {\n    return sort as ActorSort;\n  }\n  return 'relevance';\n}\n\nfunction validatePostSort(sort: string | undefined): PostSort {\n  if (sort && ALLOWED_POST_SORTS.includes(sort as PostSort)) {\n    return sort as PostSort;\n  }\n  return 'recent';\n}\n\ntype WebFingerLink = {\n  rel?: string;\n  type?: string;\n  href?: string;\n};\n\ntype WebFingerResponse = {\n  links?: WebFingerLink[];\n};\n\ntype RemoteActor = {\n  id: string;\n  type?: string;\n  preferredUsername?: string;\n  name?: string;\n  summary?: string;\n  icon?: { url?: string };\n  inbox?: string;\n  outbox?: string;\n  publicKey?: { id?: string; publicKeyPem?: string };\n};\n\n/**\n * Search local actors by username or name\n * GET /api/search/actors?q=query&sort=relevance|followers|recent\n */\nsearch.get('/actors', async (c) => {\n  const query = c.req.query('q')?.trim();\n  const sort = validateActorSort(c.req.query('sort'));\n  if (!query) return c.json({ actors: [] });\n\n  const prisma = c.get('prisma');\n  const lowerQuery = query.toLowerCase();\n\n  // Build orderBy based on sort parameter\n  let orderBy: { followerCount?: 'desc'; createdAt?: 'desc'; preferredUsername?: 'asc' };\n  switch (sort) {\n    case 'followers':\n      orderBy = { followerCount: 'desc' };\n      break;\n    case 'recent':\n      orderBy = { createdAt: 'desc' };\n      break;\n    case 'relevance':\n    default:\n      // For relevance, we'll fetch and sort in memory\n      orderBy = { followerCount: 'desc' };\n      break;\n  }\n\n  // Fetch actors that match the query\n  const actors = await prisma.actor.findMany({\n    where: {\n      OR: [\n        { preferredUsername: { contains: query } },\n        { name: { contains: query } },\n      ],\n    },\n    select: {\n      apId: true,\n      preferredUsername: true,\n      name: true,\n      iconUrl: true,\n      summary: true,\n      followerCount: true,\n      createdAt: true,\n    },\n    orderBy,\n    take: 20,\n  });\n\n  // For relevance sorting, sort in memory\n  let sortedActors = actors;\n  if (sort === 'relevance') {\n    sortedActors = actors.sort((a, b) => {\n      const aUsername = a.preferredUsername.toLowerCase();\n      const bUsername = b.preferredUsername.toLowerCase();\n\n      // Exact match first\n      const aExact = aUsername === lowerQuery ? 0 : 1;\n      const bExact = bUsername === lowerQuery ? 0 : 1;\n      if (aExact !== bExact) return aExact - bExact;\n\n      // Prefix match second\n      const aPrefix = aUsername.startsWith(lowerQuery) ? 0 : 1;\n      const bPrefix = bUsername.startsWith(lowerQuery) ? 0 : 1;\n      if (aPrefix !== bPrefix) return aPrefix - bPrefix;\n\n      // Then by follower count\n      return b.followerCount - a.followerCount;\n    });\n  }\n\n  const result = sortedActors.map((a) => ({\n    ap_id: a.apId,\n    preferred_username: a.preferredUsername,\n    name: a.name,\n    icon_url: a.iconUrl,\n    summary: a.summary,\n    follower_count: a.followerCount,\n    created_at: a.createdAt,\n    username: formatUsername(a.apId),\n  }));\n\n  return c.json({ actors: result });\n});\n\n/**\n * Search posts by content\n * GET /api/search/posts?q=query&sort=recent|popular\n */\nsearch.get('/posts', async (c) => {\n  const actor = c.get('actor');\n  const query = c.req.query('q')?.trim();\n  const sort = validatePostSort(c.req.query('sort'));\n  if (!query) return c.json({ posts: [] });\n\n  const prisma = c.get('prisma');\n\n  // Build orderBy based on sort parameter\n  let orderBy: { likeCount?: 'desc'; published?: 'desc' }[];\n  switch (sort) {\n    case 'popular':\n      orderBy = [{ likeCount: 'desc' }, { published: 'desc' }];\n      break;\n    case 'recent':\n    default:\n      orderBy = [{ published: 'desc' }];\n      break;\n  }\n\n  // Fetch posts that match the query\n  const posts = await prisma.object.findMany({\n    where: {\n      content: { contains: query },\n      visibility: 'public',\n      OR: [\n        { audienceJson: { equals: '[]' } },\n      ],\n    },\n    orderBy,\n    take: 50,\n  });\n\n  // Batch load author info to avoid N+1 queries\n  const authorApIds = [...new Set(posts.map((p) => p.attributedTo))];\n\n  const [localAuthors, cachedAuthors] = await Promise.all([\n    prisma.actor.findMany({\n      where: { apId: { in: authorApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n    }),\n    prisma.actorCache.findMany({\n      where: { apId: { in: authorApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n    }),\n  ]);\n\n  // Create lookup maps\n  const localAuthorMap = new Map(localAuthors.map((a) => [a.apId, a]));\n  const cachedAuthorMap = new Map(cachedAuthors.map((a) => [a.apId, a]));\n\n  // Batch load likes if user is logged in\n  const likedPostIds = new Set<string>();\n  if (actor?.ap_id) {\n    const postApIds = posts.map((p) => p.apId);\n    const likes = await prisma.like.findMany({\n      where: {\n        actorApId: actor.ap_id,\n        objectApId: { in: postApIds },\n      },\n      select: { objectApId: true },\n    });\n    likes.forEach((l) => likedPostIds.add(l.objectApId));\n  }\n\n  // Map posts to result format\n  const result = posts.map((p) => {\n    const author = localAuthorMap.get(p.attributedTo) || cachedAuthorMap.get(p.attributedTo);\n\n    return {\n      ap_id: p.apId,\n      author: {\n        ap_id: p.attributedTo,\n        username: formatUsername(p.attributedTo),\n        preferred_username: author?.preferredUsername || null,\n        name: author?.name || null,\n        icon_url: author?.iconUrl || null,\n      },\n      content: p.content,\n      published: p.published,\n      like_count: p.likeCount,\n      liked: likedPostIds.has(p.apId),\n    };\n  });\n\n  return c.json({ posts: result });\n});\n\n/**\n * Search remote actors via WebFinger\n * Parses @user@domain format, fetches and caches actor\n * GET /api/search/remote?q=@user@domain\n */\nsearch.get('/remote', async (c) => {\n  const query = c.req.query('q')?.trim();\n  if (!query) return c.json({ actors: [] });\n\n  // Parse @user@domain format\n  const match = query.match(/^@?([^@]+)@([^@]+)$/);\n  if (!match) return c.json({ actors: [] });\n\n  const [, username, domain] = match;\n  const safeDomain = normalizeRemoteDomain(domain);\n  if (!safeDomain) return c.json({ actors: [] });\n\n  try {\n    // WebFinger lookup\n    const webfingerUrl = `https://${safeDomain}/.well-known/webfinger?resource=acct:${username}@${safeDomain}`;\n    const wfRes = await fetch(webfingerUrl, { headers: { Accept: 'application/jrd+json' } });\n    if (!wfRes.ok) return c.json({ actors: [] });\n\n    const wfData = (await wfRes.json()) as WebFingerResponse;\n    const actorLink = wfData.links?.find((l) => l.rel === 'self' && l.type === 'application/activity+json');\n    if (!actorLink?.href) return c.json({ actors: [] });\n    if (!isSafeRemoteUrl(actorLink.href)) return c.json({ actors: [] });\n\n    // Fetch actor\n    const actorRes = await fetch(actorLink.href, {\n      headers: { Accept: 'application/activity+json, application/ld+json' },\n    });\n    if (!actorRes.ok) return c.json({ actors: [] });\n\n    const actorData = (await actorRes.json()) as RemoteActor;\n\n    // Cache the actor using Prisma upsert\n    const prisma = c.get('prisma');\n    await prisma.actorCache.upsert({\n      where: { apId: actorData.id },\n      create: {\n        apId: actorData.id,\n        type: actorData.type || 'Person',\n        preferredUsername: actorData.preferredUsername || null,\n        name: actorData.name || null,\n        summary: actorData.summary || null,\n        iconUrl: actorData.icon?.url || null,\n        inbox: actorData.inbox || '',\n        outbox: actorData.outbox || null,\n        publicKeyId: actorData.publicKey?.id || null,\n        publicKeyPem: actorData.publicKey?.publicKeyPem || null,\n        rawJson: JSON.stringify(actorData),\n      },\n      update: {\n        type: actorData.type || 'Person',\n        preferredUsername: actorData.preferredUsername || null,\n        name: actorData.name || null,\n        summary: actorData.summary || null,\n        iconUrl: actorData.icon?.url || null,\n        inbox: actorData.inbox || '',\n        outbox: actorData.outbox || null,\n        publicKeyId: actorData.publicKey?.id || null,\n        publicKeyPem: actorData.publicKey?.publicKeyPem || null,\n        rawJson: JSON.stringify(actorData),\n      },\n    });\n\n    return c.json({\n      actors: [\n        {\n          ap_id: actorData.id,\n          username: `${actorData.preferredUsername}@${safeDomain}`,\n          preferred_username: actorData.preferredUsername,\n          name: actorData.name,\n          summary: actorData.summary,\n          icon_url: actorData.icon?.url,\n        },\n      ],\n    });\n  } catch (e) {\n    console.error('Remote search failed:', e);\n    return c.json({ actors: [] });\n  }\n});\n\n/**\n * Search posts by hashtag\n * GET /api/search/hashtag/:tag?sort=recent|popular\n */\nsearch.get('/hashtag/:tag', async (c) => {\n  const actor = c.get('actor');\n  const tag = c.req.param('tag')?.trim().replace(/^#/, '');\n  const sort = validatePostSort(c.req.query('sort'));\n  const limit = Math.min(parseInt(c.req.query('limit') || '50'), 100);\n  const offset = parseInt(c.req.query('offset') || '0');\n\n  if (!tag) return c.json({ posts: [], total: 0 });\n\n  const prisma = c.get('prisma');\n  const hashtagPattern = `#${tag}`;\n\n  // Build orderBy based on sort parameter\n  let orderBy: { likeCount?: 'desc'; published?: 'desc' }[];\n  switch (sort) {\n    case 'popular':\n      orderBy = [{ likeCount: 'desc' }, { published: 'desc' }];\n      break;\n    case 'recent':\n    default:\n      orderBy = [{ published: 'desc' }];\n      break;\n  }\n\n  // Count total matching posts\n  const total = await prisma.object.count({\n    where: {\n      content: { contains: hashtagPattern },\n      visibility: 'public',\n    },\n  });\n\n  // Fetch posts that contain the hashtag\n  const posts = await prisma.object.findMany({\n    where: {\n      content: { contains: hashtagPattern },\n      visibility: 'public',\n    },\n    orderBy,\n    skip: offset,\n    take: limit,\n  });\n\n  // Batch load author info to avoid N+1 queries\n  const authorApIds = [...new Set(posts.map((p) => p.attributedTo))];\n  const [localAuthors, cachedAuthors] = await Promise.all([\n    prisma.actor.findMany({\n      where: { apId: { in: authorApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n    }),\n    prisma.actorCache.findMany({\n      where: { apId: { in: authorApIds } },\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n    }),\n  ]);\n\n  const localAuthorMap = new Map(localAuthors.map((a) => [a.apId, a]));\n  const cachedAuthorMap = new Map(cachedAuthors.map((a) => [a.apId, a]));\n\n  // Batch load likes if user is logged in\n  const likedPostIds = new Set<string>();\n  if (actor?.ap_id) {\n    const postApIds = posts.map((p) => p.apId);\n    const likes = await prisma.like.findMany({\n      where: {\n        actorApId: actor.ap_id,\n        objectApId: { in: postApIds },\n      },\n      select: { objectApId: true },\n    });\n    likes.forEach((l) => likedPostIds.add(l.objectApId));\n  }\n\n  // Map posts to result format\n  const result = posts.map((p) => {\n    const author = localAuthorMap.get(p.attributedTo) || cachedAuthorMap.get(p.attributedTo);\n\n    return {\n      ap_id: p.apId,\n      author: {\n        ap_id: p.attributedTo,\n        username: formatUsername(p.attributedTo),\n        preferred_username: author?.preferredUsername || null,\n        name: author?.name || null,\n        icon_url: author?.iconUrl || null,\n      },\n      content: p.content,\n      published: p.published,\n      like_count: p.likeCount,\n      liked: likedPostIds.has(p.apId),\n    };\n  });\n\n  return c.json({\n    posts: result,\n    total,\n    limit,\n    offset,\n    has_more: offset + result.length < total,\n  });\n});\n\n/**\n * Get trending hashtags\n * GET /api/search/hashtags/trending?limit=10&days=7\n */\nsearch.get('/hashtags/trending', async (c) => {\n  const limit = Math.min(parseInt(c.req.query('limit') || '10'), 50);\n  const days = Math.min(parseInt(c.req.query('days') || '7'), 30);\n\n  const sinceDate = new Date(Date.now() - days * 24 * 60 * 60 * 1000).toISOString();\n\n  const prisma = c.get('prisma');\n\n  // Fetch recent public posts\n  const posts = await prisma.object.findMany({\n    where: {\n      visibility: 'public',\n      published: { gt: sinceDate },\n    },\n    select: { content: true },\n    orderBy: { published: 'desc' },\n    take: 1000,\n  });\n\n  // Extract and count hashtags\n  const hashtagCounts: Record<string, number> = {};\n  const hashtagRegex = /#([a-zA-Z0-9_\\u3040-\\u309F\\u30A0-\\u30FF\\u4E00-\\u9FFF]+)/g;\n\n  for (const post of posts) {\n    const content = post.content || '';\n    let match;\n    while ((match = hashtagRegex.exec(content)) !== null) {\n      const tagName = match[1].toLowerCase();\n      hashtagCounts[tagName] = (hashtagCounts[tagName] || 0) + 1;\n    }\n  }\n\n  // Sort by count and take top N\n  const trending = Object.entries(hashtagCounts)\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, limit)\n    .map(([tagName, count]) => ({ tag: tagName, count }));\n\n  return c.json({ trending });\n});\n\nexport default search;\n", "\uFEFFimport { Hono } from 'hono';\nimport type { Env, Variables } from '../types';\nimport baseRoutes from './communities/base';\nimport membershipRoutes from './communities/membership';\nimport messageRoutes from './communities/messages';\n\nconst communities = new Hono<{ Bindings: Env; Variables: Variables }>();\n\ncommunities.route('/', baseRoutes);\ncommunities.route('/', membershipRoutes);\ncommunities.route('/', messageRoutes);\n\nexport default communities;\r\n", "import { Hono } from 'hono';\r\nimport type { Env, Variables } from '../../types';\r\nimport { communityApId, generateKeyPair } from '../../utils';\r\nimport { managerRoles } from './utils';\r\n\r\nconst communities = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\n// GET /api/communities - List all communities\r\ncommunities.get('/', async (c) => {\r\n  const actor = c.get('actor');\r\n  const prisma = c.get('prisma');\r\n  const limit = Math.min(parseInt(c.req.query('limit') || '100'), 500);\r\n  const offset = parseInt(c.req.query('offset') || '0');\r\n\r\n  const actorApIdVal = actor?.ap_id || '';\r\n\r\n  // Get all communities with pagination\r\n  const communitiesList = await prisma.community.findMany({\r\n    orderBy: [\r\n      { lastMessageAt: { sort: 'desc', nulls: 'last' } },\r\n      { createdAt: 'asc' },\r\n    ],\r\n    take: limit,\r\n    skip: offset,\r\n  });\r\n\r\n  // Batch load membership and join request status for current actor to avoid N+1\r\n  const communityApIds = communitiesList.map((c) => c.apId);\r\n  const membershipSet = new Set<string>();\r\n  const pendingRequestSet = new Set<string>();\r\n\r\n  if (actorApIdVal && communityApIds.length > 0) {\r\n    const [memberships, joinRequests] = await Promise.all([\r\n      prisma.communityMember.findMany({\r\n        where: { actorApId: actorApIdVal, communityApId: { in: communityApIds } },\r\n        select: { communityApId: true },\r\n      }),\r\n      prisma.communityJoinRequest.findMany({\r\n        where: { actorApId: actorApIdVal, communityApId: { in: communityApIds }, status: 'pending' },\r\n        select: { communityApId: true },\r\n      }),\r\n    ]);\r\n\r\n    memberships.forEach((m) => membershipSet.add(m.communityApId));\r\n    joinRequests.forEach((r) => pendingRequestSet.add(r.communityApId));\r\n  }\r\n\r\n  // Map communities to result format\r\n  const result = communitiesList.map((community) => {\r\n    const isMember = membershipSet.has(community.apId);\r\n    const joinStatus = !isMember && pendingRequestSet.has(community.apId) ? 'pending' : null;\r\n\r\n    return {\r\n      ap_id: community.apId,\r\n      name: community.preferredUsername,\r\n      display_name: community.name,\r\n      summary: community.summary,\r\n      icon_url: community.iconUrl,\r\n      visibility: community.visibility,\r\n      join_policy: community.joinPolicy,\r\n      post_policy: community.postPolicy,\r\n      member_count: community.memberCount,\r\n      created_at: community.createdAt,\r\n      last_message_at: community.lastMessageAt,\r\n      is_member: isMember,\r\n      join_status: joinStatus,\r\n    };\r\n  });\r\n\r\n  return c.json({ communities: result });\r\n});\r\n\r\n// POST /api/communities - Create a new community\r\ncommunities.post('/', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const prisma = c.get('prisma');\r\n\r\n  const body = await c.req.json<{\r\n    name: string;\r\n    display_name?: string;\r\n    summary?: string;\r\n  }>();\r\n\r\n  const name = body.name?.trim();\r\n  if (!name || name.length < 2) {\r\n    return c.json({ error: 'Name must be at least 2 characters' }, 400);\r\n  }\r\n\r\n  // Maximum length\r\n  if (name.length > 32) {\r\n    return c.json({ error: 'Name must be at most 32 characters' }, 400);\r\n  }\r\n\r\n  // Validate name format (alphanumeric and underscores only)\r\n  if (!/^[a-zA-Z0-9_]+$/.test(name)) {\r\n    return c.json({ error: 'Name can only contain letters, numbers, and underscores' }, 400);\r\n  }\r\n\r\n  // Reserved names that cannot be used for communities\r\n  const reservedNames = [\r\n    'admin', 'administrator', 'system', 'root', 'moderator', 'mod',\r\n    'community', 'communities', 'group', 'groups', 'user', 'users',\r\n    'api', 'ap', 'activitypub', 'webfinger', 'well_known',\r\n    'settings', 'config', 'configuration', 'help', 'support',\r\n    'about', 'terms', 'privacy', 'legal', 'dmca', 'copyright',\r\n    'login', 'logout', 'register', 'signup', 'signin', 'auth',\r\n    'null', 'undefined', 'true', 'false', 'test', 'demo',\r\n  ];\r\n  if (reservedNames.includes(name.toLowerCase())) {\r\n    return c.json({ error: 'This name is reserved' }, 400);\r\n  }\r\n\r\n  // Prevent confusing names (all numbers, leading/trailing underscores)\r\n  if (/^\\d+$/.test(name)) {\r\n    return c.json({ error: 'Name cannot be all numbers' }, 400);\r\n  }\r\n  if (name.startsWith('_') || name.endsWith('_')) {\r\n    return c.json({ error: 'Name cannot start or end with underscore' }, 400);\r\n  }\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = communityApId(baseUrl, name);\r\n  const now = new Date().toISOString();\r\n\r\n  // Generate AP endpoints\r\n  const inbox = `${apId}/inbox`;\r\n  const outbox = `${apId}/outbox`;\r\n  const followersUrl = `${apId}/followers`;\r\n\r\n  // Generate key pair for ActivityPub\r\n  const { publicKeyPem, privateKeyPem } = await generateKeyPair();\r\n\r\n  // P07: Create community and member in a transaction to prevent race condition\r\n  // This ensures both operations succeed or both fail (no orphan communities)\r\n  try {\r\n    await prisma.$transaction(async (tx) => {\r\n      // Create community using insert-or-fail pattern to avoid race condition\r\n      // Database unique constraint on preferredUsername will reject duplicates\r\n      await tx.community.create({\r\n        data: {\r\n          apId,\r\n          preferredUsername: name,\r\n          name: body.display_name || name,\r\n          summary: body.summary || '',\r\n          inbox,\r\n          outbox,\r\n          followersUrl,\r\n          publicKeyPem,\r\n          privateKeyPem,\r\n          visibility: 'public',\r\n          joinPolicy: 'open',\r\n          postPolicy: 'members',\r\n          memberCount: 1,\r\n          createdBy: actor.ap_id,\r\n          createdAt: now,\r\n        },\r\n      });\r\n\r\n      // Add creator as member (owner role)\r\n      await tx.communityMember.create({\r\n        data: {\r\n          communityApId: apId,\r\n          actorApId: actor.ap_id,\r\n          role: 'owner',\r\n          joinedAt: now,\r\n        },\r\n      });\r\n    });\r\n  } catch (error) {\r\n    // Handle unique constraint violation (P2002 is Prisma's unique constraint error code)\r\n    if (error && typeof error === 'object' && 'code' in error && error.code === 'P2002') {\r\n      return c.json({ error: 'Community name already taken' }, 409);\r\n    }\r\n    // Re-throw unexpected errors\r\n    throw error;\r\n  }\r\n\r\n  return c.json({\r\n    community: {\r\n      ap_id: apId,\r\n      name: body.name,\r\n      display_name: body.display_name || body.name,\r\n      summary: body.summary || '',\r\n      icon_url: null,\r\n      visibility: 'public',\r\n      join_policy: 'open',\r\n      post_policy: 'members',\r\n      member_count: 1,\r\n      created_at: now,\r\n      is_member: true,\r\n    }\r\n  }, 201);\r\n});\r\n\r\n// GET /api/communities/:name - Get community by name or ap_id\r\ncommunities.get('/:identifier', async (c) => {\r\n  const identifier = c.req.param('identifier');\r\n  const actor = c.get('actor');\r\n  const prisma = c.get('prisma');\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  // Check if identifier is a full AP ID or just a name/username\r\n  let apId: string;\r\n  if (identifier.startsWith('http')) {\r\n    apId = identifier;\r\n  } else {\r\n    apId = communityApId(baseUrl, identifier);\r\n  }\r\n\r\n  // Try to fetch the community by apId or preferredUsername\r\n  const community = await prisma.community.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId },\r\n        { preferredUsername: identifier },\r\n      ],\r\n    },\r\n  });\r\n\r\n  if (!community) {\r\n    return c.json({ error: 'Community not found' }, 404);\r\n  }\r\n\r\n  // Check membership and join status\r\n  let isMember = false;\r\n  let memberRole: string | null = null;\r\n  let joinStatus: string | null = null;\r\n\r\n  if (actor) {\r\n    const membership = await prisma.communityMember.findUnique({\r\n      where: {\r\n        communityApId_actorApId: {\r\n          communityApId: community.apId,\r\n          actorApId: actor.ap_id,\r\n        },\r\n      },\r\n    });\r\n    if (membership) {\r\n      isMember = true;\r\n      memberRole = membership.role;\r\n    } else {\r\n      const joinRequest = await prisma.communityJoinRequest.findUnique({\r\n        where: {\r\n          communityApId_actorApId: {\r\n            communityApId: community.apId,\r\n            actorApId: actor.ap_id,\r\n          },\r\n        },\r\n      });\r\n      if (joinRequest?.status === 'pending') {\r\n        joinStatus = 'pending';\r\n      }\r\n    }\r\n  }\r\n\r\n  // Get member count (for verification)\r\n  const memberCountResult = await prisma.communityMember.count({\r\n    where: { communityApId: community.apId },\r\n  });\r\n\r\n  // Get posts in this community\r\n  const postsCount = await prisma.object.count({\r\n    where: { communityApId: community.apId },\r\n  });\r\n\r\n  return c.json({\r\n    community: {\r\n      ap_id: community.apId,\r\n      name: community.preferredUsername,\r\n      display_name: community.name,\r\n      summary: community.summary,\r\n      icon_url: community.iconUrl,\r\n      visibility: community.visibility,\r\n      join_policy: community.joinPolicy,\r\n      post_policy: community.postPolicy,\r\n      member_count: memberCountResult || community.memberCount || 0,\r\n      post_count: postsCount || 0,\r\n      created_by: community.createdBy,\r\n      created_at: community.createdAt,\r\n      is_member: isMember,\r\n      member_role: memberRole,\r\n      join_status: joinStatus,\r\n    }\r\n  });\r\n});\r\n\r\n// PATCH /api/communities/:identifier/settings - Update community settings\r\ncommunities.patch('/:identifier/settings', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const identifier = c.req.param('identifier');\r\n  const prisma = c.get('prisma');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = identifier.startsWith('http') ? identifier : communityApId(baseUrl, identifier);\r\n\r\n  const community = await prisma.community.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId },\r\n        { preferredUsername: identifier },\r\n      ],\r\n    },\r\n    select: { apId: true },\r\n  });\r\n\r\n  if (!community) {\r\n    return c.json({ error: 'Community not found' }, 404);\r\n  }\r\n\r\n  const member = await prisma.communityMember.findUnique({\r\n    where: {\r\n      communityApId_actorApId: {\r\n        communityApId: community.apId,\r\n        actorApId: actor.ap_id,\r\n      },\r\n    },\r\n  });\r\n\r\n  if (!member || !managerRoles.has(member.role)) {\r\n    return c.json({ error: 'Forbidden' }, 403);\r\n  }\r\n\r\n  const body = await c.req.json<{\r\n    display_name?: string;\r\n    summary?: string;\r\n    icon_url?: string;\r\n    visibility?: 'public' | 'private';\r\n    join_policy?: 'open' | 'approval' | 'invite';\r\n    post_policy?: 'anyone' | 'members' | 'mods' | 'owners';\r\n  }>();\r\n\r\n  const updates: Record<string, string | null> = {};\r\n\r\n  if (body.display_name !== undefined) {\r\n    updates.name = body.display_name;\r\n  }\r\n  if (body.summary !== undefined) {\r\n    updates.summary = body.summary;\r\n  }\r\n  if (body.icon_url !== undefined) {\r\n    updates.iconUrl = body.icon_url;\r\n  }\r\n  if (body.visibility !== undefined) {\r\n    if (!['public', 'private'].includes(body.visibility)) {\r\n      return c.json({ error: 'Invalid visibility' }, 400);\r\n    }\r\n    updates.visibility = body.visibility;\r\n  }\r\n  if (body.join_policy !== undefined) {\r\n    if (!['open', 'approval', 'invite'].includes(body.join_policy)) {\r\n      return c.json({ error: 'Invalid join_policy' }, 400);\r\n    }\r\n    updates.joinPolicy = body.join_policy;\r\n  }\r\n  if (body.post_policy !== undefined) {\r\n    if (!['anyone', 'members', 'mods', 'owners'].includes(body.post_policy)) {\r\n      return c.json({ error: 'Invalid post_policy' }, 400);\r\n    }\r\n    updates.postPolicy = body.post_policy;\r\n  }\r\n\r\n  if (Object.keys(updates).length === 0) {\r\n    return c.json({ error: 'No fields to update' }, 400);\r\n  }\r\n\r\n  await prisma.community.update({\r\n    where: { apId: community.apId },\r\n    data: updates,\r\n  });\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n\r\nexport default communities;\r\n", "export const MAX_COMMUNITY_MESSAGE_LENGTH = 5000;\nexport const MAX_COMMUNITY_MESSAGES_LIMIT = 100;\nexport const managerRoles = new Set(['owner', 'moderator']);\n", "\uFEFFimport { Hono } from 'hono';\nimport type { Env, Variables } from '../../types';\nimport { registerMembershipInviteRoutes } from './membership-invites';\nimport { registerMembershipJoinRoutes } from './membership-join';\nimport { registerMembershipMemberRoutes } from './membership-members';\nimport { registerMembershipRequestRoutes } from './membership-requests';\n\nconst communities = new Hono<{ Bindings: Env; Variables: Variables }>();\n\nregisterMembershipJoinRoutes(communities);\nregisterMembershipRequestRoutes(communities);\nregisterMembershipInviteRoutes(communities);\nregisterMembershipMemberRoutes(communities);\n\nexport default communities;\r\n", "import type { Hono } from 'hono';\nimport type { Env, Variables } from '../../types';\nimport { generateId, formatUsername } from '../../utils';\nimport { managerRoles } from './utils';\nimport {\n  MembershipContext,\n  fetchCommunityId,\n} from './membership-shared';\n\nexport function registerMembershipInviteRoutes(communities: Hono<{ Bindings: Env; Variables: Variables }>) {\n  // GET /api/communities/:identifier/invites - List invites\n  communities.get('/:identifier/invites', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    const member = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!member || !managerRoles.has(member.role)) {\n      return c.json({ error: 'Forbidden' }, 403);\n    }\n\n    const invites = await prisma.communityInvite.findMany({\n      where: { communityApId: community.apId },\n      orderBy: { createdAt: 'desc' },\n    });\n\n    // Batch load invited_by info to avoid N+1 queries\n    const invitedByApIds = [...new Set(invites.map((inv) => inv.invitedByApId))];\n    const [localActors, cachedActors] = await Promise.all([\n      prisma.actor.findMany({\n        where: { apId: { in: invitedByApIds } },\n        select: { apId: true, preferredUsername: true, name: true },\n      }),\n      prisma.actorCache.findMany({\n        where: { apId: { in: invitedByApIds } },\n        select: { apId: true, preferredUsername: true, name: true },\n      }),\n    ]);\n\n    const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\n    const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\n\n    const result = invites.map((inv) => {\n      const invitedByInfo = localActorMap.get(inv.invitedByApId) || cachedActorMap.get(inv.invitedByApId);\n\n      return {\n        id: inv.id,\n        invited_ap_id: inv.invitedApId,\n        invited_by: {\n          ap_id: inv.invitedByApId,\n          username: formatUsername(inv.invitedByApId),\n          preferred_username: invitedByInfo?.preferredUsername || null,\n          name: invitedByInfo?.name || null,\n        },\n        created_at: inv.createdAt,\n        expires_at: inv.expiresAt,\n        used_at: inv.usedAt,\n        used_by_ap_id: inv.usedByApId,\n        is_valid: !inv.usedAt && (!inv.expiresAt || new Date(inv.expiresAt) > new Date()),\n      };\n    });\n\n    return c.json({ invites: result });\n  });\n\n  // POST /api/communities/:identifier/invites - Create invite\n  communities.post('/:identifier/invites', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n    let invitedApId: string | null = null;\n    let expiresInHours: number | null = null;\n    try {\n      const body = await c.req.json<{ invited_ap_id?: string; expires_in_hours?: number }>();\n      invitedApId = body.invited_ap_id?.trim() || null;\n      expiresInHours = body.expires_in_hours || null;\n    } catch {\n      invitedApId = null;\n      expiresInHours = null;\n    }\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    const member = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!member || !managerRoles.has(member.role)) {\n      return c.json({ error: 'Forbidden' }, 403);\n    }\n\n    const inviteId = generateId();\n    const now = new Date();\n    const expiresAt = expiresInHours ? new Date(now.getTime() + expiresInHours * 60 * 60 * 1000).toISOString() : null;\n\n    await prisma.communityInvite.create({\n      data: {\n        id: inviteId,\n        communityApId: community.apId,\n        invitedByApId: actor.ap_id,\n        invitedApId,\n        createdAt: now.toISOString(),\n        expiresAt,\n      },\n    });\n\n    return c.json({ invite_id: inviteId, expires_at: expiresAt });\n  });\n\n  // DELETE /api/communities/:identifier/invites/:inviteId - Revoke invite\n  communities.delete('/:identifier/invites/:inviteId', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const inviteId = c.req.param('inviteId');\n    const prisma = c.get('prisma');\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    const member = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!member || !managerRoles.has(member.role)) {\n      return c.json({ error: 'Forbidden' }, 403);\n    }\n\n    const invite = await prisma.communityInvite.findFirst({\n      where: {\n        id: inviteId,\n        communityApId: community.apId,\n      },\n    });\n\n    if (!invite) {\n      return c.json({ error: 'Invite not found' }, 404);\n    }\n\n    await prisma.communityInvite.delete({\n      where: { id: inviteId },\n    });\n\n    return c.json({ success: true });\n  });\n}\n", "import type { Context } from 'hono';\nimport type { Env, Variables } from '../../types';\nimport type { PrismaClient } from '../../../generated/prisma';\nimport { communityApId } from '../../utils';\n\nexport type MembershipContext = Context<{ Bindings: Env; Variables: Variables }>;\n\nexport function resolveCommunityApId(baseUrl: string, identifier: string): string {\n  return identifier.startsWith('http') ? identifier : communityApId(baseUrl, identifier);\n}\n\nexport async function fetchCommunityDetails(c: MembershipContext, identifier: string) {\n  const prisma = c.get('prisma') as PrismaClient;\n  const apId = resolveCommunityApId(c.env.APP_URL, identifier);\n  const community = await prisma.community.findFirst({\n    where: {\n      OR: [\n        { apId },\n        { preferredUsername: identifier },\n      ],\n    },\n  });\n  return { apId, community };\n}\n\nexport async function fetchCommunityId(c: MembershipContext, identifier: string) {\n  const prisma = c.get('prisma') as PrismaClient;\n  const apId = resolveCommunityApId(c.env.APP_URL, identifier);\n  const community = await prisma.community.findFirst({\n    where: {\n      OR: [\n        { apId },\n        { preferredUsername: identifier },\n      ],\n    },\n    select: { apId: true },\n  });\n  return { apId, community };\n}\n", "import type { Hono } from 'hono';\nimport type { Env, Variables } from '../../types';\nimport {\n  MembershipContext,\n  fetchCommunityDetails,\n} from './membership-shared';\n\nexport function registerMembershipJoinRoutes(communities: Hono<{ Bindings: Env; Variables: Variables }>) {\n  // POST /api/communities/:identifier/join - Join a community\n  communities.post('/:identifier/join', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n\n    let inviteId: string | undefined;\n    try {\n      const body = await c.req.json<{ invite_id?: string }>();\n      inviteId = body.invite_id?.trim() || undefined;\n    } catch {\n      inviteId = undefined;\n    }\n\n    // Check community exists\n    const { community } = await fetchCommunityDetails(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    // Check if already member\n    const existing = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n    if (existing) {\n      return c.json({ error: 'Already a member' }, 409);\n    }\n\n    const now = new Date().toISOString();\n\n    if (community.joinPolicy === 'approval') {\n      await prisma.communityJoinRequest.upsert({\n        where: {\n          communityApId_actorApId: {\n            communityApId: community.apId,\n            actorApId: actor.ap_id,\n          },\n        },\n        create: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n          status: 'pending',\n          createdAt: now,\n        },\n        update: {\n          status: 'pending',\n          createdAt: now,\n          processedAt: null,\n        },\n      });\n\n      return c.json({ success: true, status: 'pending' });\n    }\n\n    if (community.joinPolicy === 'invite') {\n      if (!inviteId) {\n        return c.json({ error: 'Invite required', status: 'invite_required' }, 403);\n      }\n\n      const invite = await prisma.communityInvite.findFirst({\n        where: {\n          id: inviteId,\n          communityApId: community.apId,\n          usedAt: null,\n          OR: [\n            { expiresAt: null },\n            { expiresAt: { gt: new Date().toISOString() } },\n          ],\n        },\n      });\n\n      if (!invite) {\n        return c.json({ error: 'Invalid or expired invite', status: 'invite_required' }, 403);\n      }\n\n      if (invite.invitedApId && invite.invitedApId !== actor.ap_id) {\n        return c.json({ error: 'Invite not for this account', status: 'invite_required' }, 403);\n      }\n\n      await prisma.communityMember.create({\n        data: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n          role: 'member',\n          joinedAt: now,\n        },\n      });\n\n      await prisma.community.update({\n        where: { apId: community.apId },\n        data: { memberCount: { increment: 1 } },\n      });\n\n      await prisma.communityInvite.update({\n        where: { id: inviteId },\n        data: {\n          usedByApId: actor.ap_id,\n          usedAt: now,\n        },\n      });\n\n      return c.json({ success: true, status: 'joined' });\n    }\n\n    // Open join\n    await prisma.communityMember.create({\n      data: {\n        communityApId: community.apId,\n        actorApId: actor.ap_id,\n        role: 'member',\n        joinedAt: now,\n      },\n    });\n\n    await prisma.community.update({\n      where: { apId: community.apId },\n      data: { memberCount: { increment: 1 } },\n    });\n\n    return c.json({ success: true, status: 'joined' });\n  });\n\n  // POST /api/communities/:identifier/leave - Leave a community\n  communities.post('/:identifier/leave', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n\n    // Check community exists\n    const { community } = await fetchCommunityDetails(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    // Check membership\n    const membership = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n    if (!membership) {\n      return c.json({ error: 'Not a member' }, 400);\n    }\n\n    // Don't allow the last owner to leave\n    if (membership.role === 'owner') {\n      const ownerCount = await prisma.communityMember.count({\n        where: {\n          communityApId: community.apId,\n          role: 'owner',\n        },\n      });\n      if (ownerCount <= 1) {\n        return c.json({ error: 'Cannot leave: you are the only owner' }, 400);\n      }\n    }\n\n    // Remove member\n    await prisma.communityMember.delete({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    // Update member count\n    await prisma.community.update({\n      where: { apId: community.apId },\n      data: { memberCount: { decrement: 1 } },\n    });\n\n    return c.json({ success: true });\n  });\n}\n", "import type { Hono } from 'hono';\nimport type { Env, Variables } from '../../types';\nimport { formatUsername } from '../../utils';\nimport { managerRoles } from './utils';\nimport {\n  MembershipContext,\n  fetchCommunityId,\n  resolveCommunityApId,\n} from './membership-shared';\n\nexport function registerMembershipMemberRoutes(communities: Hono<{ Bindings: Env; Variables: Variables }>) {\n  // DELETE /api/communities/:identifier/members/:actorApId - Remove a member\n  communities.delete('/:identifier/members/:actorApId', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const targetApId = decodeURIComponent(c.req.param('actorApId'));\n    const prisma = c.get('prisma');\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    // Check if actor has permission to remove members\n    const actorMembership = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!actorMembership || !managerRoles.has(actorMembership.role)) {\n      return c.json({ error: 'Forbidden' }, 403);\n    }\n\n    // Check target membership\n    const targetMembership = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: targetApId,\n        },\n      },\n    });\n\n    if (!targetMembership) {\n      return c.json({ error: 'User is not a member' }, 404);\n    }\n\n    // Owners can only be removed by other owners\n    if (targetMembership.role === 'owner' && actorMembership.role !== 'owner') {\n      return c.json({ error: 'Only owners can remove other owners' }, 403);\n    }\n\n    // Can't remove yourself this way (use /leave instead)\n    if (targetApId === actor.ap_id) {\n      return c.json({ error: 'Use /leave endpoint to leave the community' }, 400);\n    }\n\n    // Remove member\n    await prisma.communityMember.delete({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: targetApId,\n        },\n      },\n    });\n\n    // Update member count\n    await prisma.community.update({\n      where: { apId: community.apId },\n      data: { memberCount: { decrement: 1 } },\n    });\n\n    return c.json({ success: true });\n  });\n\n  // PATCH /api/communities/:identifier/members/:actorApId - Update member role\n  communities.patch('/:identifier/members/:actorApId', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const targetApId = decodeURIComponent(c.req.param('actorApId'));\n    const prisma = c.get('prisma');\n    const body = await c.req.json<{ role: 'owner' | 'moderator' | 'member' }>();\n\n    if (!body.role || !['owner', 'moderator', 'member'].includes(body.role)) {\n      return c.json({ error: 'Invalid role' }, 400);\n    }\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    // Only owners can change roles\n    const actorMembership = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!actorMembership || actorMembership.role !== 'owner') {\n      return c.json({ error: 'Only owners can change member roles' }, 403);\n    }\n\n    // Check target membership\n    const targetMembership = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: targetApId,\n        },\n      },\n    });\n\n    if (!targetMembership) {\n      return c.json({ error: 'User is not a member' }, 404);\n    }\n\n    // Can't demote yourself if you're the last owner\n    if (targetApId === actor.ap_id && targetMembership.role === 'owner' && body.role !== 'owner') {\n      const ownerCount = await prisma.communityMember.count({\n        where: {\n          communityApId: community.apId,\n          role: 'owner',\n        },\n      });\n      if (ownerCount <= 1) {\n        return c.json({ error: 'Cannot demote: you are the only owner' }, 400);\n      }\n    }\n\n    // Update role\n    await prisma.communityMember.update({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: targetApId,\n        },\n      },\n      data: { role: body.role },\n    });\n\n    return c.json({ success: true });\n  });\n\n  // GET /api/communities/:identifier/members - List members\n  communities.get('/:identifier/members', async (c: MembershipContext) => {\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n    const baseUrl = c.env.APP_URL;\n    const apId = resolveCommunityApId(baseUrl, identifier);\n\n    // Get community first\n    const community = await prisma.community.findFirst({\n      where: {\n        OR: [\n          { apId },\n          { preferredUsername: identifier },\n        ],\n      },\n      select: { apId: true },\n    });\n\n    if (!community) {\n      return c.json({ members: [] });\n    }\n\n    // Get members\n    const members = await prisma.communityMember.findMany({\n      where: { communityApId: community.apId },\n      orderBy: [\n        { role: 'desc' },\n        { joinedAt: 'asc' },\n      ],\n    });\n\n    // Batch load actor info to avoid N+1 queries\n    const memberApIds = members.map((m) => m.actorApId);\n    const [localActors, cachedActors] = await Promise.all([\n      prisma.actor.findMany({\n        where: { apId: { in: memberApIds } },\n        select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n      }),\n      prisma.actorCache.findMany({\n        where: { apId: { in: memberApIds } },\n        select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n      }),\n    ]);\n\n    const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\n    const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\n\n    const result = members.map((m) => {\n      const actorInfo = localActorMap.get(m.actorApId) || cachedActorMap.get(m.actorApId);\n\n      return {\n        ap_id: m.actorApId,\n        username: formatUsername(m.actorApId),\n        preferred_username: actorInfo?.preferredUsername || null,\n        name: actorInfo?.name || null,\n        icon_url: actorInfo?.iconUrl || null,\n        role: m.role,\n        joined_at: m.joinedAt,\n      };\n    });\n\n    return c.json({ members: result });\n  });\n\n  // POST /api/communities/:identifier/members/batch/remove - Bulk remove members\n  communities.post('/:identifier/members/batch/remove', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n    const body = await c.req.json<{ actor_ap_ids: string[] }>();\n\n    if (!body.actor_ap_ids || body.actor_ap_ids.length === 0) {\n      return c.json({ error: 'actor_ap_ids array is required' }, 400);\n    }\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    // Check permissions\n    const actorMembership = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!actorMembership || !managerRoles.has(actorMembership.role)) {\n      return c.json({ error: 'Permission denied' }, 403);\n    }\n\n    const results: { ap_id: string; success: boolean; error?: string }[] = [];\n\n    for (const targetApId of body.actor_ap_ids) {\n      try {\n        // Can't remove yourself via batch\n        if (targetApId === actor.ap_id) {\n          results.push({ ap_id: targetApId, success: false, error: 'Cannot remove yourself' });\n          continue;\n        }\n\n        // Check target membership\n        const targetMembership = await prisma.communityMember.findUnique({\n          where: {\n            communityApId_actorApId: {\n              communityApId: community.apId,\n              actorApId: targetApId,\n            },\n          },\n        });\n\n        if (!targetMembership) {\n          results.push({ ap_id: targetApId, success: false, error: 'Not a member' });\n          continue;\n        }\n\n        // Non-owners can't remove owners\n        if (actorMembership.role !== 'owner' && targetMembership.role === 'owner') {\n          results.push({ ap_id: targetApId, success: false, error: 'Cannot remove owner' });\n          continue;\n        }\n\n        // Remove member\n        await prisma.communityMember.delete({\n          where: {\n            communityApId_actorApId: {\n              communityApId: community.apId,\n              actorApId: targetApId,\n            },\n          },\n        });\n\n        results.push({ ap_id: targetApId, success: true });\n      } catch {\n        results.push({ ap_id: targetApId, success: false, error: 'Internal error' });\n      }\n    }\n\n    // Update member count\n    const removedCount = results.filter((r) => r.success).length;\n    if (removedCount > 0) {\n      await prisma.community.update({\n        where: { apId: community.apId },\n        data: { memberCount: { decrement: removedCount } },\n      });\n    }\n\n    return c.json({ results, removed_count: removedCount });\n  });\n\n  // POST /api/communities/:identifier/members/batch/role - Bulk update member roles\n  communities.post('/:identifier/members/batch/role', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n    const body = await c.req.json<{ actor_ap_ids: string[]; role: 'owner' | 'moderator' | 'member' }>();\n\n    if (!body.actor_ap_ids || body.actor_ap_ids.length === 0) {\n      return c.json({ error: 'actor_ap_ids array is required' }, 400);\n    }\n    if (!body.role || !['owner', 'moderator', 'member'].includes(body.role)) {\n      return c.json({ error: 'Valid role is required' }, 400);\n    }\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    // Only owners can change roles\n    const actorMembership = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!actorMembership || actorMembership.role !== 'owner') {\n      return c.json({ error: 'Only owners can change roles' }, 403);\n    }\n\n    const results: { ap_id: string; success: boolean; error?: string }[] = [];\n\n    for (const targetApId of body.actor_ap_ids) {\n      try {\n        // Check target membership\n        const targetMembership = await prisma.communityMember.findUnique({\n          where: {\n            communityApId_actorApId: {\n              communityApId: community.apId,\n              actorApId: targetApId,\n            },\n          },\n        });\n\n        if (!targetMembership) {\n          results.push({ ap_id: targetApId, success: false, error: 'Not a member' });\n          continue;\n        }\n\n        // Can't demote yourself if you're the last owner\n        if (targetApId === actor.ap_id && targetMembership.role === 'owner' && body.role !== 'owner') {\n          const ownerCount = await prisma.communityMember.count({\n            where: {\n              communityApId: community.apId,\n              role: 'owner',\n            },\n          });\n          if (ownerCount <= 1) {\n            results.push({ ap_id: targetApId, success: false, error: 'Cannot demote: only owner' });\n            continue;\n          }\n        }\n\n        // Update role\n        await prisma.communityMember.update({\n          where: {\n            communityApId_actorApId: {\n              communityApId: community.apId,\n              actorApId: targetApId,\n            },\n          },\n          data: { role: body.role },\n        });\n\n        results.push({ ap_id: targetApId, success: true });\n      } catch {\n        results.push({ ap_id: targetApId, success: false, error: 'Internal error' });\n      }\n    }\n\n    return c.json({ results, updated_count: results.filter((r) => r.success).length });\n  });\n}\n", "import type { Hono } from 'hono';\nimport type { Env, Variables } from '../../types';\nimport { formatUsername } from '../../utils';\nimport { managerRoles } from './utils';\nimport {\n  MembershipContext,\n  fetchCommunityId,\n} from './membership-shared';\n\nexport function registerMembershipRequestRoutes(communities: Hono<{ Bindings: Env; Variables: Variables }>) {\n  // GET /api/communities/:identifier/requests - List pending join requests\n  communities.get('/:identifier/requests', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    const member = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!member || !managerRoles.has(member.role)) {\n      return c.json({ error: 'Forbidden' }, 403);\n    }\n\n    const requests = await prisma.communityJoinRequest.findMany({\n      where: {\n        communityApId: community.apId,\n        status: 'pending',\n      },\n      orderBy: { createdAt: 'desc' },\n    });\n\n    // Batch load actor info to avoid N+1 queries\n    const requestActorApIds = requests.map((r) => r.actorApId);\n    const [localActors, cachedActors] = await Promise.all([\n      prisma.actor.findMany({\n        where: { apId: { in: requestActorApIds } },\n        select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n      }),\n      prisma.actorCache.findMany({\n        where: { apId: { in: requestActorApIds } },\n        select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\n      }),\n    ]);\n\n    const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\n    const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\n\n    const result = requests.map((r) => {\n      const actorInfo = localActorMap.get(r.actorApId) || cachedActorMap.get(r.actorApId);\n\n      return {\n        ap_id: r.actorApId,\n        username: formatUsername(r.actorApId),\n        preferred_username: actorInfo?.preferredUsername || null,\n        name: actorInfo?.name || null,\n        icon_url: actorInfo?.iconUrl || null,\n        created_at: r.createdAt,\n      };\n    });\n\n    return c.json({ requests: result });\n  });\n\n  // POST /api/communities/:identifier/requests/accept - Accept join request\n  communities.post('/:identifier/requests/accept', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n    const body = await c.req.json<{ actor_ap_id: string }>();\n\n    if (!body.actor_ap_id) {\n      return c.json({ error: 'actor_ap_id required' }, 400);\n    }\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    const member = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!member || !managerRoles.has(member.role)) {\n      return c.json({ error: 'Forbidden' }, 403);\n    }\n\n    const request = await prisma.communityJoinRequest.findFirst({\n      where: {\n        communityApId: community.apId,\n        actorApId: body.actor_ap_id,\n        status: 'pending',\n      },\n    });\n\n    if (!request) {\n      return c.json({ error: 'Join request not found' }, 404);\n    }\n\n    const existingMember = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: body.actor_ap_id,\n        },\n      },\n    });\n\n    if (!existingMember) {\n      const now = new Date().toISOString();\n      await prisma.communityMember.create({\n        data: {\n          communityApId: community.apId,\n          actorApId: body.actor_ap_id,\n          role: 'member',\n          joinedAt: now,\n        },\n      });\n\n      await prisma.community.update({\n        where: { apId: community.apId },\n        data: { memberCount: { increment: 1 } },\n      });\n    }\n\n    await prisma.communityJoinRequest.update({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: body.actor_ap_id,\n        },\n      },\n      data: {\n        status: 'accepted',\n        processedAt: new Date().toISOString(),\n      },\n    });\n\n    return c.json({ success: true });\n  });\n\n  // POST /api/communities/:identifier/requests/reject - Reject join request\n  communities.post('/:identifier/requests/reject', async (c: MembershipContext) => {\n    const actor = c.get('actor');\n    if (!actor) return c.json({ error: 'Unauthorized' }, 401);\n\n    const identifier = c.req.param('identifier');\n    const prisma = c.get('prisma');\n    const body = await c.req.json<{ actor_ap_id: string }>();\n\n    if (!body.actor_ap_id) {\n      return c.json({ error: 'actor_ap_id required' }, 400);\n    }\n\n    const { community } = await fetchCommunityId(c, identifier);\n    if (!community) {\n      return c.json({ error: 'Community not found' }, 404);\n    }\n\n    const member = await prisma.communityMember.findUnique({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: actor.ap_id,\n        },\n      },\n    });\n\n    if (!member || !managerRoles.has(member.role)) {\n      return c.json({ error: 'Forbidden' }, 403);\n    }\n\n    const request = await prisma.communityJoinRequest.findFirst({\n      where: {\n        communityApId: community.apId,\n        actorApId: body.actor_ap_id,\n        status: 'pending',\n      },\n    });\n\n    if (!request) {\n      return c.json({ error: 'Join request not found' }, 404);\n    }\n\n    await prisma.communityJoinRequest.update({\n      where: {\n        communityApId_actorApId: {\n          communityApId: community.apId,\n          actorApId: body.actor_ap_id,\n        },\n      },\n      data: {\n        status: 'rejected',\n        processedAt: new Date().toISOString(),\n      },\n    });\n\n    return c.json({ success: true });\n  });\n}\n", "import { Hono } from 'hono';\r\nimport type { Env, Variables } from '../../types';\r\nimport { communityApId, generateId, formatUsername } from '../../utils';\r\nimport { MAX_COMMUNITY_MESSAGE_LENGTH, MAX_COMMUNITY_MESSAGES_LIMIT, managerRoles } from './utils';\r\n\r\nconst communities = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\n// GET /api/communities/:name/messages - Get chat messages (AP Native: uses objects with audience)\r\ncommunities.get('/:identifier/messages', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const identifier = c.req.param('identifier');\r\n  const prisma = c.get('prisma');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = identifier.startsWith('http') ? identifier : communityApId(baseUrl, identifier);\r\n  const rawLimit = parseInt(c.req.query('limit') || '50', 10);\r\n  const limit = Number.isFinite(rawLimit)\r\n    ? Math.min(Math.max(rawLimit, 1), MAX_COMMUNITY_MESSAGES_LIMIT)\r\n    : 50;\r\n  const before = c.req.query('before');\r\n\r\n  // Get community\r\n  const community = await prisma.community.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId },\r\n        { preferredUsername: identifier },\r\n      ],\r\n    },\r\n  });\r\n  if (!community) {\r\n    return c.json({ error: 'Community not found' }, 404);\r\n  }\r\n\r\n  // Check membership\r\n  const membership = await prisma.communityMember.findUnique({\r\n    where: {\r\n      communityApId_actorApId: {\r\n        communityApId: community.apId,\r\n        actorApId: actor.ap_id,\r\n      },\r\n    },\r\n  });\r\n\r\n  const policy = community.postPolicy || 'members';\r\n  const role = membership?.role;\r\n  const isManager = role === 'owner' || role === 'moderator';\r\n\r\n  if (policy !== 'anyone' && !membership) {\r\n    return c.json({ error: 'Not a community member' }, 403);\r\n  }\r\n  if (policy === 'mods' && !isManager) {\r\n    return c.json({ error: 'Moderator role required' }, 403);\r\n  }\r\n  if (policy === 'owners' && role !== 'owner') {\r\n    return c.json({ error: 'Owner role required' }, 403);\r\n  }\r\n\r\n  // Query objects addressed to this community (via object_recipients)\r\n  // First get the object_ap_ids from object_recipients with type 'audience'\r\n  const recipients = await prisma.objectRecipient.findMany({\r\n    where: {\r\n      recipientApId: community.apId,\r\n      type: 'audience',\r\n    },\r\n    select: { objectApId: true },\r\n  });\r\n\r\n  const objectApIds = recipients.map((r) => r.objectApId);\r\n\r\n  if (objectApIds.length === 0) {\r\n    return c.json({ messages: [] });\r\n  }\r\n\r\n  // Query objects that are Notes and addressed to this community\r\n  const messages = await prisma.object.findMany({\r\n    where: {\r\n      apId: { in: objectApIds },\r\n      type: 'Note',\r\n      ...(before ? { published: { lt: before } } : {}),\r\n    },\r\n    orderBy: { published: 'desc' },\r\n    take: limit,\r\n  });\r\n\r\n  // Batch load sender info to avoid N+1 queries\r\n  const senderApIds = [...new Set(messages.map((msg) => msg.attributedTo))];\r\n  const [localActors, cachedActors] = await Promise.all([\r\n    prisma.actor.findMany({\r\n      where: { apId: { in: senderApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n    prisma.actorCache.findMany({\r\n      where: { apId: { in: senderApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n  ]);\r\n\r\n  const localActorMap = new Map(localActors.map((a) => [a.apId, a]));\r\n  const cachedActorMap = new Map(cachedActors.map((a) => [a.apId, a]));\r\n\r\n  const result = messages.reverse().map((msg) => {\r\n    const senderInfo = localActorMap.get(msg.attributedTo) || cachedActorMap.get(msg.attributedTo);\r\n\r\n    return {\r\n      id: msg.apId,\r\n      sender: {\r\n        ap_id: msg.attributedTo,\r\n        username: formatUsername(msg.attributedTo),\r\n        preferred_username: senderInfo?.preferredUsername || null,\r\n        name: senderInfo?.name || null,\r\n        icon_url: senderInfo?.iconUrl || null,\r\n      },\r\n      content: msg.content,\r\n      created_at: msg.published,\r\n    };\r\n  });\r\n\r\n  return c.json({ messages: result });\r\n});\r\n\r\n// POST /api/communities/:name/messages - Send a chat message (AP Native: creates Note addressed to Group)\r\ncommunities.post('/:identifier/messages', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const identifier = c.req.param('identifier');\r\n  const prisma = c.get('prisma');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = identifier.startsWith('http') ? identifier : communityApId(baseUrl, identifier);\r\n  const body = await c.req.json<{ content: string }>();\r\n\r\n  const content = body.content?.trim();\r\n  if (!content) {\r\n    return c.json({ error: 'Message content is required' }, 400);\r\n  }\r\n  if (content.length > MAX_COMMUNITY_MESSAGE_LENGTH) {\r\n    return c.json({ error: `Message too long (max ${MAX_COMMUNITY_MESSAGE_LENGTH} chars)` }, 400);\r\n  }\r\n\r\n  // Check community exists and user is member\r\n  const community = await prisma.community.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId },\r\n        { preferredUsername: identifier },\r\n      ],\r\n    },\r\n  });\r\n  if (!community) {\r\n    return c.json({ error: 'Community not found' }, 404);\r\n  }\r\n\r\n  const membership = await prisma.communityMember.findUnique({\r\n    where: {\r\n      communityApId_actorApId: {\r\n        communityApId: community.apId,\r\n        actorApId: actor.ap_id,\r\n      },\r\n    },\r\n  });\r\n\r\n  const policy = community.postPolicy || 'members';\r\n  const role = membership?.role;\r\n  const isManager = role === 'owner' || role === 'moderator';\r\n\r\n  if (policy !== 'anyone' && !membership) {\r\n    return c.json({ error: 'Not a member' }, 403);\r\n  }\r\n  if (policy === 'mods' && !isManager) {\r\n    return c.json({ error: 'Moderator role required' }, 403);\r\n  }\r\n  if (policy === 'owners' && role !== 'owner') {\r\n    return c.json({ error: 'Owner role required' }, 403);\r\n  }\r\n\r\n  const objectId = generateId();\r\n  const objectApId = `${baseUrl}/ap/objects/${objectId}`;\r\n  const now = new Date().toISOString();\r\n\r\n  // Create Note object addressed to the Group (AP native)\r\n  const toJson = JSON.stringify([community.apId]);\r\n  const audienceJson = JSON.stringify([community.apId]);\r\n\r\n  await prisma.object.create({\r\n    data: {\r\n      apId: objectApId,\r\n      type: 'Note',\r\n      attributedTo: actor.ap_id,\r\n      content,\r\n      toJson,\r\n      audienceJson,\r\n      visibility: 'unlisted',\r\n      published: now,\r\n      isLocal: 1,\r\n    },\r\n  });\r\n\r\n  // Add to object_recipients for efficient querying\r\n  // Note: ObjectRecipient has a FK relation to Actor, but community is not an Actor\r\n  // Using $executeRaw to bypass FK constraint\r\n  await prisma.$executeRaw`\r\n    INSERT INTO object_recipients (object_ap_id, recipient_ap_id, type, created_at)\r\n    VALUES (${objectApId}, ${community.apId}, 'audience', ${now})\r\n  `;\r\n\r\n  // Create Create activity\r\n  const activityId = generateId();\r\n  const activityApIdVal = `${baseUrl}/ap/activities/${activityId}`;\r\n  await prisma.activity.create({\r\n    data: {\r\n      apId: activityApIdVal,\r\n      type: 'Create',\r\n      actorApId: actor.ap_id,\r\n      objectApId,\r\n      rawJson: JSON.stringify({ to: JSON.parse(toJson) }),\r\n    },\r\n  });\r\n\r\n  // Update last_message_at\r\n  await prisma.community.update({\r\n    where: { apId: community.apId },\r\n    data: { lastMessageAt: now },\r\n  });\r\n\r\n  return c.json({\r\n    message: {\r\n      id: objectApId,\r\n      sender: {\r\n        ap_id: actor.ap_id,\r\n        username: formatUsername(actor.ap_id),\r\n        preferred_username: actor.preferred_username,\r\n        name: actor.name,\r\n        icon_url: actor.icon_url,\r\n      },\r\n      content,\r\n      created_at: now,\r\n    }\r\n  }, 201);\r\n});\r\n\r\n// PATCH /api/communities/:identifier/messages/:messageId - Edit a message\r\ncommunities.patch('/:identifier/messages/:messageId', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const identifier = c.req.param('identifier');\r\n  const messageId = decodeURIComponent(c.req.param('messageId'));\r\n  const prisma = c.get('prisma');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = identifier.startsWith('http') ? identifier : communityApId(baseUrl, identifier);\r\n  const body = await c.req.json<{ content: string }>();\r\n\r\n  const content = body.content?.trim();\r\n  if (!content) {\r\n    return c.json({ error: 'Message content is required' }, 400);\r\n  }\r\n  if (content.length > MAX_COMMUNITY_MESSAGE_LENGTH) {\r\n    return c.json({ error: `Message too long (max ${MAX_COMMUNITY_MESSAGE_LENGTH} chars)` }, 400);\r\n  }\r\n\r\n  // Check community exists\r\n  const community = await prisma.community.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId },\r\n        { preferredUsername: identifier },\r\n      ],\r\n    },\r\n    select: { apId: true },\r\n  });\r\n  if (!community) {\r\n    return c.json({ error: 'Community not found' }, 404);\r\n  }\r\n\r\n  // Check message exists and belongs to community (via object_recipients)\r\n  // Using $queryRaw since ObjectRecipient FK expects Actor, not Community\r\n  const recipients = await prisma.$queryRaw<Array<{ object_ap_id: string }>>`\r\n    SELECT object_ap_id FROM object_recipients\r\n    WHERE object_ap_id = ${messageId} AND recipient_ap_id = ${community.apId} AND type = 'audience'\r\n    LIMIT 1\r\n  `;\r\n\r\n  if (recipients.length === 0) {\r\n    return c.json({ error: 'Message not found' }, 404);\r\n  }\r\n\r\n  const message = await prisma.object.findUnique({\r\n    where: { apId: messageId },\r\n    select: { apId: true, attributedTo: true },\r\n  });\r\n\r\n  if (!message) {\r\n    return c.json({ error: 'Message not found' }, 404);\r\n  }\r\n\r\n  // Only author can edit\r\n  if (message.attributedTo !== actor.ap_id) {\r\n    return c.json({ error: 'Only the author can edit this message' }, 403);\r\n  }\r\n\r\n  // Update message\r\n  await prisma.object.update({\r\n    where: { apId: messageId },\r\n    data: {\r\n      content,\r\n      updated: new Date().toISOString(),\r\n    },\r\n  });\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// DELETE /api/communities/:identifier/messages/:messageId - Delete a message\r\ncommunities.delete('/:identifier/messages/:messageId', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const identifier = c.req.param('identifier');\r\n  const messageId = decodeURIComponent(c.req.param('messageId'));\r\n  const prisma = c.get('prisma');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = identifier.startsWith('http') ? identifier : communityApId(baseUrl, identifier);\r\n\r\n  // Check community exists\r\n  const community = await prisma.community.findFirst({\r\n    where: {\r\n      OR: [\r\n        { apId },\r\n        { preferredUsername: identifier },\r\n      ],\r\n    },\r\n    select: { apId: true },\r\n  });\r\n  if (!community) {\r\n    return c.json({ error: 'Community not found' }, 404);\r\n  }\r\n\r\n  // Check message exists and belongs to community\r\n  // Using $queryRaw since ObjectRecipient FK expects Actor, not Community\r\n  const recipientsForDelete = await prisma.$queryRaw<Array<{ object_ap_id: string }>>`\r\n    SELECT object_ap_id FROM object_recipients\r\n    WHERE object_ap_id = ${messageId} AND recipient_ap_id = ${community.apId} AND type = 'audience'\r\n    LIMIT 1\r\n  `;\r\n\r\n  if (recipientsForDelete.length === 0) {\r\n    return c.json({ error: 'Message not found' }, 404);\r\n  }\r\n\r\n  const message = await prisma.object.findUnique({\r\n    where: { apId: messageId },\r\n    select: { apId: true, attributedTo: true },\r\n  });\r\n\r\n  if (!message) {\r\n    return c.json({ error: 'Message not found' }, 404);\r\n  }\r\n\r\n  // Check permission: author can delete, or moderator/owner can delete any\r\n  const membership = await prisma.communityMember.findUnique({\r\n    where: {\r\n      communityApId_actorApId: {\r\n        communityApId: community.apId,\r\n        actorApId: actor.ap_id,\r\n      },\r\n    },\r\n  });\r\n\r\n  const isAuthor = message.attributedTo === actor.ap_id;\r\n  const isManager = membership && managerRoles.has(membership.role);\r\n\r\n  if (!isAuthor && !isManager) {\r\n    return c.json({ error: 'Permission denied' }, 403);\r\n  }\r\n\r\n  // Delete message - use $executeRaw for object_recipients since FK expects Actor, not Community\r\n  await prisma.$executeRaw`DELETE FROM object_recipients WHERE object_ap_id = ${messageId}`;\r\n  await prisma.object.delete({ where: { apId: messageId } });\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n\r\nexport default communities;\r\n", "\uFEFF// Direct Messages - AP Native\n// DMs are Note objects with visibility='direct' and to=[recipient]\n// Threading via conversation field\n\nimport { Hono } from 'hono';\nimport type { Env, Variables } from '../types';\nimport conversationRoutes from './dm/conversations';\nimport messageRoutes from './dm/messages';\n\nconst dm = new Hono<{ Bindings: Env; Variables: Variables }>();\n\ndm.route('/', conversationRoutes);\ndm.route('/', messageRoutes);\n\nexport default dm;\r\n", "// Direct Messages - AP Native\r\n// DMs are Note objects with visibility='direct' and to=[recipient]\r\n// Threading via conversation field\r\n\r\nimport { Hono } from 'hono';\r\nimport type { Env, Variables } from '../../types';\r\nimport { formatUsername } from '../../utils';\r\nimport { getConversationId, resolveConversationId } from './utils';\r\n\r\nconst dm = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\ndm.get('/contacts', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  // Clean up orphaned read status entries for conversations that no longer exist\r\n  // Get all conversations this actor is involved in\r\n  const validConversations = await prisma.object.findMany({\r\n    where: {\r\n      visibility: 'direct',\r\n      type: 'Note',\r\n      conversation: { not: null },\r\n      OR: [\r\n        { attributedTo: actor.ap_id },\r\n        { toJson: { contains: actor.ap_id } },\r\n      ],\r\n    },\r\n    select: { conversation: true },\r\n    distinct: ['conversation'],\r\n  });\r\n\r\n  const validConversationIds = validConversations\r\n    .map((c) => c.conversation)\r\n    .filter((c): c is string => c !== null);\r\n\r\n  // Delete orphaned read status entries\r\n  if (validConversationIds.length > 0) {\r\n    await prisma.dmReadStatus.deleteMany({\r\n      where: {\r\n        actorApId: actor.ap_id,\r\n        conversationId: { notIn: validConversationIds },\r\n      },\r\n    });\r\n  } else {\r\n    // No valid conversations, delete all read status for this actor\r\n    await prisma.dmReadStatus.deleteMany({\r\n      where: { actorApId: actor.ap_id },\r\n    });\r\n  }\r\n\r\n  // Get archived conversation IDs to exclude\r\n  const archivedConversations = await prisma.dmArchivedConversation.findMany({\r\n    where: { actorApId: actor.ap_id },\r\n    select: { conversationId: true },\r\n  });\r\n  const archivedSet = new Set(archivedConversations.map((a) => a.conversationId));\r\n\r\n  // Get DM conversations for this actor with limit to prevent DoS\r\n  // We fetch enough messages to get unique conversations but cap for safety\r\n  const dmObjects = await prisma.object.findMany({\r\n    where: {\r\n      visibility: 'direct',\r\n      type: 'Note',\r\n      conversation: { not: null },\r\n      OR: [\r\n        { attributedTo: actor.ap_id },\r\n        { toJson: { contains: actor.ap_id } },\r\n      ],\r\n    },\r\n    orderBy: { published: 'desc' },\r\n    select: {\r\n      conversation: true,\r\n      attributedTo: true,\r\n      toJson: true,\r\n      published: true,\r\n      content: true,\r\n    },\r\n    take: 2000, // Enough to cover many conversations while preventing unbounded results\r\n  });\r\n\r\n  // Group by conversation and get other participant\r\n  const conversationMap = new Map<string, {\r\n    conversation: string;\r\n    otherApId: string;\r\n    lastMessageAt: string;\r\n    lastContent: string | null;\r\n    lastSender: string;\r\n  }>();\r\n\r\n  for (const obj of dmObjects) {\r\n    if (!obj.conversation) continue;\r\n    if (archivedSet.has(obj.conversation)) continue;\r\n\r\n    // Determine the other participant\r\n    let otherApId: string;\r\n    if (obj.attributedTo === actor.ap_id) {\r\n      // We sent this - other is the recipient\r\n      try {\r\n        const toArray = JSON.parse(obj.toJson);\r\n        otherApId = toArray[0];\r\n      } catch (err) {\r\n        // MEDIUM FIX: Log JSON parse error for debugging\r\n        console.warn('[DM] Failed to parse toJson for contact:', err, { conversation: obj.conversation });\r\n        continue;\r\n      }\r\n    } else {\r\n      // We received this - other is the sender\r\n      otherApId = obj.attributedTo;\r\n    }\r\n\r\n    if (!otherApId || otherApId === '') continue;\r\n\r\n    // Only store first (most recent) message per conversation\r\n    if (!conversationMap.has(obj.conversation)) {\r\n      conversationMap.set(obj.conversation, {\r\n        conversation: obj.conversation,\r\n        otherApId,\r\n        lastMessageAt: obj.published,\r\n        lastContent: obj.content,\r\n        lastSender: obj.attributedTo,\r\n      });\r\n    }\r\n  }\r\n\r\n  // Get read status for all conversations\r\n  const readStatuses = await prisma.dmReadStatus.findMany({\r\n    where: { actorApId: actor.ap_id },\r\n  });\r\n  const readStatusMap = new Map(readStatuses.map((r) => [r.conversationId, r.lastReadAt]));\r\n\r\n  // Calculate unread counts for each conversation using batch query\r\n  const conversationIds = Array.from(conversationMap.keys());\r\n  const unreadCounts = new Map<string, number>();\r\n\r\n  // Initialize all conversations with 0 unread count\r\n  for (const convId of conversationIds) {\r\n    unreadCounts.set(convId, 0);\r\n  }\r\n\r\n  // Batch query to get unread messages for all conversations at once\r\n  if (conversationIds.length > 0) {\r\n    // Group conversations by their lastReadAt time for efficient querying\r\n    const lastReadAtMap = new Map<string, string[]>();\r\n    for (const convId of conversationIds) {\r\n      const lastReadAt = readStatusMap.get(convId) || '1970-01-01T00:00:00Z';\r\n      const convIds = lastReadAtMap.get(lastReadAt) || [];\r\n      convIds.push(convId);\r\n      lastReadAtMap.set(lastReadAt, convIds);\r\n    }\r\n\r\n    // For each group with the same lastReadAt, batch query unread counts\r\n    const countPromises = Array.from(lastReadAtMap.entries()).map(async ([lastReadAt, convIds]) => {\r\n      const unreadMessages = await prisma.object.groupBy({\r\n        by: ['conversation'],\r\n        where: {\r\n          conversation: { in: convIds },\r\n          visibility: 'direct',\r\n          attributedTo: { not: actor.ap_id },\r\n          published: { gt: lastReadAt },\r\n        },\r\n        _count: { apId: true },\r\n      });\r\n\r\n      for (const msg of unreadMessages) {\r\n        if (msg.conversation) {\r\n          unreadCounts.set(msg.conversation, msg._count.apId);\r\n        }\r\n      }\r\n    });\r\n\r\n    await Promise.all(countPromises);\r\n  }\r\n\r\n  // Get actor info for all other participants\r\n  const otherApIds = Array.from(new Set(Array.from(conversationMap.values()).map((c) => c.otherApId)));\r\n\r\n  const [localActors, cachedActors] = await Promise.all([\r\n    prisma.actor.findMany({\r\n      where: { apId: { in: otherApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n    prisma.actorCache.findMany({\r\n      where: { apId: { in: otherApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n  ]);\r\n\r\n  const actorInfoMap = new Map<string, { preferredUsername: string | null; name: string | null; iconUrl: string | null }>();\r\n  for (const a of cachedActors) {\r\n    actorInfoMap.set(a.apId, a);\r\n  }\r\n  for (const a of localActors) {\r\n    actorInfoMap.set(a.apId, a); // Local actors take precedence\r\n  }\r\n\r\n  // Build contacts result\r\n  const contactsResult = Array.from(conversationMap.values()).map((conv) => {\r\n    const actorInfo = actorInfoMap.get(conv.otherApId);\r\n    return {\r\n      type: 'user' as const,\r\n      ap_id: conv.otherApId,\r\n      username: formatUsername(conv.otherApId),\r\n      preferred_username: actorInfo?.preferredUsername || null,\r\n      name: actorInfo?.name || null,\r\n      icon_url: actorInfo?.iconUrl || null,\r\n      conversation_id: conv.conversation,\r\n      last_message: conv.lastContent ? {\r\n        content: conv.lastContent,\r\n        is_mine: conv.lastSender === actor.ap_id,\r\n      } : null,\r\n      last_message_at: conv.lastMessageAt,\r\n      unread_count: unreadCounts.get(conv.conversation) || 0,\r\n    };\r\n  });\r\n\r\n  // Sort by last message at\r\n  contactsResult.sort((a, b) => {\r\n    const aTime = a.last_message_at || '';\r\n    const bTime = b.last_message_at || '';\r\n    return bTime.localeCompare(aTime);\r\n  });\r\n\r\n  // Get communities the user is a member of (for group chat)\r\n  const communityMemberships = await prisma.communityMember.findMany({\r\n    where: { actorApId: actor.ap_id },\r\n    include: {\r\n      community: {\r\n        select: {\r\n          apId: true,\r\n          preferredUsername: true,\r\n          name: true,\r\n          iconUrl: true,\r\n          memberCount: true,\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\n  // Batch get last messages for all communities to avoid N+1\r\n  const communityApIds = communityMemberships.map((cm) => cm.community.apId);\r\n  const lastMessagesMap = new Map<string, { content: string; attributedTo: string; published: string }>();\r\n\r\n  if (communityApIds.length > 0) {\r\n    // Fetch recent messages for all communities (get enough to ensure at least one per community)\r\n    const recentMessages = await prisma.object.findMany({\r\n      where: {\r\n        communityApId: { in: communityApIds },\r\n      },\r\n      orderBy: { published: 'desc' },\r\n      select: { communityApId: true, content: true, attributedTo: true, published: true },\r\n      take: communityApIds.length * 10,\r\n    });\r\n\r\n    // Keep only the latest message per community\r\n    for (const msg of recentMessages) {\r\n      if (msg.communityApId && !lastMessagesMap.has(msg.communityApId)) {\r\n        lastMessagesMap.set(msg.communityApId, {\r\n          content: msg.content,\r\n          attributedTo: msg.attributedTo,\r\n          published: msg.published,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // Map communities to result format\r\n  const communitiesResult = communityMemberships.map((cm) => {\r\n    const lastMessage = lastMessagesMap.get(cm.community.apId);\r\n    return {\r\n      type: 'community' as const,\r\n      ap_id: cm.community.apId,\r\n      username: formatUsername(cm.community.apId),\r\n      preferred_username: cm.community.preferredUsername,\r\n      name: cm.community.name,\r\n      icon_url: cm.community.iconUrl,\r\n      member_count: cm.community.memberCount,\r\n      last_message: lastMessage?.content ? {\r\n        content: lastMessage.content,\r\n        is_mine: lastMessage.attributedTo === actor.ap_id,\r\n      } : null,\r\n      last_message_at: lastMessage?.published || null,\r\n    };\r\n  });\r\n\r\n  // Sort communities by last message at\r\n  communitiesResult.sort((a, b) => {\r\n    const aTime = a.last_message_at || '';\r\n    const bTime = b.last_message_at || '';\r\n    return bTime.localeCompare(aTime) || a.name.localeCompare(b.name);\r\n  });\r\n\r\n  // Count pending requests: DMs from people we haven't replied to\r\n  // Get all incoming DM conversations\r\n  const incomingDMs = await prisma.object.findMany({\r\n    where: {\r\n      visibility: 'direct',\r\n      type: 'Note',\r\n      toJson: { contains: actor.ap_id },\r\n    },\r\n    select: { conversation: true },\r\n    distinct: ['conversation'],\r\n  });\r\n\r\n  // Batch get all conversations where we've replied\r\n  const incomingConversations = incomingDMs\r\n    .map((dm) => dm.conversation)\r\n    .filter((c): c is string => c !== null);\r\n\r\n  const ourReplies = incomingConversations.length > 0\r\n    ? await prisma.object.findMany({\r\n        where: {\r\n          conversation: { in: incomingConversations },\r\n          attributedTo: actor.ap_id,\r\n        },\r\n        select: { conversation: true },\r\n        distinct: ['conversation'],\r\n      })\r\n    : [];\r\n\r\n  const repliedConversations = new Set(ourReplies.map((r) => r.conversation));\r\n  const requestCount = incomingConversations.filter((c) => !repliedConversations.has(c)).length;\r\n\r\n  return c.json({\r\n    mutual_followers: contactsResult,\r\n    communities: communitiesResult,\r\n    request_count: requestCount,\r\n  });\r\n});\r\n\r\n// Get message requests (DMs from people we haven't replied to)\r\ndm.get('/requests', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  // Get incoming DMs where we haven't replied (with limit to prevent DoS)\r\n  const incomingDMs = await prisma.object.findMany({\r\n    where: {\r\n      visibility: 'direct',\r\n      type: 'Note',\r\n      toJson: { contains: actor.ap_id },\r\n    },\r\n    orderBy: { published: 'desc' },\r\n    select: {\r\n      apId: true,\r\n      attributedTo: true,\r\n      content: true,\r\n      published: true,\r\n      conversation: true,\r\n    },\r\n    take: 1000, // Cap for safety while covering typical usage\r\n  });\r\n\r\n  // Batch get all conversations where we've replied to avoid N+1\r\n  const allConversations = [...new Set(incomingDMs.map((dm) => dm.conversation).filter((c): c is string => c !== null))];\r\n  const ourRepliesInConversations = allConversations.length > 0\r\n    ? await prisma.object.findMany({\r\n        where: {\r\n          conversation: { in: allConversations },\r\n          attributedTo: actor.ap_id,\r\n        },\r\n        select: { conversation: true },\r\n        distinct: ['conversation'],\r\n      })\r\n    : [];\r\n\r\n  const repliedConversationsSet = new Set(ourRepliesInConversations.map((r) => r.conversation));\r\n\r\n  // Filter to only unreplied conversations\r\n  const requests: Array<{\r\n    id: string;\r\n    senderApId: string;\r\n    content: string;\r\n    createdAt: string;\r\n    conversation: string | null;\r\n  }> = [];\r\n\r\n  const seenConversations = new Set<string>();\r\n\r\n  for (const dm of incomingDMs) {\r\n    if (!dm.conversation || seenConversations.has(dm.conversation)) continue;\r\n\r\n    // Check if we've replied in this conversation (using batched data)\r\n    if (!repliedConversationsSet.has(dm.conversation)) {\r\n      seenConversations.add(dm.conversation);\r\n      requests.push({\r\n        id: dm.apId,\r\n        senderApId: dm.attributedTo,\r\n        content: dm.content,\r\n        createdAt: dm.published,\r\n        conversation: dm.conversation,\r\n      });\r\n    }\r\n  }\r\n\r\n  // Get sender info\r\n  const senderApIds = Array.from(new Set(requests.map((r) => r.senderApId)));\r\n  const [localActors, cachedActors] = await Promise.all([\r\n    prisma.actor.findMany({\r\n      where: { apId: { in: senderApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n    prisma.actorCache.findMany({\r\n      where: { apId: { in: senderApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n  ]);\r\n\r\n  const actorInfoMap = new Map<string, { preferredUsername: string | null; name: string | null; iconUrl: string | null }>();\r\n  for (const a of cachedActors) {\r\n    actorInfoMap.set(a.apId, a);\r\n  }\r\n  for (const a of localActors) {\r\n    actorInfoMap.set(a.apId, a);\r\n  }\r\n\r\n  const result = requests.map((r) => {\r\n    const actorInfo = actorInfoMap.get(r.senderApId);\r\n    return {\r\n      id: r.id,\r\n      sender: {\r\n        ap_id: r.senderApId,\r\n        username: formatUsername(r.senderApId),\r\n        preferred_username: actorInfo?.preferredUsername || null,\r\n        name: actorInfo?.name || null,\r\n        icon_url: actorInfo?.iconUrl || null,\r\n      },\r\n      content: r.content,\r\n      created_at: r.createdAt,\r\n      conversation: r.conversation,\r\n    };\r\n  });\r\n\r\n  return c.json({ requests: result });\r\n});\r\n\r\n// Accept request = just reply to the message (creates conversation)\r\n// No separate accept action needed in AP model\r\n\r\n// Reject request = delete messages from a sender and optionally block\r\ndm.post('/requests/reject', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const body = await c.req.json<{ sender_ap_id: string; block?: boolean }>();\r\n  if (!body.sender_ap_id) {\r\n    return c.json({ error: 'sender_ap_id is required' }, 400);\r\n  }\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const conversationId = getConversationId(baseUrl, actor.ap_id, body.sender_ap_id);\r\n\r\n  // Get message IDs to delete\r\n  const messagesToDelete = await prisma.object.findMany({\r\n    where: {\r\n      conversation: conversationId,\r\n      attributedTo: body.sender_ap_id,\r\n    },\r\n    select: { apId: true },\r\n  });\r\n\r\n  const messageApIds = messagesToDelete.map((m) => m.apId);\r\n\r\n  // Clean up object_recipients\r\n  if (messageApIds.length > 0) {\r\n    await prisma.objectRecipient.deleteMany({\r\n      where: { objectApId: { in: messageApIds } },\r\n    });\r\n  }\r\n\r\n  // Delete all messages in this conversation from the sender\r\n  await prisma.object.deleteMany({\r\n    where: {\r\n      conversation: conversationId,\r\n      visibility: 'direct',\r\n      attributedTo: body.sender_ap_id,\r\n    },\r\n  });\r\n\r\n  // Optionally block the sender\r\n  if (body.block) {\r\n    await prisma.block.upsert({\r\n      where: {\r\n        blockerApId_blockedApId: {\r\n          blockerApId: actor.ap_id,\r\n          blockedApId: body.sender_ap_id,\r\n        },\r\n      },\r\n      update: {},\r\n      create: {\r\n        blockerApId: actor.ap_id,\r\n        blockedApId: body.sender_ap_id,\r\n      },\r\n    });\r\n  }\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// Accept request = reply and mark as accepted (alternative to just sending a message)\r\ndm.post('/requests/accept', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n\r\n  const body = await c.req.json<{ sender_ap_id: string }>();\r\n  if (!body.sender_ap_id) {\r\n    return c.json({ error: 'sender_ap_id is required' }, 400);\r\n  }\r\n\r\n  // In the AP model, accepting just means we allow the conversation\r\n  // The actual acceptance is implicit when we send a reply\r\n  // This endpoint can be used to pre-approve without sending a message\r\n  // For now, we just return success since no separate state is needed\r\n  return c.json({ success: true, message: 'Reply to the conversation to accept' });\r\n});\r\n\r\n// Get messages with a specific user\r\n\r\ndm.get('/conversations', async (c) => {\r\n  // Redirect to contacts\r\n  return c.redirect('/api/dm/contacts');\r\n});\r\n\r\ndm.post('/conversations', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const body = await c.req.json<{ participant_ap_id: string }>();\r\n  if (!body.participant_ap_id) {\r\n    return c.json({ error: 'participant_ap_id is required' }, 400);\r\n  }\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const conversationId = getConversationId(baseUrl, actor.ap_id, body.participant_ap_id);\r\n\r\n  // Get other participant info (try local actors first, then cache)\r\n  const localActor = await prisma.actor.findUnique({\r\n    where: { apId: body.participant_ap_id },\r\n    select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n  });\r\n\r\n  const cachedActor = localActor ? null : await prisma.actorCache.findUnique({\r\n    where: { apId: body.participant_ap_id },\r\n    select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n  });\r\n\r\n  const otherInfo = localActor || cachedActor;\r\n\r\n  if (!otherInfo) {\r\n    return c.json({ error: 'Actor not found' }, 404);\r\n  }\r\n\r\n  return c.json({\r\n    conversation: {\r\n      id: conversationId,\r\n      other_participant: {\r\n        ap_id: body.participant_ap_id,\r\n        username: formatUsername(body.participant_ap_id),\r\n        preferred_username: otherInfo.preferredUsername,\r\n        name: otherInfo.name,\r\n        icon_url: otherInfo.iconUrl,\r\n      },\r\n      last_message_at: null,\r\n      created_at: new Date().toISOString(),\r\n    }\r\n  });\r\n});\r\n\r\n\r\ndm.post('/user/:encodedApId/typing', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const otherApId = decodeURIComponent(c.req.param('encodedApId'));\r\n  if (!otherApId) return c.json({ error: 'ap_id required' }, 400);\r\n\r\n  const now = new Date().toISOString();\r\n  await prisma.dmTyping.upsert({\r\n    where: {\r\n      actorApId_recipientApId: {\r\n        actorApId: actor.ap_id,\r\n        recipientApId: otherApId,\r\n      },\r\n    },\r\n    update: { lastTypedAt: now },\r\n    create: {\r\n      actorApId: actor.ap_id,\r\n      recipientApId: otherApId,\r\n      lastTypedAt: now,\r\n    },\r\n  });\r\n\r\n  return c.json({ success: true, typed_at: now });\r\n});\r\n\r\ndm.get('/user/:encodedApId/typing', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const otherApId = decodeURIComponent(c.req.param('encodedApId'));\r\n  if (!otherApId) return c.json({ error: 'ap_id required' }, 400);\r\n\r\n  const typing = await prisma.dmTyping.findUnique({\r\n    where: {\r\n      actorApId_recipientApId: {\r\n        actorApId: otherApId,\r\n        recipientApId: actor.ap_id,\r\n      },\r\n    },\r\n    select: { lastTypedAt: true },\r\n  });\r\n\r\n  if (!typing?.lastTypedAt) {\r\n    return c.json({ is_typing: false, last_typed_at: null });\r\n  }\r\n\r\n  const lastTypedAt = typing.lastTypedAt;\r\n  const lastTypedMs = Date.parse(lastTypedAt);\r\n  const nowMs = Date.now();\r\n  const isTyping = Number.isFinite(lastTypedMs) && (nowMs - lastTypedMs) <= 8000;\r\n  const isExpired = !Number.isFinite(lastTypedMs) || (nowMs - lastTypedMs) > 5 * 60 * 1000;\r\n\r\n  if (isExpired) {\r\n    await prisma.dmTyping.delete({\r\n      where: {\r\n        actorApId_recipientApId: {\r\n          actorApId: otherApId,\r\n          recipientApId: actor.ap_id,\r\n        },\r\n      },\r\n    });\r\n    return c.json({ is_typing: false, last_typed_at: null });\r\n  }\r\n\r\n  return c.json({ is_typing: isTyping, last_typed_at: lastTypedAt });\r\n});\r\n\r\n// Mark conversation as read\r\ndm.post('/user/:encodedApId/read', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const otherApId = decodeURIComponent(c.req.param('encodedApId'));\r\n  if (!otherApId) return c.json({ error: 'ap_id required' }, 400);\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const conversationId = await resolveConversationId(prisma, baseUrl, actor.ap_id, otherApId);\r\n  const now = new Date().toISOString();\r\n\r\n  await prisma.dmReadStatus.upsert({\r\n    where: {\r\n      actorApId_conversationId: {\r\n        actorApId: actor.ap_id,\r\n        conversationId: conversationId,\r\n      },\r\n    },\r\n    update: { lastReadAt: now },\r\n    create: {\r\n      actorApId: actor.ap_id,\r\n      conversationId: conversationId,\r\n      lastReadAt: now,\r\n    },\r\n  });\r\n\r\n  return c.json({ success: true, last_read_at: now });\r\n});\r\n\r\n// Archive a conversation (hide from inbox)\r\ndm.post('/user/:encodedApId/archive', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const otherApId = decodeURIComponent(c.req.param('encodedApId'));\r\n  if (!otherApId) return c.json({ error: 'ap_id required' }, 400);\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const conversationId = getConversationId(baseUrl, actor.ap_id, otherApId);\r\n  const now = new Date().toISOString();\r\n\r\n  await prisma.dmArchivedConversation.upsert({\r\n    where: {\r\n      actorApId_conversationId: {\r\n        actorApId: actor.ap_id,\r\n        conversationId: conversationId,\r\n      },\r\n    },\r\n    update: {},\r\n    create: {\r\n      actorApId: actor.ap_id,\r\n      conversationId: conversationId,\r\n      archivedAt: now,\r\n    },\r\n  });\r\n\r\n  return c.json({ success: true, archived_at: now });\r\n});\r\n\r\n// Unarchive a conversation\r\ndm.delete('/user/:encodedApId/archive', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const otherApId = decodeURIComponent(c.req.param('encodedApId'));\r\n  if (!otherApId) return c.json({ error: 'ap_id required' }, 400);\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const conversationId = getConversationId(baseUrl, actor.ap_id, otherApId);\r\n\r\n  await prisma.dmArchivedConversation.deleteMany({\r\n    where: {\r\n      actorApId: actor.ap_id,\r\n      conversationId: conversationId,\r\n    },\r\n  });\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// Get archived conversations\r\ndm.get('/archived', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  // Get archived conversation IDs\r\n  const archivedConversations = await prisma.dmArchivedConversation.findMany({\r\n    where: { actorApId: actor.ap_id },\r\n    select: { conversationId: true, archivedAt: true },\r\n  });\r\n\r\n  if (archivedConversations.length === 0) {\r\n    return c.json({ archived: [] });\r\n  }\r\n\r\n  const archivedSet = new Set(archivedConversations.map((a) => a.conversationId));\r\n\r\n  // Get all DM conversations for this actor (with limit)\r\n  const dmObjects = await prisma.object.findMany({\r\n    where: {\r\n      visibility: 'direct',\r\n      type: 'Note',\r\n      conversation: { not: null },\r\n      OR: [\r\n        { attributedTo: actor.ap_id },\r\n        { toJson: { contains: actor.ap_id } },\r\n      ],\r\n    },\r\n    orderBy: { published: 'desc' },\r\n    select: {\r\n      conversation: true,\r\n      attributedTo: true,\r\n      toJson: true,\r\n      published: true,\r\n    },\r\n    take: 2000, // Cap for safety\r\n  });\r\n\r\n  // Group by conversation and get other participant (only archived ones)\r\n  const conversationMap = new Map<string, {\r\n    conversation: string;\r\n    otherApId: string;\r\n    lastMessageAt: string;\r\n  }>();\r\n\r\n  for (const obj of dmObjects) {\r\n    if (!obj.conversation) continue;\r\n    if (!archivedSet.has(obj.conversation)) continue;\r\n\r\n    // Determine the other participant\r\n    let otherApId: string;\r\n    if (obj.attributedTo === actor.ap_id) {\r\n      try {\r\n        const toArray = JSON.parse(obj.toJson);\r\n        otherApId = toArray[0];\r\n      } catch (err) {\r\n        // MEDIUM FIX: Log JSON parse error for debugging\r\n        console.warn('[DM] Failed to parse toJson for archived:', err, { conversation: obj.conversation });\r\n        continue;\r\n      }\r\n    } else {\r\n      otherApId = obj.attributedTo;\r\n    }\r\n\r\n    if (!otherApId || otherApId === '') continue;\r\n\r\n    if (!conversationMap.has(obj.conversation)) {\r\n      conversationMap.set(obj.conversation, {\r\n        conversation: obj.conversation,\r\n        otherApId,\r\n        lastMessageAt: obj.published,\r\n      });\r\n    }\r\n  }\r\n\r\n  // Get actor info for all other participants\r\n  const otherApIds = Array.from(new Set(Array.from(conversationMap.values()).map((c) => c.otherApId)));\r\n\r\n  const [localActors, cachedActors] = await Promise.all([\r\n    prisma.actor.findMany({\r\n      where: { apId: { in: otherApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n    prisma.actorCache.findMany({\r\n      where: { apId: { in: otherApIds } },\r\n      select: { apId: true, preferredUsername: true, name: true, iconUrl: true },\r\n    }),\r\n  ]);\r\n\r\n  const actorInfoMap = new Map<string, { preferredUsername: string | null; name: string | null; iconUrl: string | null }>();\r\n  for (const a of cachedActors) {\r\n    actorInfoMap.set(a.apId, a);\r\n  }\r\n  for (const a of localActors) {\r\n    actorInfoMap.set(a.apId, a);\r\n  }\r\n\r\n  const archived = Array.from(conversationMap.values()).map((conv) => {\r\n    const actorInfo = actorInfoMap.get(conv.otherApId);\r\n    return {\r\n      ap_id: conv.otherApId,\r\n      username: formatUsername(conv.otherApId),\r\n      preferred_username: actorInfo?.preferredUsername || null,\r\n      name: actorInfo?.name || null,\r\n      icon_url: actorInfo?.iconUrl || null,\r\n      conversation_id: conv.conversation,\r\n      last_message_at: conv.lastMessageAt,\r\n    };\r\n  });\r\n\r\n  // Sort by last message at\r\n  archived.sort((a, b) => {\r\n    const aTime = a.last_message_at || '';\r\n    const bTime = b.last_message_at || '';\r\n    return bTime.localeCompare(aTime);\r\n  });\r\n\r\n  return c.json({ archived });\r\n});\r\n\r\nexport default dm;\r\n", "import type { PrismaClient } from '../../../generated/prisma';\nimport { parseLimit } from '../../utils';\n\nexport const MAX_DM_CONTENT_LENGTH = 5000;\nexport const MAX_DM_PAGE_LIMIT = 100;\n\nexport { parseLimit };\n\nexport function getConversationId(baseUrl: string, ap1: string, ap2: string): string {\n  const [p1, p2] = [ap1, ap2].sort();\n  const hash = btoa(`${p1}:${p2}`).replace(/[^a-zA-Z0-9]/g, '').substring(0, 16);\n  return `${baseUrl}/ap/conversations/${hash}`;\n}\n\nexport async function resolveConversationId(\n  prisma: PrismaClient,\n  baseUrl: string,\n  actorApId: string,\n  otherApId: string\n): Promise<string> {\n  // Find existing conversation between these two actors\n  const existing = await prisma.object.findFirst({\n    where: {\n      visibility: 'direct',\n      type: 'Note',\n      conversation: { not: null },\n      OR: [\n        {\n          attributedTo: actorApId,\n          toJson: { contains: otherApId },\n        },\n        {\n          attributedTo: otherApId,\n          toJson: { contains: actorApId },\n        },\n      ],\n    },\n    orderBy: { published: 'desc' },\n    select: { conversation: true },\n  });\n\n  return existing?.conversation || getConversationId(baseUrl, actorApId, otherApId);\n}\n", "// Direct Messages - AP Native\r\n// DMs are Note objects with visibility='direct' and to=[recipient]\r\n// Threading via conversation field\r\n\r\nimport { Hono } from 'hono';\r\nimport type { Env, Variables } from '../../types';\r\nimport { generateId, objectApId, activityApId, formatUsername, signRequest, isLocal, isSafeRemoteUrl, safeJsonParse } from '../../utils';\r\nimport { MAX_DM_CONTENT_LENGTH, MAX_DM_PAGE_LIMIT, getConversationId, parseLimit } from './utils';\r\n\r\nconst dm = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\ntype Attachment = {\r\n  type?: string;\r\n  mediaType?: string;\r\n  url?: string;\r\n  [key: string]: unknown;\r\n};\r\n\r\ndm.get('/user/:encodedApId/messages', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const otherApId = decodeURIComponent(c.req.param('encodedApId'));\r\n  const limit = parseLimit(c.req.query('limit'), 50, MAX_DM_PAGE_LIMIT);\r\n  const before = c.req.query('before');\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  const conversationId = getConversationId(baseUrl, actor.ap_id, otherApId);\r\n\r\n  // Build where clause with database-level authorization\r\n  // Only return messages where the current actor is sender OR the toJson contains actor's ap_id\r\n  const whereClause: {\r\n    visibility: string;\r\n    type: string;\r\n    conversation: string;\r\n    published?: { lt: string };\r\n    OR: Array<{ attributedTo: string } | { toJson: { contains: string } }>;\r\n  } = {\r\n    visibility: 'direct',\r\n    type: 'Note',\r\n    conversation: conversationId,\r\n    // Database-level authorization: only messages where actor is sender or recipient\r\n    OR: [\r\n      { attributedTo: actor.ap_id },\r\n      { toJson: { contains: actor.ap_id } }\r\n    ]\r\n  };\r\n\r\n  if (before) {\r\n    whereClause.published = { lt: before };\r\n  }\r\n\r\n  // Query messages with authorization in the where clause\r\n  const messages = await prisma.object.findMany({\r\n    where: whereClause,\r\n    orderBy: { published: 'desc' },\r\n    take: limit\r\n  });\r\n\r\n  // Additional code-level validation for security in depth\r\n  const filteredMessages = messages.filter((msg) => {\r\n    if (msg.attributedTo === actor.ap_id) return true;\r\n    const toRecipients = safeJsonParse<string[]>(msg.toJson, []);\r\n    return toRecipients.includes(actor.ap_id);\r\n  });\r\n\r\n  // Get author info for all messages\r\n  const authorApIds = Array.from(new Set(filteredMessages.map(m => m.attributedTo)));\r\n\r\n  // Get local actors\r\n  const localActors = await prisma.actor.findMany({\r\n    where: { apId: { in: authorApIds } },\r\n    select: { apId: true, preferredUsername: true, name: true, iconUrl: true }\r\n  });\r\n  const localActorMap = new Map(localActors.map(a => [a.apId, a]));\r\n\r\n  // Get cached actors for remote users\r\n  const remoteApIds = authorApIds.filter(id => !localActorMap.has(id));\r\n  const cachedActors = remoteApIds.length > 0\r\n    ? await prisma.actorCache.findMany({\r\n        where: { apId: { in: remoteApIds } },\r\n        select: { apId: true, preferredUsername: true, name: true, iconUrl: true }\r\n      })\r\n    : [];\r\n  const cachedActorMap = new Map(cachedActors.map(a => [a.apId, a]));\r\n\r\n  const result = filteredMessages.reverse().map((msg) => {\r\n    const localActor = localActorMap.get(msg.attributedTo);\r\n    const cachedActor = cachedActorMap.get(msg.attributedTo);\r\n    const authorInfo = localActor || cachedActor;\r\n\r\n    return {\r\n      id: msg.apId,\r\n      sender: {\r\n        ap_id: msg.attributedTo,\r\n        username: formatUsername(msg.attributedTo),\r\n        preferred_username: authorInfo?.preferredUsername || null,\r\n        name: authorInfo?.name || null,\r\n        icon_url: authorInfo?.iconUrl || null,\r\n      },\r\n      content: msg.content,\r\n      attachments: safeJsonParse<Attachment[]>(msg.attachmentsJson, []),\r\n      created_at: msg.published,\r\n    };\r\n  });\r\n\r\n  return c.json({ messages: result, conversation_id: conversationId });\r\n});\r\n\r\n// Send message to a specific user (creates Note with direct visibility)\r\ndm.post('/user/:encodedApId/messages', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const otherApId = decodeURIComponent(c.req.param('encodedApId'));\r\n  const body = await c.req.json<{ content: string }>();\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  const content = body.content?.trim();\r\n  if (!content) {\r\n    return c.json({ error: 'Message content is required' }, 400);\r\n  }\r\n  if (content.length > MAX_DM_CONTENT_LENGTH) {\r\n    return c.json({ error: `Message too long (max ${MAX_DM_CONTENT_LENGTH} chars)` }, 400);\r\n  }\r\n\r\n  // Verify other user exists (check both local actors and cached remote actors)\r\n  const localActor = await prisma.actor.findUnique({\r\n    where: { apId: otherApId },\r\n    select: { apId: true, inbox: true }\r\n  });\r\n\r\n  const cachedActor = !localActor\r\n    ? await prisma.actorCache.findUnique({\r\n        where: { apId: otherApId },\r\n        select: { apId: true, inbox: true }\r\n      })\r\n    : null;\r\n\r\n  const otherActor = localActor || cachedActor;\r\n\r\n  if (!otherActor) {\r\n    return c.json({ error: 'User not found' }, 404);\r\n  }\r\n\r\n  const messageId = generateId();\r\n  const apId = objectApId(baseUrl, messageId);\r\n  const now = new Date().toISOString();\r\n  const conversationId = getConversationId(baseUrl, actor.ap_id, otherApId);\r\n\r\n  // Create Note object with direct visibility\r\n  const toJson = JSON.stringify([otherApId]);\r\n  const ccJson = JSON.stringify([]);\r\n\r\n  // Check if recipient is a local actor before transaction\r\n  const recipientIsLocal = await prisma.actor.findUnique({\r\n    where: { apId: otherApId },\r\n    select: { apId: true }\r\n  });\r\n  const isRecipientLocal = !!recipientIsLocal;\r\n  const activityId = isRecipientLocal ? activityApId(baseUrl, generateId()) : null;\r\n\r\n  try {\r\n    // Use transaction to ensure atomicity of message creation and related records\r\n    await prisma.$transaction(async (tx) => {\r\n      // Create the message object\r\n      await tx.object.create({\r\n        data: {\r\n          apId: apId,\r\n          type: 'Note',\r\n          attributedTo: actor.ap_id,\r\n          content: content,\r\n          visibility: 'direct',\r\n          toJson: toJson,\r\n          ccJson: ccJson,\r\n          conversation: conversationId,\r\n          published: now,\r\n          isLocal: 1\r\n        }\r\n      });\r\n\r\n      // Track recipient for efficient querying (if local)\r\n      if (isRecipientLocal) {\r\n        await tx.objectRecipient.upsert({\r\n          where: {\r\n            objectApId_recipientApId: {\r\n              objectApId: apId,\r\n              recipientApId: otherApId\r\n            }\r\n          },\r\n          create: {\r\n            objectApId: apId,\r\n            recipientApId: otherApId,\r\n            type: 'to'\r\n          },\r\n          update: {} // No update needed, just ensure it exists\r\n        });\r\n\r\n        // Record activity and inbox for the recipient\r\n        await tx.activity.create({\r\n          data: {\r\n            apId: activityId!,\r\n            type: 'Create',\r\n            actorApId: actor.ap_id,\r\n            objectApId: apId,\r\n            rawJson: JSON.stringify({ type: 'Create', actor: actor.ap_id, object: apId }),\r\n            direction: 'inbound'\r\n          }\r\n        });\r\n\r\n        await tx.inbox.create({\r\n          data: {\r\n            actorApId: otherApId,\r\n            activityApId: activityId!\r\n          }\r\n        });\r\n      }\r\n    });\r\n  } catch (e) {\r\n    console.error('[DM] Failed to insert message:', e);\r\n    return c.json({ error: 'Failed to send message' }, 500);\r\n  }\r\n\r\n  // Send to recipient's inbox if they're remote (outside transaction - delivery is best-effort)\r\n  if (!isLocal(otherApId, baseUrl) && otherActor.inbox) {\r\n    try {\r\n      if (!isSafeRemoteUrl(otherActor.inbox)) {\r\n        console.warn(`[DM] Blocked unsafe inbox URL: ${otherActor.inbox}`);\r\n      } else {\r\n        const createActivity = {\r\n          '@context': 'https://www.w3.org/ns/activitystreams',\r\n          id: activityApId(baseUrl, generateId()),\r\n          type: 'Create',\r\n          actor: actor.ap_id,\r\n          to: [otherApId],\r\n          object: {\r\n            id: apId,\r\n            type: 'Note',\r\n            attributedTo: actor.ap_id,\r\n            to: [otherApId],\r\n            content,\r\n            published: now,\r\n            conversation: conversationId,\r\n          },\r\n        };\r\n\r\n        const keyId = `${actor.ap_id}#main-key`;\r\n        const headers = await signRequest(actor.private_key_pem, keyId, 'POST', otherActor.inbox, JSON.stringify(createActivity));\r\n\r\n        await fetch(otherActor.inbox, {\r\n          method: 'POST',\r\n          headers: { ...headers, 'Content-Type': 'application/activity+json' },\r\n          body: JSON.stringify(createActivity),\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.error('Failed to deliver DM:', e);\r\n    }\r\n  }\r\n\r\n  return c.json({\r\n    message: {\r\n      id: apId,\r\n      sender: {\r\n        ap_id: actor.ap_id,\r\n        username: formatUsername(actor.ap_id),\r\n        preferred_username: actor.preferred_username,\r\n        name: actor.name,\r\n        icon_url: actor.icon_url,\r\n      },\r\n      content,\r\n      created_at: now,\r\n    },\r\n    conversation_id: conversationId,\r\n  }, 201);\r\n});\r\n\r\n// Edit a DM message\r\ndm.patch('/messages/:messageId', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const messageId = c.req.param('messageId');\r\n  const body = await c.req.json<{ content: string }>();\r\n\r\n  const content = body.content?.trim();\r\n  if (!content) {\r\n    return c.json({ error: 'Content is required' }, 400);\r\n  }\r\n  if (content.length > MAX_DM_CONTENT_LENGTH) {\r\n    return c.json({ error: `Message too long (max ${MAX_DM_CONTENT_LENGTH} chars)` }, 400);\r\n  }\r\n\r\n  // Get the message\r\n  const message = await prisma.object.findFirst({\r\n    where: {\r\n      apId: messageId,\r\n      visibility: 'direct',\r\n      type: 'Note'\r\n    },\r\n    select: { apId: true, attributedTo: true, conversation: true }\r\n  });\r\n\r\n  if (!message) {\r\n    return c.json({ error: 'Message not found' }, 404);\r\n  }\r\n\r\n  // Only sender can edit\r\n  if (message.attributedTo !== actor.ap_id) {\r\n    return c.json({ error: 'Forbidden' }, 403);\r\n  }\r\n\r\n  const now = new Date().toISOString();\r\n\r\n  await prisma.object.update({\r\n    where: { apId: message.apId },\r\n    data: {\r\n      content: content,\r\n      updated: now\r\n    }\r\n  });\r\n\r\n  return c.json({\r\n    success: true,\r\n    message: {\r\n      id: message.apId,\r\n      content,\r\n      updated_at: now,\r\n    },\r\n  });\r\n});\r\n\r\n// Delete a DM message\r\ndm.delete('/messages/:messageId', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const messageId = c.req.param('messageId');\r\n\r\n  // Get the message\r\n  const message = await prisma.object.findFirst({\r\n    where: {\r\n      apId: messageId,\r\n      visibility: 'direct',\r\n      type: 'Note'\r\n    },\r\n    select: { apId: true, attributedTo: true, conversation: true }\r\n  });\r\n\r\n  if (!message) {\r\n    return c.json({ error: 'Message not found' }, 404);\r\n  }\r\n\r\n  // Only sender can delete\r\n  if (message.attributedTo !== actor.ap_id) {\r\n    return c.json({ error: 'Forbidden' }, 403);\r\n  }\r\n\r\n  // Use transaction to ensure atomicity of message and recipients deletion\r\n  await prisma.$transaction(async (tx) => {\r\n    // Clean up object_recipients first (due to FK constraint)\r\n    await tx.objectRecipient.deleteMany({\r\n      where: { objectApId: message.apId }\r\n    });\r\n\r\n    // Delete the message\r\n    await tx.object.delete({\r\n      where: { apId: message.apId }\r\n    });\r\n  });\r\n\r\n  return c.json({ success: true });\r\n});\r\n\r\n// Legacy endpoints for backwards compatibility\r\n\r\ndm.get('/conversations/:id/messages', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const conversationId = c.req.param('id');\r\n  const limit = parseLimit(c.req.query('limit'), 50, MAX_DM_PAGE_LIMIT);\r\n  const before = c.req.query('before');\r\n\r\n  // Build where clause with database-level authorization\r\n  const whereClause: {\r\n    visibility: string;\r\n    type: string;\r\n    conversation: string;\r\n    published?: { lt: string };\r\n    OR: Array<{ attributedTo: string } | { toJson: { contains: string } }>;\r\n  } = {\r\n    visibility: 'direct',\r\n    type: 'Note',\r\n    conversation: conversationId,\r\n    // Database-level authorization: only messages where actor is sender or recipient\r\n    OR: [\r\n      { attributedTo: actor.ap_id },\r\n      { toJson: { contains: actor.ap_id } }\r\n    ]\r\n  };\r\n\r\n  if (before) {\r\n    whereClause.published = { lt: before };\r\n  }\r\n\r\n  // Query messages with authorization in the where clause\r\n  const messages = await prisma.object.findMany({\r\n    where: whereClause,\r\n    orderBy: { published: 'desc' },\r\n    take: limit\r\n  });\r\n\r\n  // Additional code-level validation for security in depth\r\n  const filteredMessages = messages.filter((msg) => {\r\n    if (msg.attributedTo === actor.ap_id) return true;\r\n    const toRecipients = safeJsonParse<string[]>(msg.toJson, []);\r\n    return toRecipients.includes(actor.ap_id);\r\n  });\r\n\r\n  // Get author info for all messages\r\n  const authorApIds = Array.from(new Set(filteredMessages.map(m => m.attributedTo)));\r\n\r\n  // Get local actors\r\n  const localActors = await prisma.actor.findMany({\r\n    where: { apId: { in: authorApIds } },\r\n    select: { apId: true, preferredUsername: true, name: true, iconUrl: true }\r\n  });\r\n  const localActorMap = new Map(localActors.map(a => [a.apId, a]));\r\n\r\n  // Get cached actors for remote users\r\n  const remoteApIds = authorApIds.filter(id => !localActorMap.has(id));\r\n  const cachedActors = remoteApIds.length > 0\r\n    ? await prisma.actorCache.findMany({\r\n        where: { apId: { in: remoteApIds } },\r\n        select: { apId: true, preferredUsername: true, name: true, iconUrl: true }\r\n      })\r\n    : [];\r\n  const cachedActorMap = new Map(cachedActors.map(a => [a.apId, a]));\r\n\r\n  const result = filteredMessages.reverse().map((msg) => {\r\n    const localActor = localActorMap.get(msg.attributedTo);\r\n    const cachedActor = cachedActorMap.get(msg.attributedTo);\r\n    const authorInfo = localActor || cachedActor;\r\n\r\n    return {\r\n      id: msg.apId,\r\n      sender: {\r\n        ap_id: msg.attributedTo,\r\n        username: formatUsername(msg.attributedTo),\r\n        preferred_username: authorInfo?.preferredUsername || null,\r\n        name: authorInfo?.name || null,\r\n        icon_url: authorInfo?.iconUrl || null,\r\n      },\r\n      content: msg.content,\r\n      created_at: msg.published,\r\n    };\r\n  });\r\n\r\n  return c.json({ messages: result });\r\n});\r\n\r\ndm.post('/conversations/:id/messages', async (c) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) return c.json({ error: 'Unauthorized' }, 401);\r\n  const prisma = c.get('prisma');\r\n\r\n  const conversationId = c.req.param('id');\r\n  const body = await c.req.json<{ content: string }>();\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  const content = body.content?.trim();\r\n  if (!content) {\r\n    return c.json({ error: 'Message content is required' }, 400);\r\n  }\r\n  if (content.length > MAX_DM_CONTENT_LENGTH) {\r\n    return c.json({ error: `Message too long (max ${MAX_DM_CONTENT_LENGTH} chars)` }, 400);\r\n  }\r\n\r\n  // Find the other participant from the conversation\r\n  // Get messages in this conversation where the actor is a participant\r\n  const existingMessages = await prisma.object.findMany({\r\n    where: {\r\n      conversation: conversationId,\r\n      visibility: 'direct'\r\n    },\r\n    select: {\r\n      attributedTo: true,\r\n      toJson: true\r\n    },\r\n    take: 10\r\n  });\r\n\r\n  // Find the other participant\r\n  let otherApId: string | null = null;\r\n  for (const msg of existingMessages) {\r\n    if (msg.attributedTo === actor.ap_id) {\r\n      // Actor is sender, get recipient from toJson\r\n      const recipients = safeJsonParse<string[]>(msg.toJson, []);\r\n      if (recipients.length > 0) {\r\n        otherApId = recipients[0];\r\n        break;\r\n      }\r\n    } else {\r\n      // Actor might be recipient, check toJson\r\n      const recipients = safeJsonParse<string[]>(msg.toJson, []);\r\n      if (recipients.includes(actor.ap_id)) {\r\n        otherApId = msg.attributedTo;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!otherApId) {\r\n    // Either conversation doesn't exist or actor is not a participant\r\n    return c.json({ error: 'Forbidden' }, 403);\r\n  }\r\n\r\n  const messageId = generateId();\r\n  const apId = objectApId(baseUrl, messageId);\r\n  const now = new Date().toISOString();\r\n\r\n  const toJson = JSON.stringify([otherApId]);\r\n  const ccJson = JSON.stringify([]);\r\n\r\n  // Check if recipient is a local actor before transaction\r\n  const recipientIsLocal = await prisma.actor.findUnique({\r\n    where: { apId: otherApId },\r\n    select: { apId: true }\r\n  });\r\n  const isRecipientLocal = !!recipientIsLocal;\r\n\r\n  // Use transaction to ensure atomicity of message creation and recipient tracking\r\n  await prisma.$transaction(async (tx) => {\r\n    await tx.object.create({\r\n      data: {\r\n        apId: apId,\r\n        type: 'Note',\r\n        attributedTo: actor.ap_id,\r\n        content: content,\r\n        visibility: 'direct',\r\n        toJson: toJson,\r\n        ccJson: ccJson,\r\n        conversation: conversationId,\r\n        published: now,\r\n        isLocal: 1\r\n      }\r\n    });\r\n\r\n    // Track recipient if they're a local actor\r\n    if (isRecipientLocal) {\r\n      await tx.objectRecipient.upsert({\r\n        where: {\r\n          objectApId_recipientApId: {\r\n            objectApId: apId,\r\n            recipientApId: otherApId\r\n          }\r\n        },\r\n        create: {\r\n          objectApId: apId,\r\n          recipientApId: otherApId,\r\n          type: 'to'\r\n        },\r\n        update: {}\r\n      });\r\n    }\r\n  });\r\n\r\n  return c.json({\r\n    message: {\r\n      id: apId,\r\n      sender: {\r\n        ap_id: actor.ap_id,\r\n        username: formatUsername(actor.ap_id),\r\n        preferred_username: actor.preferred_username,\r\n        name: actor.name,\r\n        icon_url: actor.icon_url,\r\n      },\r\n      content,\r\n      created_at: now,\r\n    }\r\n  }, 201);\r\n});\r\n\r\n// Typing indicator (local only)\r\n\r\nexport default dm;\r\n", "import { Hono } from 'hono';\r\nimport type { Env, Variables } from '../types';\r\nimport type { PrismaClient } from '../../generated/prisma';\r\nimport { generateId } from '../utils';\r\n\r\nconst media = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\n// Allowed MIME types for media upload\r\nconst ALLOWED_TYPES = ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'video/mp4', 'video/webm'];\r\n\r\n// File size limits\r\nconst MAX_IMAGE_SIZE = 20 * 1024 * 1024; // 20MB\r\nconst MAX_VIDEO_SIZE = 100 * 1024 * 1024; // 100MB\r\n\r\n// Magic bytes signatures for file type validation\r\n// These are the first bytes of valid files - used to verify actual content type\r\nconst MAGIC_BYTES: Record<string, { bytes: number[]; mask?: number[] }[]> = {\r\n  'image/jpeg': [\r\n    { bytes: [0xFF, 0xD8, 0xFF] }, // JPEG/JFIF\r\n  ],\r\n  'image/png': [\r\n    { bytes: [0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A] }, // PNG\r\n  ],\r\n  'image/gif': [\r\n    { bytes: [0x47, 0x49, 0x46, 0x38, 0x37, 0x61] }, // GIF87a\r\n    { bytes: [0x47, 0x49, 0x46, 0x38, 0x39, 0x61] }, // GIF89a\r\n  ],\r\n  'image/webp': [\r\n    // RIFF....WEBP - check first 4 bytes (RIFF) and bytes 8-11 (WEBP)\r\n    { bytes: [0x52, 0x49, 0x46, 0x46] }, // RIFF header (we'll also check WEBP below)\r\n  ],\r\n  'video/mp4': [\r\n    // ftyp box at offset 4 (bytes 4-7 are 'ftyp')\r\n    // Common MP4 signatures: ftypisom, ftypmp42, ftypMSNV, ftypM4V, etc.\r\n    { bytes: [0x66, 0x74, 0x79, 0x70] }, // 'ftyp' at various offsets\r\n  ],\r\n  'video/webm': [\r\n    { bytes: [0x1A, 0x45, 0xDF, 0xA3] }, // EBML/WebM/Matroska\r\n  ],\r\n};\r\n\r\n/**\r\n * Validates file content type by checking magic bytes\r\n * Returns true if the file content matches the expected MIME type\r\n */\r\nfunction validateMagicBytes(buffer: ArrayBuffer, mimeType: string): boolean {\r\n  const signatures = MAGIC_BYTES[mimeType];\r\n  if (!signatures) return false;\r\n\r\n  const bytes = new Uint8Array(buffer);\r\n\r\n  // Special handling for WebP - need to check both RIFF header and WEBP marker\r\n  if (mimeType === 'image/webp') {\r\n    // Check RIFF header (bytes 0-3) and WEBP marker (bytes 8-11)\r\n    const riff = [0x52, 0x49, 0x46, 0x46];\r\n    const webp = [0x57, 0x45, 0x42, 0x50];\r\n    if (bytes.length < 12) return false;\r\n    const hasRiff = riff.every((b, i) => bytes[i] === b);\r\n    const hasWebp = webp.every((b, i) => bytes[8 + i] === b);\r\n    return hasRiff && hasWebp;\r\n  }\r\n\r\n  // Special handling for MP4 - ftyp can be at offset 4 or 0\r\n  if (mimeType === 'video/mp4') {\r\n    const ftyp = [0x66, 0x74, 0x79, 0x70]; // 'ftyp'\r\n    if (bytes.length < 12) return false;\r\n    // Check for ftyp at offset 4 (most common)\r\n    const hasftypAt4 = ftyp.every((b, i) => bytes[4 + i] === b);\r\n    // Some MP4 files have ftyp at offset 0\r\n    const hasftypAt0 = ftyp.every((b, i) => bytes[i] === b);\r\n    return hasftypAt4 || hasftypAt0;\r\n  }\r\n\r\n  // Standard magic bytes check\r\n  for (const sig of signatures) {\r\n    if (bytes.length < sig.bytes.length) continue;\r\n\r\n    const matches = sig.bytes.every((byte, index) => {\r\n      if (sig.mask) {\r\n        return (bytes[index] & sig.mask[index]) === byte;\r\n      }\r\n      return bytes[index] === byte;\r\n    });\r\n\r\n    if (matches) return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n// Allowed file extensions (whitelist - no .bin for security)\r\nconst ALLOWED_EXTENSIONS = ['jpg', 'png', 'gif', 'webp', 'mp4', 'webm'] as const;\r\ntype AllowedExtension = typeof ALLOWED_EXTENSIONS[number];\r\n\r\n// Get file extension from MIME type (returns null for unsupported types)\r\nfunction getExtensionFromMimeType(mimeType: string): AllowedExtension | null {\r\n  const extensions: Record<string, AllowedExtension> = {\r\n    'image/jpeg': 'jpg',\r\n    'image/png': 'png',\r\n    'image/gif': 'gif',\r\n    'image/webp': 'webp',\r\n    'video/mp4': 'mp4',\r\n    'video/webm': 'webm',\r\n  };\r\n  return extensions[mimeType] || null;\r\n}\r\n\r\n// Validate filename to prevent path traversal and ensure only allowed extensions\r\nfunction isValidMediaFilename(filename: string): boolean {\r\n  // Must be: lowercase hex ID + . + allowed extension\r\n  // Pattern: only lowercase hex chars for ID, followed by dot, followed by allowed extension\r\n  const pattern = /^[a-f0-9]+\\.(jpg|png|gif|webp|mp4|webm)$/;\r\n  if (!pattern.test(filename)) {\r\n    return false;\r\n  }\r\n\r\n  // Additional path traversal checks (defense in depth)\r\n  if (filename.includes('..') || filename.includes('/') || filename.includes('\\\\') || filename.includes('\\x00')) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n// POST /api/media/upload - Upload media file to R2\r\nmedia.post('/upload', async (c) => {\r\n  try {\r\n    const actor = c.get('actor');\r\n    if (!actor) {\r\n      return c.json({ error: 'Unauthorized' }, 401);\r\n    }\r\n\r\n    const formData = await c.req.formData();\r\n    const file = formData.get('file') as File;\r\n\r\n    if (!file) {\r\n      return c.json({ error: 'No file provided' }, 400);\r\n    }\r\n\r\n    const contentType = file.type;\r\n\r\n    // Validate MIME type\r\n    if (!ALLOWED_TYPES.includes(contentType)) {\r\n      return c.json({\r\n        error: 'Invalid file type',\r\n        allowed: ALLOWED_TYPES,\r\n      }, 400);\r\n    }\r\n\r\n    // Check file size based on content type\r\n    const isVideo = contentType.startsWith('video/');\r\n    const maxSize = isVideo ? MAX_VIDEO_SIZE : MAX_IMAGE_SIZE;\r\n\r\n    if (file.size > maxSize) {\r\n      const maxMB = maxSize / 1024 / 1024;\r\n      return c.json({\r\n        error: `File too large. Maximum size is ${maxMB}MB for ${isVideo ? 'videos' : 'images'}`\r\n      }, 413);\r\n    }\r\n\r\n    // Get file buffer\r\n    const arrayBuffer = await file.arrayBuffer();\r\n\r\n    // Validate actual file content using magic bytes\r\n    // Don't trust the client-provided Content-Type header\r\n    if (!validateMagicBytes(arrayBuffer, contentType)) {\r\n      return c.json({\r\n        error: 'File content does not match declared type',\r\n        hint: 'The file appears to be a different format than specified',\r\n      }, 400);\r\n    }\r\n\r\n    // Generate unique ID and extension\r\n    const id = generateId();\r\n    const ext = getExtensionFromMimeType(contentType);\r\n\r\n    // Security: Reject unsupported MIME types (should never happen after ALLOWED_TYPES check, but defense in depth)\r\n    if (!ext) {\r\n      return c.json({ error: 'Unsupported file type' }, 400);\r\n    }\r\n\r\n    const r2Key = `uploads/${id}.${ext}`;\r\n\r\n    // Upload to R2\r\n    await c.env.MEDIA.put(r2Key, arrayBuffer, {\r\n      httpMetadata: {\r\n        contentType: contentType,\r\n      },\r\n    });\r\n\r\n    // Record the upload for ownership tracking (security fix)\r\n    const prisma = c.get('prisma');\r\n    await prisma.mediaUpload.create({\r\n      data: {\r\n        id,\r\n        r2Key,\r\n        uploaderApId: actor.ap_id,\r\n        contentType,\r\n        size: file.size,\r\n      },\r\n    });\r\n\r\n    // Generate public URL (assumes R2 public bucket or custom domain)\r\n    const url = `/media/${id}.${ext}`;\r\n\r\n    return c.json({\r\n      url,\r\n      r2_key: r2Key,\r\n      content_type: contentType,\r\n      id,\r\n    });\r\n  } catch (error) {\r\n    // Log error internally but don't expose details to client\r\n    console.error('Media upload failed:', error instanceof Error ? error.message : 'Unknown error');\r\n    return c.json({ error: 'Upload failed' }, 500);\r\n  }\r\n});\r\n\r\n// Check if user can access media based on associated object visibility\r\nasync function checkMediaAuthorization(\r\n  prisma: PrismaClient,\r\n  mediaUrl: string,\r\n  currentActorApId: string | null,\r\n  r2Key: string\r\n): Promise<{ allowed: boolean; reason?: string }> {\r\n  // Find object(s) that reference this media URL\r\n  // Search in attachmentsJson which contains URLs like /media/{id}.{ext}\r\n  const obj = await prisma.object.findFirst({\r\n    where: {\r\n      attachmentsJson: {\r\n        contains: mediaUrl,\r\n      },\r\n    },\r\n    select: {\r\n      apId: true,\r\n      attributedTo: true,\r\n      visibility: true,\r\n      toJson: true,\r\n    },\r\n  });\r\n\r\n  // If media is not attached to any object, it may be orphaned or newly uploaded\r\n  // SECURITY FIX: Only allow the uploader to access their own unattached media\r\n  if (!obj) {\r\n    // Media not attached to any object - require authentication\r\n    if (!currentActorApId) {\r\n      return { allowed: false, reason: 'Authentication required' };\r\n    }\r\n\r\n    // Check if this user uploaded the media by looking up the upload record\r\n    const uploadRecord = await prisma.mediaUpload.findFirst({\r\n      where: {\r\n        r2Key: r2Key,\r\n        uploaderApId: currentActorApId,\r\n      },\r\n    });\r\n\r\n    if (!uploadRecord) {\r\n      // User is not the uploader of this unattached media\r\n      return { allowed: false, reason: 'Not authorized to access this media' };\r\n    }\r\n\r\n    return { allowed: true };\r\n  }\r\n\r\n  // Public visibility - allow all\r\n  if (obj.visibility === 'public' || obj.visibility === 'unlisted') {\r\n    return { allowed: true };\r\n  }\r\n\r\n  // For non-public content, require authentication\r\n  if (!currentActorApId) {\r\n    return { allowed: false, reason: 'Authentication required' };\r\n  }\r\n\r\n  // Author can always access their own media\r\n  if (obj.attributedTo === currentActorApId) {\r\n    return { allowed: true };\r\n  }\r\n\r\n  // Followers-only visibility\r\n  if (obj.visibility === 'followers') {\r\n    const follow = await prisma.follow.findUnique({\r\n      where: {\r\n        followerApId_followingApId: {\r\n          followerApId: currentActorApId,\r\n          followingApId: obj.attributedTo,\r\n        },\r\n        status: 'accepted',\r\n      },\r\n    });\r\n\r\n    if (follow) {\r\n      return { allowed: true };\r\n    }\r\n    return { allowed: false, reason: 'Not authorized' };\r\n  }\r\n\r\n  // Direct messages - check if user is in recipients\r\n  if (obj.visibility === 'direct') {\r\n    try {\r\n      const recipients: string[] = JSON.parse(obj.toJson || '[]');\r\n      if (recipients.includes(currentActorApId)) {\r\n        return { allowed: true };\r\n      }\r\n    } catch {\r\n      // Invalid JSON, deny access\r\n    }\r\n    return { allowed: false, reason: 'Not authorized' };\r\n  }\r\n\r\n  // Unknown visibility - deny by default\r\n  return { allowed: false, reason: 'Not authorized' };\r\n}\r\n\r\n// GET /media/* - Serve media files from R2 with cache headers\r\nmedia.get('/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id');\r\n\r\n    if (!id) {\r\n      return c.notFound();\r\n    }\r\n\r\n    // Security: Validate filename format and prevent path traversal\r\n    // Only allow: lowercase hex ID + . + allowed extension (no .bin)\r\n    if (!isValidMediaFilename(id)) {\r\n      return c.notFound();\r\n    }\r\n\r\n    // Additional security: Ensure the resolved path stays within uploads directory\r\n    const r2Key = `uploads/${id}`;\r\n\r\n    // Verify the key doesn't escape the uploads directory (defense in depth)\r\n    if (!r2Key.startsWith('uploads/') || r2Key.includes('..')) {\r\n      return c.notFound();\r\n    }\r\n\r\n    // Authorization check\r\n    const actor = c.get('actor');\r\n    const prisma = c.get('prisma');\r\n    const mediaUrl = `/media/${id}`;\r\n    const authResult = await checkMediaAuthorization(\r\n      prisma,\r\n      mediaUrl,\r\n      actor?.ap_id || null,\r\n      r2Key\r\n    );\r\n\r\n    if (!authResult.allowed) {\r\n      return c.json({ error: authResult.reason || 'Forbidden' }, 403);\r\n    }\r\n\r\n    // Fetch from R2\r\n    const object = await c.env.MEDIA.get(r2Key);\r\n\r\n    if (!object) {\r\n      return c.notFound();\r\n    }\r\n\r\n    // Get content type from metadata\r\n    const contentType = object.httpMetadata?.contentType || 'application/octet-stream';\r\n\r\n    // Determine cache duration based on content type and visibility\r\n    // Private content should have shorter cache and private cache control\r\n    let cacheControl = 'public, max-age=31536000'; // 1 year for immutable content\r\n    if (contentType.startsWith('video/')) {\r\n      cacheControl = 'public, max-age=604800'; // 1 week for videos\r\n    }\r\n\r\n    // Return file with cache headers\r\n    return c.body(object.body, 200, {\r\n      'Content-Type': contentType,\r\n      'Cache-Control': cacheControl,\r\n      'ETag': object.httpMetadata?.contentType || 'true',\r\n    });\r\n  } catch (error) {\r\n    const errorMessage = error instanceof Error ? error.message : 'Unknown error';\r\n    return c.json({ error: 'Failed to fetch media', details: errorMessage }, 500);\r\n  }\r\n});\r\n\r\nexport default media;\r\n", "import { Hono } from 'hono';\r\nimport type { Env, Variables } from '../types';\r\nimport { actorApId, getDomain } from '../utils';\r\nimport { INSTANCE_ACTOR_USERNAME, MAX_ROOM_STREAM_LIMIT, getInstanceActor, parseLimit, roomApId } from './activitypub/utils';\r\nimport inboxRoutes from './activitypub/inbox';\r\nimport outboxRoutes from './activitypub/outbox';\r\nimport { withCache, CacheTTL, CacheTags } from '../middleware/cache';\r\n\r\nconst ap = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\n// WebFinger - Actor Discovery\r\n// ============================================================\r\n// Cached for 1 hour (rarely changes, important for federation)\r\n\r\nap.get('/.well-known/webfinger', withCache({\r\n  ttl: CacheTTL.WEBFINGER,\r\n  cacheTag: CacheTags.WEBFINGER,\r\n  queryParamsToInclude: ['resource'],\r\n}), async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const resource = c.req.query('resource');\r\n  if (!resource) return c.json({ error: 'resource parameter required' }, 400);\r\n\r\n  // Parse resource format: acct:username@domain or https://domain/ap/users/username\r\n  let username: string | null = null;\r\n  let domain: string | null = null;\r\n\r\n  if (resource.startsWith('acct:')) {\r\n    const acctPart = resource.slice(5);\r\n    const [user, host] = acctPart.split('@');\r\n    username = user;\r\n    domain = host;\r\n  } else if (resource.startsWith('http')) {\r\n    try {\r\n      const url = new URL(resource);\r\n      domain = url.host;\r\n      const match = resource.match(/\\/users\\/([^\\/]+)$/);\r\n      if (match) {\r\n        username = match[1];\r\n      }\r\n    } catch {\r\n      return c.json({ error: 'Invalid resource format' }, 400);\r\n    }\r\n  } else {\r\n    return c.json({ error: 'Invalid resource format' }, 400);\r\n  }\r\n\r\n  if (!username || !domain) return c.json({ error: 'Invalid resource format' }, 400);\r\n\r\n  const baseUrl = c.env.APP_URL;\r\n  const currentDomain = getDomain(baseUrl);\r\n\r\n  // Only respond for local domain\r\n  if (domain !== currentDomain) {\r\n    return c.json({ error: 'Actor not found' }, 404);\r\n  }\r\n\r\n  if (username === INSTANCE_ACTOR_USERNAME) {\r\n    const instanceActor = await getInstanceActor(c);\r\n    return c.json({\r\n      subject: `acct:${INSTANCE_ACTOR_USERNAME}@${domain}`,\r\n      aliases: [instanceActor.apId],\r\n      links: [\r\n        {\r\n          rel: 'self',\r\n          type: 'application/activity+json',\r\n          href: instanceActor.apId,\r\n        },\r\n        {\r\n          rel: 'http://webfinger.net/rel/profile-page',\r\n          type: 'text/html',\r\n          href: `${baseUrl}/groups`,\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  // Look up actor\r\n  const actor = await prisma.actor.findUnique({\r\n    where: { preferredUsername: username },\r\n    select: { apId: true, preferredUsername: true },\r\n  });\r\n\r\n  if (!actor) return c.json({ error: 'Actor not found' }, 404);\r\n\r\n  return c.json({\r\n    subject: `acct:${username}@${domain}`,\r\n    aliases: [actor.apId],\r\n    links: [\r\n      {\r\n        rel: 'self',\r\n        type: 'application/activity+json',\r\n        href: actor.apId,\r\n      },\r\n      {\r\n        rel: 'http://webfinger.net/rel/profile-page',\r\n        type: 'text/html',\r\n        href: `${baseUrl}/users/${username}`,\r\n      },\r\n    ],\r\n  });\r\n});\r\n\r\n// ============================================================\r\n\r\n// Actor Profile Endpoint\r\n// ============================================================\r\n// Cached for 10 minutes (ActivityPub actor JSON)\r\n\r\nap.get('/ap/users/:username', withCache({\r\n  ttl: CacheTTL.ACTIVITYPUB_ACTOR,\r\n  cacheTag: CacheTags.ACTOR,\r\n}), async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const username = c.req.param('username');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = actorApId(baseUrl, username);\r\n\r\n  const actor = await prisma.actor.findUnique({\r\n    where: { apId },\r\n    select: {\r\n      apId: true,\r\n      type: true,\r\n      preferredUsername: true,\r\n      name: true,\r\n      summary: true,\r\n      iconUrl: true,\r\n      headerUrl: true,\r\n      inbox: true,\r\n      outbox: true,\r\n      followersUrl: true,\r\n      followingUrl: true,\r\n      publicKeyPem: true,\r\n      followerCount: true,\r\n      followingCount: true,\r\n      postCount: true,\r\n      isPrivate: true,\r\n      createdAt: true,\r\n    },\r\n  });\r\n\r\n  if (!actor) return c.json({ error: 'Actor not found' }, 404);\r\n\r\n  // Build AP JSON-LD response\r\n  const actorResponse: Record<string, unknown> = {\r\n    '@context': [\r\n      'https://www.w3.org/ns/activitystreams',\r\n      'https://w3id.org/security/v1',\r\n    ],\r\n    id: actor.apId,\r\n    type: actor.type,\r\n    preferredUsername: actor.preferredUsername,\r\n    name: actor.name,\r\n    summary: actor.summary,\r\n    url: `${baseUrl}/users/${username}`,\r\n    icon: actor.iconUrl ? { type: 'Image', url: actor.iconUrl } : undefined,\r\n    image: actor.headerUrl ? { type: 'Image', url: actor.headerUrl } : undefined,\r\n    inbox: actor.inbox,\r\n    outbox: actor.outbox,\r\n    followers: actor.followersUrl,\r\n    following: actor.followingUrl,\r\n    publicKey: {\r\n      id: `${actor.apId}#main-key`,\r\n      owner: actor.apId,\r\n      publicKeyPem: actor.publicKeyPem,\r\n    },\r\n    discoverable: !actor.isPrivate,\r\n    published: actor.createdAt,\r\n  };\r\n\r\n  // Remove undefined fields\r\n  Object.keys(actorResponse).forEach((key) => {\r\n    if (actorResponse[key] === undefined) {\r\n      delete actorResponse[key];\r\n    }\r\n  });\r\n\r\n  c.header('Content-Type', 'application/activity+json');\r\n  return c.json(actorResponse);\r\n});\r\n\r\n// ============================================================\r\n\r\n// Group Actor (Instance Community)\r\n// ============================================================\r\n// Cached for 10 minutes\r\n\r\nap.get('/ap/actor', withCache({\r\n  ttl: CacheTTL.ACTIVITYPUB_ACTOR,\r\n  cacheTag: CacheTags.COMMUNITY,\r\n}), async (c) => {\r\n  const baseUrl = c.env.APP_URL;\r\n  const instanceActor = await getInstanceActor(c);\r\n\r\n  const actorResponse = {\r\n    '@context': [\r\n      'https://www.w3.org/ns/activitystreams',\r\n      'https://w3id.org/security/v1',\r\n      {\r\n        apc: 'https://yurucommu.com/ns/apc#',\r\n        rooms: { '@id': 'apc:rooms', '@type': '@id' },\r\n        joinPolicy: 'apc:joinPolicy',\r\n        postingPolicy: 'apc:postingPolicy',\r\n        visibility: 'apc:visibility',\r\n      },\r\n    ],\r\n    id: instanceActor.apId,\r\n    type: 'Group',\r\n    preferredUsername: instanceActor.preferredUsername,\r\n    name: instanceActor.name || 'Yurucommu',\r\n    summary: instanceActor.summary || '',\r\n    inbox: `${baseUrl}/ap/actor/inbox`,\r\n    outbox: `${baseUrl}/ap/actor/outbox`,\r\n    followers: `${baseUrl}/ap/actor/followers`,\r\n    following: `${baseUrl}/ap/actor/following`,\r\n    publicKey: {\r\n      id: `${instanceActor.apId}#main-key`,\r\n      owner: instanceActor.apId,\r\n      publicKeyPem: instanceActor.publicKeyPem,\r\n    },\r\n    rooms: `${baseUrl}/ap/rooms`,\r\n    joinPolicy: instanceActor.joinPolicy || 'open',\r\n    postingPolicy: instanceActor.postingPolicy || 'members',\r\n    visibility: instanceActor.visibility || 'public',\r\n  };\r\n\r\n  c.header('Content-Type', 'application/activity+json');\r\n  return c.json(actorResponse);\r\n});\r\n\r\n\r\n// Rooms (Communities)\r\n// ============================================================\r\n// Cached for 5 minutes\r\n\r\nap.get('/ap/rooms', withCache({\r\n  ttl: CacheTTL.COMMUNITY,\r\n  cacheTag: CacheTags.COMMUNITY,\r\n}), async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const baseUrl = c.env.APP_URL;\r\n\r\n  const rooms = await prisma.community.findMany({\r\n    select: {\r\n      preferredUsername: true,\r\n      name: true,\r\n      summary: true,\r\n    },\r\n    orderBy: { createdAt: 'asc' },\r\n  });\r\n\r\n  const items = rooms.map((room) => ({\r\n    id: roomApId(baseUrl, room.preferredUsername),\r\n    type: 'Room',\r\n    name: room.name,\r\n    summary: room.summary || '',\r\n  }));\r\n\r\n  return c.json({\r\n    '@context': [\r\n      'https://www.w3.org/ns/activitystreams',\r\n      {\r\n        'apc': 'https://yurucommu.com/ns/apc#',\r\n        'Room': 'apc:Room',\r\n      },\r\n    ],\r\n    id: `${baseUrl}/ap/rooms`,\r\n    type: 'OrderedCollection',\r\n    totalItems: items.length,\r\n    orderedItems: items,\r\n  });\r\n});\r\n\r\nap.get('/ap/rooms/:roomId', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const baseUrl = c.env.APP_URL;\r\n  const roomId = c.req.param('roomId');\r\n\r\n  const room = await prisma.community.findFirst({\r\n    where: {\r\n      OR: [\r\n        { preferredUsername: roomId },\r\n        { apId: roomId },\r\n      ],\r\n    },\r\n    select: {\r\n      preferredUsername: true,\r\n      name: true,\r\n      summary: true,\r\n    },\r\n  });\r\n\r\n  if (!room) return c.json({ error: 'Room not found' }, 404);\r\n\r\n  return c.json({\r\n    '@context': [\r\n      'https://www.w3.org/ns/activitystreams',\r\n      {\r\n        'apc': 'https://yurucommu.com/ns/apc#',\r\n        'Room': 'apc:Room',\r\n        'stream': { '@id': 'apc:stream', '@type': '@id' },\r\n      },\r\n    ],\r\n    id: roomApId(baseUrl, room.preferredUsername),\r\n    type: 'Room',\r\n    name: room.name,\r\n    summary: room.summary || '',\r\n    stream: `${roomApId(baseUrl, room.preferredUsername)}/stream`,\r\n  });\r\n});\r\n\r\nap.get('/ap/rooms/:roomId/stream', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const baseUrl = c.env.APP_URL;\r\n  const roomId = c.req.param('roomId');\r\n  const limit = parseLimit(c.req.query('limit'), 20, MAX_ROOM_STREAM_LIMIT);\r\n  const before = c.req.query('before');\r\n\r\n  const community = await prisma.community.findFirst({\r\n    where: {\r\n      OR: [\r\n        { preferredUsername: roomId },\r\n        { apId: roomId },\r\n      ],\r\n    },\r\n    select: {\r\n      apId: true,\r\n      preferredUsername: true,\r\n    },\r\n  });\r\n\r\n  if (!community) return c.json({ error: 'Room not found' }, 404);\r\n\r\n  const objects = await prisma.object.findMany({\r\n    where: {\r\n      type: 'Note',\r\n      communityApId: community.apId,\r\n      ...(before ? { published: { lt: before } } : {}),\r\n    },\r\n    select: {\r\n      apId: true,\r\n      attributedTo: true,\r\n      content: true,\r\n      published: true,\r\n    },\r\n    orderBy: { published: 'desc' },\r\n    take: limit,\r\n  });\r\n\r\n  const items = objects.map((o) => ({\r\n    id: o.apId,\r\n    type: 'Note',\r\n    attributedTo: o.attributedTo,\r\n    content: o.content,\r\n    published: o.published,\r\n    room: roomApId(baseUrl, community.preferredUsername),\r\n  }));\r\n\r\n  return c.json({\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    id: `${roomApId(baseUrl, community.preferredUsername)}/stream`,\r\n    type: 'OrderedCollection',\r\n    totalItems: items.length,\r\n    orderedItems: items,\r\n  });\r\n});\r\n// ============================================================\r\n\r\nap.route('/', inboxRoutes);\r\nap.route('/', outboxRoutes);\r\n\r\nexport default ap;\r\n", "import type { Context } from 'hono';\nimport type { Env, Variables } from '../../types';\nimport { generateKeyPair, parseLimit } from '../../utils';\n\nexport const INSTANCE_ACTOR_USERNAME = 'community';\nexport const MAX_ROOM_STREAM_LIMIT = 50;\n\nexport { parseLimit };\n\nexport function roomApId(baseUrl: string, roomId: string): string {\n  return `${baseUrl}/ap/rooms/${roomId}`;\n}\n\nexport type InstanceActorResult = {\n  apId: string;\n  preferredUsername: string;\n  name: string | null;\n  summary: string | null;\n  publicKeyPem: string;\n  privateKeyPem: string;\n  joinPolicy: string;\n  postingPolicy: string;\n  visibility: string;\n};\n\nexport async function getInstanceActor(c: Context<{ Bindings: Env; Variables: Variables }>): Promise<InstanceActorResult> {\n  const prisma = c.get('prisma');\n  const baseUrl = c.env.APP_URL;\n  const apId = `${baseUrl}/ap/actor`;\n\n  let actor = await prisma.instanceActor.findUnique({\n    where: { apId },\n  });\n\n  if (!actor) {\n    const { publicKeyPem, privateKeyPem } = await generateKeyPair();\n    const now = new Date().toISOString();\n    actor = await prisma.instanceActor.create({\n      data: {\n        apId,\n        preferredUsername: INSTANCE_ACTOR_USERNAME,\n        name: 'Yurucommu',\n        summary: 'Yurucommu Community',\n        publicKeyPem,\n        privateKeyPem,\n        joinPolicy: 'open',\n        postingPolicy: 'members',\n        visibility: 'public',\n        createdAt: now,\n        updatedAt: now,\n      },\n    });\n  }\n\n  return {\n    apId: actor.apId,\n    preferredUsername: actor.preferredUsername,\n    name: actor.name,\n    summary: actor.summary,\n    publicKeyPem: actor.publicKeyPem,\n    privateKeyPem: actor.privateKeyPem,\n    joinPolicy: actor.joinPolicy,\n    postingPolicy: actor.postingPolicy,\n    visibility: actor.visibility,\n  };\n}\n", "import { Hono } from 'hono';\nimport type { Context } from 'hono';\nimport type { Env, Variables } from '../../types';\nimport { activityApId, actorApId, generateId, isLocal, isSafeRemoteUrl } from '../../utils';\nimport { getInstanceActor } from './utils';\nimport type { Activity, RemoteActor } from './inbox-types';\nimport { getActivityObjectId } from './inbox-types';\nimport { handleGroupCreate, handleGroupFollow, handleGroupUndo } from './handlers/actorInboxHandlers';\nimport {\n  handleAccept,\n  handleAnnounce,\n  handleCreate,\n  handleDelete,\n  handleFollow,\n  handleLike,\n  handleReject,\n  handleUndo,\n  handleUpdate,\n} from './handlers/userInboxHandlers';\n\n/**\n * Parse the HTTP Signature header into its components\n */\nfunction parseSignatureHeader(signatureHeader: string): {\n  keyId: string;\n  algorithm: string;\n  headers: string[];\n  signature: string;\n} | null {\n  const params: Record<string, string> = {};\n  // Match key=\"value\" pairs, handling escaped quotes\n  const regex = /(\\w+)=\"([^\"]+)\"/g;\n  let match;\n  while ((match = regex.exec(signatureHeader)) !== null) {\n    params[match[1]] = match[2];\n  }\n\n  if (!params.keyId || !params.signature || !params.headers) {\n    return null;\n  }\n\n  return {\n    keyId: params.keyId,\n    algorithm: params.algorithm || 'rsa-sha256',\n    headers: params.headers.split(' '),\n    signature: params.signature,\n  };\n}\n\n/**\n * Fetch actor's public key from keyId URL\n */\nasync function fetchActorPublicKey(\n  keyId: string,\n  c: Context<{ Bindings: Env; Variables: Variables }>\n): Promise<string | null> {\n  if (!isSafeRemoteUrl(keyId)) {\n    console.warn(`[HTTP Signature] Blocked unsafe keyId URL: ${keyId}`);\n    return null;\n  }\n\n  const prisma = c.get('prisma');\n\n  // Extract actor URL from keyId (usually format: \"https://example.com/users/name#main-key\")\n  const actorUrl = keyId.includes('#') ? keyId.split('#')[0] : keyId;\n\n  // Check cache first\n  const cached = await prisma.actorCache.findUnique({\n    where: { apId: actorUrl },\n    select: { publicKeyPem: true },\n  });\n\n  if (cached?.publicKeyPem) {\n    return cached.publicKeyPem;\n  }\n\n  // Fetch actor document\n  try {\n    const res = await fetch(actorUrl, {\n      headers: { 'Accept': 'application/activity+json, application/ld+json' },\n    });\n\n    if (!res.ok) {\n      console.warn(`[HTTP Signature] Failed to fetch actor: ${res.status}`);\n      return null;\n    }\n\n    const actorData = await res.json() as RemoteActor;\n    if (!actorData?.publicKey?.publicKeyPem) {\n      console.warn(`[HTTP Signature] Actor has no public key`);\n      return null;\n    }\n\n    // Cache the actor for future requests\n    if (actorData.id && actorData.inbox && isSafeRemoteUrl(actorData.id) && isSafeRemoteUrl(actorData.inbox)) {\n      await prisma.actorCache.upsert({\n        where: { apId: actorData.id },\n        update: {\n          type: actorData.type || 'Person',\n          preferredUsername: actorData.preferredUsername,\n          name: actorData.name,\n          summary: actorData.summary,\n          iconUrl: actorData.icon?.url,\n          inbox: actorData.inbox,\n          publicKeyPem: actorData.publicKey.publicKeyPem,\n          rawJson: JSON.stringify(actorData),\n        },\n        create: {\n          apId: actorData.id,\n          type: actorData.type || 'Person',\n          preferredUsername: actorData.preferredUsername,\n          name: actorData.name,\n          summary: actorData.summary,\n          iconUrl: actorData.icon?.url,\n          inbox: actorData.inbox,\n          publicKeyPem: actorData.publicKey.publicKeyPem,\n          rawJson: JSON.stringify(actorData),\n        },\n      });\n    }\n\n    return actorData.publicKey.publicKeyPem;\n  } catch (e) {\n    console.error(`[HTTP Signature] Error fetching actor:`, e);\n    return null;\n  }\n}\n\n/**\n * Maximum allowed clock skew for HTTP signature validation (5 minutes)\n */\nconst MAX_SIGNATURE_AGE_MS = 5 * 60 * 1000;\n\n/**\n * Verify HTTP Signature on incoming ActivityPub request\n */\nasync function verifyHttpSignature(\n  c: Context<{ Bindings: Env; Variables: Variables }>,\n  body: string\n): Promise<{ valid: boolean; keyId?: string; error?: string }> {\n  const signatureHeader = c.req.header('Signature');\n  if (!signatureHeader) {\n    return { valid: false, error: 'Missing Signature header' };\n  }\n\n  const parsed = parseSignatureHeader(signatureHeader);\n  if (!parsed) {\n    return { valid: false, error: 'Invalid Signature header format' };\n  }\n\n  // Validate Date header timestamp (CRITICAL: prevents replay attacks)\n  const dateHeader = c.req.header('date');\n  if (dateHeader) {\n    const requestDate = new Date(dateHeader);\n    if (isNaN(requestDate.getTime())) {\n      return { valid: false, error: 'Invalid Date header format' };\n    }\n    const now = Date.now();\n    const requestTime = requestDate.getTime();\n    const timeDiff = Math.abs(now - requestTime);\n    if (timeDiff > MAX_SIGNATURE_AGE_MS) {\n      console.warn(`[HTTP Signature] Request too old/new: ${timeDiff}ms difference`);\n      return { valid: false, error: 'Request timestamp outside acceptable window' };\n    }\n  } else if (parsed.headers.includes('date')) {\n    // Date header is required in the signature but missing from request\n    return { valid: false, error: 'Missing Date header required by signature' };\n  }\n\n  // Only support rsa-sha256\n  if (parsed.algorithm !== 'rsa-sha256') {\n    return { valid: false, error: `Unsupported algorithm: ${parsed.algorithm}` };\n  }\n\n  // Build the signature string from headers\n  const url = new URL(c.req.url);\n  const signatureParts: string[] = [];\n\n  for (const headerName of parsed.headers) {\n    if (headerName === '(request-target)') {\n      signatureParts.push(`(request-target): ${c.req.method.toLowerCase()} ${url.pathname}`);\n    } else {\n      const headerValue = c.req.header(headerName);\n      if (!headerValue) {\n        return { valid: false, error: `Missing required header: ${headerName}` };\n      }\n      signatureParts.push(`${headerName}: ${headerValue}`);\n    }\n  }\n\n  const signatureString = signatureParts.join('\\n');\n\n  // Verify digest if present\n  if (parsed.headers.includes('digest')) {\n    const digestHeader = c.req.header('digest');\n    if (!digestHeader) {\n      return { valid: false, error: 'Digest header missing but required by signature' };\n    }\n\n    // Calculate expected digest\n    const bodyHash = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(body));\n    const expectedDigest = `SHA-256=${btoa(String.fromCharCode(...new Uint8Array(bodyHash)))}`;\n\n    if (digestHeader !== expectedDigest) {\n      return { valid: false, error: 'Digest mismatch' };\n    }\n  }\n\n  // Fetch public key\n  const publicKeyPem = await fetchActorPublicKey(parsed.keyId, c);\n  if (!publicKeyPem) {\n    return { valid: false, error: 'Could not fetch public key' };\n  }\n\n  // Import public key and verify signature\n  try {\n    const pemContents = publicKeyPem.replace(/-----[^-]+-----/g, '').replace(/\\s/g, '');\n    const binaryKey = Uint8Array.from(atob(pemContents), ch => ch.charCodeAt(0));\n    const cryptoKey = await crypto.subtle.importKey(\n      'spki',\n      binaryKey,\n      { name: 'RSASSA-PKCS1-v1_5', hash: 'SHA-256' },\n      false,\n      ['verify']\n    );\n\n    const signatureBytes = Uint8Array.from(atob(parsed.signature), ch => ch.charCodeAt(0));\n    const valid = await crypto.subtle.verify(\n      'RSASSA-PKCS1-v1_5',\n      cryptoKey,\n      signatureBytes,\n      new TextEncoder().encode(signatureString)\n    );\n\n    if (!valid) {\n      return { valid: false, error: 'Signature verification failed' };\n    }\n\n    return { valid: true, keyId: parsed.keyId };\n  } catch (e) {\n    console.error('[HTTP Signature] Verification error:', e);\n    return { valid: false, error: 'Signature verification error' };\n  }\n}\n\nconst ap = new Hono<{ Bindings: Env; Variables: Variables }>();\n\nap.post('/ap/actor/inbox', async (c) => {\n  const prisma = c.get('prisma');\n  const instanceActor = await getInstanceActor(c);\n  const baseUrl = c.env.APP_URL;\n\n  // Get raw body for signature verification\n  const body = await c.req.text();\n\n  // Verify HTTP signature\n  const signatureResult = await verifyHttpSignature(c, body);\n  if (!signatureResult.valid) {\n    console.warn(`[ActivityPub] Signature verification failed: ${signatureResult.error}`);\n    return c.json({ error: 'Signature verification failed' }, 401);\n  }\n\n  let activity: Activity;\n  try {\n    activity = JSON.parse(body) as Activity;\n  } catch {\n    return c.json({ error: 'Invalid JSON' }, 400);\n  }\n\n  const activityId = typeof activity.id === 'string' ? activity.id : activityApId(baseUrl, generateId());\n  const actor = typeof activity.actor === 'string' ? activity.actor : null;\n  const activityType = typeof activity.type === 'string' ? activity.type : null;\n  const activityObjectId = getActivityObjectId(activity);\n\n  if (!actor || !activityType) {\n    return c.json({ error: 'Invalid activity' }, 400);\n  }\n\n  // Verify that the signature's keyId matches the activity's actor\n  // The keyId is typically in the format \"https://example.com/users/name#main-key\"\n  const signingActorUrl = signatureResult.keyId?.includes('#')\n    ? signatureResult.keyId.split('#')[0]\n    : signatureResult.keyId;\n\n  // Check actor mismatch with improved key delegation handling\n  let actorMismatch = signingActorUrl !== actor;\n  if (actorMismatch && signingActorUrl && actor) {\n    try {\n      const signingDomain = new URL(signingActorUrl).hostname;\n      const actorDomain = new URL(actor).hostname;\n      // Allow key delegation from same domain (server signing for its users)\n      if (signingDomain === actorDomain) {\n        console.info(`[ActivityPub] Accepting key delegation: signing key ${signingActorUrl} for actor ${actor} (same domain: ${signingDomain})`);\n        actorMismatch = false;\n      }\n    } catch {\n      // Invalid URL, treat as mismatch\n    }\n  }\n  if (actorMismatch) {\n    console.warn(`[ActivityPub] Actor mismatch: activity actor ${actor} does not match signing key ${signingActorUrl}`);\n    return c.json({ error: 'Actor mismatch' }, 401);\n  }\n\n  // Check for duplicate activity before storing\n  const existingActivity = await prisma.activity.findUnique({\n    where: { apId: activityId },\n    select: { apId: true, rawJson: true },\n  });\n  if (existingActivity) {\n    const existingRaw = existingActivity.rawJson;\n    const newRaw = JSON.stringify(activity);\n    if (existingRaw !== newRaw) {\n      console.warn(`[ActivityPub] Duplicate activity ${activityId} received with different content`);\n    }\n    return c.json({ success: true });\n  }\n\n  await prisma.activity.create({\n    data: {\n      apId: activityId,\n      type: activityType,\n      actorApId: actor,\n      objectApId: activityObjectId,\n      rawJson: JSON.stringify(activity),\n      direction: 'inbound',\n    },\n  });\n\n  switch (activityType) {\n    case 'Follow':\n      await handleGroupFollow(c, activity, instanceActor, actor, baseUrl, activityId);\n      break;\n    case 'Undo':\n      await handleGroupUndo(c, activity, instanceActor);\n      break;\n    case 'Create':\n      await handleGroupCreate(c, activity, instanceActor, actor, baseUrl);\n      break;\n    default:\n      // Unhandled activity types are silently ignored\n  }\n\n  return c.json({ success: true });\n});\n\n// Inbox - Receive Activities\n// ============================================================\n\nap.post('/ap/users/:username/inbox', async (c) => {\n  const prisma = c.get('prisma');\n  const username = c.req.param('username');\n  const baseUrl = c.env.APP_URL;\n  const apId = actorApId(baseUrl, username);\n\n  // Get the recipient actor\n  const recipient = await prisma.actor.findUnique({\n    where: { apId },\n  });\n\n  if (!recipient) return c.json({ error: 'Actor not found' }, 404);\n\n  // Get raw body for signature verification\n  const body = await c.req.text();\n\n  // Verify HTTP signature\n  const signatureResult = await verifyHttpSignature(c, body);\n  if (!signatureResult.valid) {\n    console.warn(`[ActivityPub] Signature verification failed for ${username}: ${signatureResult.error}`);\n    return c.json({ error: 'Signature verification failed' }, 401);\n  }\n\n  let activity: Activity;\n  try {\n    activity = JSON.parse(body) as Activity;\n  } catch {\n    return c.json({ error: 'Invalid JSON' }, 400);\n  }\n\n  const activityId = typeof activity.id === 'string' ? activity.id : activityApId(baseUrl, generateId());\n  const actor = typeof activity.actor === 'string' ? activity.actor : null;\n  const activityType = typeof activity.type === 'string' ? activity.type : null;\n  const activityObjectId = getActivityObjectId(activity);\n\n  if (!actor || !activityType) {\n    return c.json({ error: 'Invalid activity' }, 400);\n  }\n\n  // Verify that the signature's keyId matches the activity's actor\n  // The keyId is typically in the format \"https://example.com/users/name#main-key\"\n  const signingActorUrl = signatureResult.keyId?.includes('#')\n    ? signatureResult.keyId.split('#')[0]\n    : signatureResult.keyId;\n\n  // Check actor mismatch with improved key delegation handling\n  // Allow if: 1) exact match, or 2) signing key is from same domain (server signing on behalf of actor)\n  let actorMismatch = signingActorUrl !== actor;\n  if (actorMismatch && signingActorUrl && actor) {\n    try {\n      const signingDomain = new URL(signingActorUrl).hostname;\n      const actorDomain = new URL(actor).hostname;\n      // Allow key delegation from same domain (server signing for its users)\n      if (signingDomain === actorDomain) {\n        console.info(`[ActivityPub] Accepting key delegation: signing key ${signingActorUrl} for actor ${actor} (same domain: ${signingDomain})`);\n        actorMismatch = false;\n      }\n    } catch {\n      // Invalid URL, treat as mismatch\n    }\n  }\n  if (actorMismatch) {\n    console.warn(`[ActivityPub] Actor mismatch: activity actor ${actor} does not match signing key ${signingActorUrl}`);\n    return c.json({ error: 'Actor mismatch' }, 401);\n  }\n\n  // Check for duplicate activity before storing\n  const existingActivity = await prisma.activity.findUnique({\n    where: { apId: activityId },\n    select: { apId: true, rawJson: true },\n  });\n  if (existingActivity) {\n    // Log if duplicate has different content (potential attack or resend)\n    const existingRaw = existingActivity.rawJson;\n    const newRaw = JSON.stringify(activity);\n    if (existingRaw !== newRaw) {\n      console.warn(`[ActivityPub] Duplicate activity ${activityId} received with different content. Original: ${existingRaw.substring(0, 200)}... New: ${newRaw.substring(0, 200)}...`);\n    }\n    // Return success to not leak information about whether we have this activity\n    return c.json({ success: true });\n  }\n\n  // Store activity\n  await prisma.activity.create({\n    data: {\n      apId: activityId,\n      type: activityType,\n      actorApId: actor,\n      objectApId: activityObjectId,\n      rawJson: JSON.stringify(activity),\n      direction: 'inbound',\n    },\n  });\n\n  // Cache remote actor if not already cached\n  if (!isLocal(actor, baseUrl)) {\n    const cached = await prisma.actorCache.findUnique({\n      where: { apId: actor },\n      select: { apId: true },\n    });\n    if (!cached) {\n      try {\n        if (!isSafeRemoteUrl(actor)) {\n          console.warn(`[ActivityPub] Blocked unsafe actor fetch: ${actor}`);\n        } else {\n          const res = await fetch(actor, {\n            headers: { 'Accept': 'application/activity+json, application/ld+json' }\n          });\n          if (res.ok) {\n            const actorData = await res.json() as RemoteActor;\n            // HIGH #11: Verify fetched actor ID matches the fetch URL\n            if (actorData?.id !== actor) {\n              console.warn(`[ActivityPub] Actor ID mismatch: fetched ${actor} but got id ${actorData?.id}`);\n              // Don't cache mismatched actor data\n            } else if (\n              actorData?.id &&\n              actorData?.inbox &&\n              isSafeRemoteUrl(actorData.id) &&\n              isSafeRemoteUrl(actorData.inbox)\n            ) {\n              await prisma.actorCache.create({\n                data: {\n                  apId: actorData.id,\n                  type: actorData.type || 'Person',\n                  preferredUsername: actorData.preferredUsername,\n                  name: actorData.name,\n                  summary: actorData.summary,\n                  iconUrl: actorData.icon?.url,\n                  inbox: actorData.inbox,\n                  publicKeyPem: actorData.publicKey?.publicKeyPem,\n                  rawJson: JSON.stringify(actorData),\n                },\n              });\n            }\n          }\n        }\n      } catch (e) {\n        console.error('Failed to cache remote actor:', e);\n      }\n    }\n  }\n\n  // Handle different activity types\n  switch (activityType) {\n    case 'Follow':\n      await handleFollow(c, activity, recipient, actor, baseUrl);\n      break;\n    case 'Accept':\n      await handleAccept(c, activity);\n      break;\n    case 'Undo':\n      await handleUndo(c, activity, recipient, actor, baseUrl);\n      break;\n    case 'Like':\n      await handleLike(c, activity, recipient, actor, baseUrl);\n      break;\n    case 'Create':\n      await handleCreate(c, activity, recipient, actor, baseUrl);\n      break;\n    case 'Delete':\n      await handleDelete(c, activity);\n      break;\n    case 'Announce':\n      await handleAnnounce(c, activity, recipient, actor, baseUrl);\n      break;\n    case 'Update':\n      await handleUpdate(c, activity, actor);\n      break;\n    case 'Reject':\n      await handleReject(c, activity);\n      break;\n    case 'Add':\n    case 'Remove':\n    case 'Block':\n    case 'Flag':\n    case 'Move':\n      // Known but unsupported activity types - silently acknowledge\n      break;\n    default:\n      // Log unknown activity types for debugging (production: remove or use proper logging)\n      if (activityType) {\n        console.warn(`[ActivityPub] Unhandled activity type: ${activityType} from ${actor}`);\n      }\n  }\n\n  return c.json({ success: true });\n});\n\nexport default ap;\n", "\uFEFFimport type { Env } from '../../types';\n\nexport type ActivityObject = {\n  id?: string;\n  type?: string;\n  object?: string;\n  inReplyTo?: string;\n  to?: string[];\n  content?: string;\n  summary?: string | null;\n  attachment?: unknown;\n  overlays?: unknown;\n  endTime?: string;\n  displayDuration?: string;\n  published?: string;\n  room?: string;\n};\n\nexport type Activity = {\n  id?: string;\n  type?: string;\n  actor?: string;\n  object?: string | ActivityObject;\n  room?: string;\n};\n\nexport type RemoteActor = {\n  id: string;\n  type?: string;\n  preferredUsername?: string;\n  name?: string;\n  summary?: string;\n  icon?: { url?: string };\n  inbox?: string;\n  outbox?: string;\n  publicKey?: { id?: string; publicKeyPem?: string };\n};\n\nexport type ActorCacheInboxRow = {\n  inbox: string;\n};\n\nexport type ActivityRow = {\n  type: string;\n  object_ap_id: string | null;\n};\n\nexport type ObjectApIdRow = {\n  object_ap_id: string;\n};\n\nexport type AttributedToRow = {\n  attributed_to: string;\n};\n\nexport type ObjectOwnerRow = {\n  ap_id: string;\n  attributed_to: string;\n};\n\nexport type ObjectDeleteRow = {\n  attributed_to: string;\n  type: string;\n  reply_count: number;\n};\n\nexport type FollowRow = {\n  follower_ap_id: string;\n  following_ap_id: string;\n  activity_ap_id: string;\n  status: string;\n};\n\nexport type CommunityRow = {\n  ap_id: string;\n  preferred_username: string;\n};\n\nexport type InstanceActor = {\n  ap_id: string;\n  private_key_pem: string;\n  join_policy?: string;\n  posting_policy?: string;\n};\n\nexport type ActivityContext = { env: Env };\n\nexport type StoryOverlay = {\n  position?: {\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n  };\n};\n\nexport function getActivityObject(activity: Activity): ActivityObject | null {\n  if (!activity.object || typeof activity.object === 'string') return null;\n  return activity.object;\n}\n\nexport function getActivityObjectId(activity: Activity): string | null {\n  if (!activity.object) return null;\n  if (typeof activity.object === 'string') return activity.object;\n  return activity.object.id || null;\n}\r\n", "import type { Context } from 'hono';\nimport type { Env, Variables } from '../../../types';\nimport {\n  activityApId,\n  generateId,\n  isLocal,\n  isSafeRemoteUrl,\n  objectApId,\n  signRequest,\n  fetchWithTimeout,\n} from '../../../utils';\nimport type { InstanceActorResult } from '../utils';\nimport {\n  Activity,\n  RemoteActor,\n  getActivityObject,\n  getActivityObjectId,\n} from '../inbox-types';\n\ntype ActivityContext = Context<{ Bindings: Env; Variables: Variables }>;\n\nasync function fetchRemoteInbox(c: ActivityContext, actorApIdStr: string): Promise<string | null> {\n  const prisma = c.get('prisma');\n\n  const cached = await prisma.actorCache.findUnique({\n    where: { apId: actorApIdStr },\n    select: { inbox: true },\n  });\n\n  if (cached?.inbox) {\n    if (!isSafeRemoteUrl(cached.inbox)) {\n      console.warn(`[ActivityPub] Blocked unsafe inbox URL: ${cached.inbox}`);\n      return null;\n    }\n    return cached.inbox;\n  }\n\n  try {\n    if (!isSafeRemoteUrl(actorApIdStr)) {\n      console.warn(`[ActivityPub] Blocked unsafe actor fetch: ${actorApIdStr}`);\n      return null;\n    }\n    const res = await fetch(actorApIdStr, {\n      headers: { 'Accept': 'application/activity+json, application/ld+json' }\n    });\n    if (!res.ok) return null;\n    const actorData = await res.json() as RemoteActor;\n    if (!actorData?.inbox || !isSafeRemoteUrl(actorData.inbox)) return null;\n\n    await prisma.actorCache.upsert({\n      where: { apId: actorData.id },\n      update: {\n        type: actorData.type || 'Person',\n        preferredUsername: actorData.preferredUsername,\n        name: actorData.name,\n        summary: actorData.summary,\n        iconUrl: actorData.icon?.url,\n        inbox: actorData.inbox,\n        outbox: actorData.outbox,\n        publicKeyId: actorData.publicKey?.id,\n        publicKeyPem: actorData.publicKey?.publicKeyPem,\n        rawJson: JSON.stringify(actorData),\n      },\n      create: {\n        apId: actorData.id,\n        type: actorData.type || 'Person',\n        preferredUsername: actorData.preferredUsername,\n        name: actorData.name,\n        summary: actorData.summary,\n        iconUrl: actorData.icon?.url,\n        inbox: actorData.inbox,\n        outbox: actorData.outbox,\n        publicKeyId: actorData.publicKey?.id,\n        publicKeyPem: actorData.publicKey?.publicKeyPem,\n        rawJson: JSON.stringify(actorData),\n      },\n    });\n\n    return actorData.inbox;\n  } catch (e) {\n    console.error('Failed to fetch remote actor:', e);\n    return null;\n  }\n}\n\nexport async function handleGroupFollow(\n  c: ActivityContext,\n  _activity: Activity,\n  instanceActor: InstanceActorResult,\n  actorApIdStr: string,\n  baseUrl: string,\n  activityId: string\n) {\n  const prisma = c.get('prisma');\n\n  const existing = await prisma.follow.findUnique({\n    where: {\n      followerApId_followingApId: {\n        followerApId: actorApIdStr,\n        followingApId: instanceActor.apId,\n      },\n    },\n  });\n  if (existing) return;\n\n  let status: 'accepted' | 'pending' | 'rejected' = 'accepted';\n  if (instanceActor.joinPolicy === 'approval') {\n    status = 'pending';\n  } else if (instanceActor.joinPolicy === 'invite') {\n    status = 'rejected';\n  }\n\n  const now = new Date().toISOString();\n  await prisma.follow.create({\n    data: {\n      followerApId: actorApIdStr,\n      followingApId: instanceActor.apId,\n      status,\n      activityApId: activityId,\n      acceptedAt: status === 'accepted' ? now : null,\n    },\n  });\n\n  if (isLocal(actorApIdStr, baseUrl)) return;\n\n  if (status === 'accepted' || status === 'rejected') {\n    const inboxUrl = await fetchRemoteInbox(c, actorApIdStr);\n    if (!inboxUrl) return;\n    if (!isSafeRemoteUrl(inboxUrl)) {\n      console.warn(`[ActivityPub] Blocked unsafe inbox URL: ${inboxUrl}`);\n      return;\n    }\n\n    const responseType = status === 'accepted' ? 'Accept' : 'Reject';\n    const responseId = activityApId(baseUrl, generateId());\n    const responseActivity = {\n      '@context': 'https://www.w3.org/ns/activitystreams',\n      id: responseId,\n      type: responseType,\n      actor: instanceActor.apId,\n      object: activityId,\n    };\n\n    const keyId = `${instanceActor.apId}#main-key`;\n    const headers = await signRequest(\n      instanceActor.privateKeyPem,\n      keyId,\n      'POST',\n      inboxUrl,\n      JSON.stringify(responseActivity)\n    );\n\n    try {\n      await fetchWithTimeout(inboxUrl, {\n        method: 'POST',\n        headers: { ...headers, 'Content-Type': 'application/activity+json' },\n        body: JSON.stringify(responseActivity),\n        timeout: 15000, // 15 second timeout for ActivityPub federation\n      });\n    } catch (e) {\n      console.error(`Failed to send ${responseType}:`, e);\n    }\n\n    await prisma.activity.create({\n      data: {\n        apId: responseId,\n        type: responseType,\n        actorApId: instanceActor.apId,\n        objectApId: activityId,\n        rawJson: JSON.stringify(responseActivity),\n        direction: 'outbound',\n      },\n    });\n  }\n}\n\nexport async function handleGroupUndo(\n  c: ActivityContext,\n  activity: Activity,\n  instanceActor: InstanceActorResult\n) {\n  const prisma = c.get('prisma');\n  const objectId = getActivityObjectId(activity);\n  if (!objectId) return;\n\n  const follow = await prisma.follow.findFirst({\n    where: {\n      activityApId: objectId,\n      followingApId: instanceActor.apId,\n    },\n  });\n\n  if (follow) {\n    await prisma.follow.delete({\n      where: {\n        followerApId_followingApId: {\n          followerApId: follow.followerApId,\n          followingApId: follow.followingApId,\n        },\n      },\n    });\n    return;\n  }\n\n  if (getActivityObject(activity)?.type === 'Follow') {\n    await prisma.follow.deleteMany({\n      where: {\n        followerApId: activity.actor,\n        followingApId: instanceActor.apId,\n      },\n    });\n  }\n}\n\nexport async function handleGroupCreate(\n  c: ActivityContext,\n  activity: Activity,\n  instanceActor: InstanceActorResult,\n  actorApIdStr: string,\n  baseUrl: string\n) {\n  const prisma = c.get('prisma');\n  const object = getActivityObject(activity);\n  if (!object || object.type !== 'Note') return;\n\n  const roomUrl = object.room || activity.room;\n  if (!roomUrl || typeof roomUrl !== 'string') return;\n  const match = roomUrl.match(/\\/ap\\/rooms\\/([^\\/]+)$/);\n  if (!match) return;\n  const roomId = match[1];\n\n  const community = await prisma.community.findFirst({\n    where: {\n      OR: [\n        { preferredUsername: roomId },\n        { apId: roomId },\n      ],\n    },\n    select: { apId: true, preferredUsername: true },\n  });\n  if (!community) return;\n\n  const postingPolicy = instanceActor.postingPolicy || 'members';\n  if (postingPolicy !== 'anyone') {\n    const follow = await prisma.follow.findUnique({\n      where: {\n        followerApId_followingApId: {\n          followerApId: actorApIdStr,\n          followingApId: instanceActor.apId,\n        },\n        status: 'accepted',\n      },\n    });\n    if (!follow) return;\n    if (postingPolicy === 'mods' || postingPolicy === 'owners') return;\n  }\n\n  const objectId = object.id || objectApId(baseUrl, generateId());\n  const existing = await prisma.object.findUnique({\n    where: { apId: objectId },\n  });\n  if (existing) return;\n\n  const attachments = object.attachment ? JSON.stringify(object.attachment) : '[]';\n  const now = object.published || new Date().toISOString();\n\n  await prisma.object.create({\n    data: {\n      apId: objectId,\n      type: 'Note',\n      attributedTo: actorApIdStr,\n      content: object.content || '',\n      summary: object.summary || null,\n      attachmentsJson: attachments,\n      visibility: 'group',\n      communityApId: community.apId,\n      published: now,\n      isLocal: 0,\n    },\n  });\n\n  // Using $executeRaw with INSERT OR IGNORE since ObjectRecipient FK expects Actor, not Community\n  await prisma.$executeRaw`\n    INSERT OR IGNORE INTO object_recipients (object_ap_id, recipient_ap_id, type, created_at)\n    VALUES (${objectId}, ${community.apId}, 'audience', ${now})\n  `;\n}\n", "import type { Context } from 'hono';\nimport type { Env, Variables } from '../../../types';\nimport type { Actor as PrismaActor } from '../../../../generated/prisma';\nimport {\n  activityApId,\n  generateId,\n  isLocal,\n  isSafeRemoteUrl,\n  objectApId,\n  signRequest,\n  fetchWithTimeout,\n} from '../../../utils';\nimport {\n  Activity,\n  StoryOverlay,\n  getActivityObject,\n  getActivityObjectId,\n} from '../inbox-types';\n\ntype ActivityContext = Context<{ Bindings: Env; Variables: Variables }>;\n\n// Handle Follow activity\nexport async function handleFollow(\n  c: ActivityContext,\n  activity: Activity,\n  recipient: PrismaActor,\n  actor: string,\n  baseUrl: string\n) {\n  const prisma = c.get('prisma');\n\n  const activityId = activity.id || activityApId(baseUrl, generateId());\n\n  // Determine if we need to approve\n  const status = recipient.isPrivate ? 'pending' : 'accepted';\n  const now = new Date().toISOString();\n\n  // Use upsert to atomically create or update follow record (prevents race condition)\n  const result = await prisma.follow.upsert({\n    where: {\n      followerApId_followingApId: {\n        followerApId: actor,\n        followingApId: recipient.apId,\n      },\n    },\n    update: {}, // No update if already exists\n    create: {\n      followerApId: actor,\n      followingApId: recipient.apId,\n      status,\n      activityApId: activityId,\n      acceptedAt: status === 'accepted' ? now : null,\n    },\n  });\n\n  // If this was an existing follow, the createdAt will be in the past\n  // Only proceed with count updates and notifications for new follows\n  const isNewFollow = result.activityApId === activityId;\n\n  // Only update counts and send notifications for new follows\n  if (!isNewFollow) return;\n\n  // Update counts if accepted\n  if (status === 'accepted') {\n    await prisma.actor.update({\n      where: { apId: recipient.apId },\n      data: { followerCount: { increment: 1 } },\n    });\n  }\n\n  // Store activity and add to inbox (AP Native notification)\n  await prisma.activity.upsert({\n    where: { apId: activityId },\n    update: {},\n    create: {\n      apId: activityId,\n      type: 'Follow',\n      actorApId: actor,\n      objectApId: recipient.apId,\n      rawJson: JSON.stringify(activity),\n    },\n  });\n\n  await prisma.inbox.create({\n    data: {\n      actorApId: recipient.apId,\n      activityApId: activityId,\n      read: 0,\n      createdAt: now,\n    },\n  });\n\n  // Send Accept response\n  if (!isLocal(actor, baseUrl)) {\n    const cachedActor = await prisma.actorCache.findUnique({\n      where: { apId: actor },\n      select: { inbox: true },\n    });\n    if (cachedActor?.inbox) {\n      if (!isSafeRemoteUrl(cachedActor.inbox)) {\n        console.warn(`[ActivityPub] Blocked unsafe inbox URL: ${cachedActor.inbox}`);\n        return;\n      }\n      const acceptId = activityApId(baseUrl, generateId());\n      const acceptActivity = {\n        '@context': 'https://www.w3.org/ns/activitystreams',\n        id: acceptId,\n        type: 'Accept',\n        actor: recipient.apId,\n        object: activityId,\n      };\n\n      const keyId = `${recipient.apId}#main-key`;\n      const headers = await signRequest(\n        recipient.privateKeyPem,\n        keyId,\n        'POST',\n        cachedActor.inbox,\n        JSON.stringify(acceptActivity)\n      );\n\n      try {\n        await fetchWithTimeout(cachedActor.inbox, {\n          method: 'POST',\n          headers: { ...headers, 'Content-Type': 'application/activity+json' },\n          body: JSON.stringify(acceptActivity),\n          timeout: 15000, // 15 second timeout for ActivityPub federation\n        });\n      } catch (e) {\n        console.error('Failed to send Accept:', e);\n      }\n\n      // Store accept activity\n      await prisma.activity.create({\n        data: {\n          apId: acceptId,\n          type: 'Accept',\n          actorApId: recipient.apId,\n          objectApId: activityId,\n          rawJson: JSON.stringify(acceptActivity),\n          direction: 'outbound',\n        },\n      });\n    }\n  }\n}\n\n// Handle Accept activity\nexport async function handleAccept(c: ActivityContext, activity: Activity) {\n  const prisma = c.get('prisma');\n  const followId = getActivityObjectId(activity);\n  if (!followId) return;\n\n  // Find the follow by activity_ap_id\n  const follow = await prisma.follow.findFirst({\n    where: { activityApId: followId },\n  });\n\n  if (!follow) return;\n\n  // Skip if already accepted (idempotency)\n  if (follow.status === 'accepted') {\n    return;\n  }\n\n  const now = new Date().toISOString();\n\n  // HIGH #16: Use transaction for atomic follow update and count updates\n  try {\n    await prisma.$transaction(async (tx) => {\n      // Update follow status to accepted\n      await tx.follow.update({\n        where: {\n          followerApId_followingApId: {\n            followerApId: follow.followerApId,\n            followingApId: follow.followingApId,\n          },\n        },\n        data: {\n          status: 'accepted',\n          acceptedAt: now,\n        },\n      });\n\n      // Update counts atomically\n      await tx.actor.update({\n        where: { apId: follow.followerApId },\n        data: { followingCount: { increment: 1 } },\n      });\n      await tx.actor.update({\n        where: { apId: follow.followingApId },\n        data: { followerCount: { increment: 1 } },\n      });\n    });\n  } catch (e) {\n    console.error('[ActivityPub] Transaction error in handleAccept:', e);\n  }\n}\n\n// Handle Undo activity\nexport async function handleUndo(\n  c: ActivityContext,\n  activity: Activity,\n  recipient: PrismaActor,\n  actor: string,\n  _baseUrl: string\n) {\n  const prisma = c.get('prisma');\n  const activityObject = getActivityObject(activity);\n  const objectType = activityObject?.type;\n  const objectId = getActivityObjectId(activity);\n\n  // If object is just a string (activity ID), try to find the original activity\n  if (!objectType && objectId) {\n    const originalActivity = await prisma.activity.findUnique({\n      where: { apId: objectId },\n      select: { type: true, objectApId: true },\n    });\n\n    if (originalActivity) {\n      // Handle based on original activity type\n      if (originalActivity.type === 'Follow') {\n        const follow = await prisma.follow.findFirst({\n          where: { activityApId: objectId },\n        });\n        if (follow) {\n          await prisma.follow.delete({\n            where: {\n              followerApId_followingApId: {\n                followerApId: follow.followerApId,\n                followingApId: follow.followingApId,\n              },\n            },\n          });\n        }\n        await prisma.actor.update({\n          where: { apId: recipient.apId },\n          data: { followerCount: { decrement: 1 } },\n        });\n      } else if (originalActivity.type === 'Like' && originalActivity.objectApId) {\n        const like = await prisma.like.findFirst({\n          where: { activityApId: objectId },\n        });\n        if (like) {\n          await prisma.like.delete({\n            where: {\n              actorApId_objectApId: {\n                actorApId: like.actorApId,\n                objectApId: like.objectApId,\n              },\n            },\n          });\n        }\n        await prisma.object.update({\n          where: { apId: originalActivity.objectApId },\n          data: { likeCount: { decrement: 1 } },\n        });\n      } else if (originalActivity.type === 'Announce' && originalActivity.objectApId) {\n        const announce = await prisma.announce.findFirst({\n          where: { activityApId: objectId },\n        });\n        if (announce) {\n          await prisma.announce.delete({\n            where: {\n              actorApId_objectApId: {\n                actorApId: announce.actorApId,\n                objectApId: announce.objectApId,\n              },\n            },\n          });\n        }\n        await prisma.object.update({\n          where: { apId: originalActivity.objectApId },\n          data: { announceCount: { decrement: 1 } },\n        });\n      }\n      return;\n    }\n  }\n\n  if (objectType === 'Follow') {\n    // Undo follow\n    if (objectId) {\n      // Try to find by activity_ap_id first\n      const follow = await prisma.follow.findFirst({\n        where: { activityApId: objectId },\n      });\n      if (follow) {\n        await prisma.follow.delete({\n          where: {\n            followerApId_followingApId: {\n              followerApId: follow.followerApId,\n              followingApId: follow.followingApId,\n            },\n          },\n        });\n      } else {\n        // Fallback: delete by actor pair\n        await prisma.follow.deleteMany({\n          where: {\n            followerApId: actor,\n            followingApId: recipient.apId,\n          },\n        });\n      }\n    } else {\n      await prisma.follow.deleteMany({\n        where: {\n          followerApId: actor,\n          followingApId: recipient.apId,\n        },\n      });\n    }\n\n    // Update counts\n    await prisma.actor.update({\n      where: { apId: recipient.apId },\n      data: { followerCount: { decrement: 1 } },\n    });\n  } else if (objectType === 'Like') {\n    // Undo like - find the original liked object from the Like activity\n    const likedObjectId = activityObject?.object;\n    if (likedObjectId) {\n      await prisma.like.deleteMany({\n        where: {\n          actorApId: actor,\n          objectApId: likedObjectId,\n        },\n      });\n\n      // Update like count\n      await prisma.object.update({\n        where: { apId: likedObjectId },\n        data: { likeCount: { decrement: 1 } },\n      });\n    } else if (objectId) {\n      // Fallback: try to find by activity_ap_id\n      const like = await prisma.like.findFirst({\n        where: { activityApId: objectId },\n      });\n      if (like) {\n        await prisma.like.delete({\n          where: {\n            actorApId_objectApId: {\n              actorApId: like.actorApId,\n              objectApId: like.objectApId,\n            },\n          },\n        });\n        await prisma.object.update({\n          where: { apId: like.objectApId },\n          data: { likeCount: { decrement: 1 } },\n        });\n      } else {\n        // Last resort: try to delete any like from this actor for the recipient's objects\n        const recipientObjects = await prisma.object.findMany({\n          where: { attributedTo: recipient.apId },\n          select: { apId: true },\n        });\n        const objectApIds = recipientObjects.map((o) => o.apId);\n        await prisma.like.deleteMany({\n          where: {\n            actorApId: actor,\n            objectApId: { in: objectApIds },\n          },\n        });\n      }\n    }\n  } else if (objectType === 'Announce') {\n    // Undo announce (repost)\n    const announcedObjectId = activityObject?.object;\n    if (announcedObjectId) {\n      await prisma.announce.deleteMany({\n        where: {\n          actorApId: actor,\n          objectApId: announcedObjectId,\n        },\n      });\n\n      // Update announce count\n      await prisma.object.update({\n        where: { apId: announcedObjectId },\n        data: { announceCount: { decrement: 1 } },\n      });\n    } else if (objectId) {\n      // Fallback: try to find by activity_ap_id\n      const announce = await prisma.announce.findFirst({\n        where: { activityApId: objectId },\n      });\n      if (announce) {\n        await prisma.announce.delete({\n          where: {\n            actorApId_objectApId: {\n              actorApId: announce.actorApId,\n              objectApId: announce.objectApId,\n            },\n          },\n        });\n        await prisma.object.update({\n          where: { apId: announce.objectApId },\n          data: { announceCount: { decrement: 1 } },\n        });\n      }\n    }\n  }\n}\n\n// Handle Like activity\nexport async function handleLike(\n  c: ActivityContext,\n  activity: Activity,\n  _recipient: PrismaActor,\n  actor: string,\n  baseUrl: string\n) {\n  const prisma = c.get('prisma');\n  const objectId = getActivityObjectId(activity);\n  if (!objectId) return;\n\n  const activityId = activity.id || activityApId(baseUrl, generateId());\n\n  // Use upsert to atomically create or update like record (prevents race condition)\n  const result = await prisma.like.upsert({\n    where: {\n      actorApId_objectApId: {\n        actorApId: actor,\n        objectApId: objectId,\n      },\n    },\n    update: {}, // No update if already exists\n    create: {\n      actorApId: actor,\n      objectApId: objectId,\n      activityApId: activityId,\n    },\n  });\n\n  // Only proceed with count updates and notifications for new likes\n  const isNewLike = result.activityApId === activityId;\n  if (!isNewLike) return;\n\n  // Update like count on object\n  await prisma.object.update({\n    where: { apId: objectId },\n    data: { likeCount: { increment: 1 } },\n  });\n\n  // Store activity and add to inbox (AP Native notification)\n  const likedObj = await prisma.object.findUnique({\n    where: { apId: objectId },\n    select: { attributedTo: true },\n  });\n  if (likedObj && isLocal(likedObj.attributedTo, baseUrl)) {\n    const now = new Date().toISOString();\n    await prisma.activity.upsert({\n      where: { apId: activityId },\n      update: {},\n      create: {\n        apId: activityId,\n        type: 'Like',\n        actorApId: actor,\n        objectApId: objectId,\n        rawJson: JSON.stringify(activity),\n      },\n    });\n\n    await prisma.inbox.create({\n      data: {\n        actorApId: likedObj.attributedTo,\n        activityApId: activityId,\n        read: 0,\n        createdAt: now,\n      },\n    });\n  }\n}\n\nfunction isStoryType(type: string | string[] | undefined): boolean {\n  if (!type) return false;\n  if (Array.isArray(type)) {\n    return type.includes('Story');\n  }\n  return type === 'Story';\n}\n\n// Handle Create activity\nexport async function handleCreate(\n  c: ActivityContext,\n  activity: Activity,\n  _recipient: PrismaActor,\n  actor: string,\n  baseUrl: string\n) {\n  const prisma = c.get('prisma');\n  const object = getActivityObject(activity);\n  if (!object) return;\n\n  // Handle Story type\n  if (isStoryType(object.type)) {\n    await handleCreateStory(c, activity, actor, baseUrl);\n    return;\n  }\n\n  // Handle Note type\n  if (object.type !== 'Note') return;\n\n  const objectId = object.id || objectApId(baseUrl, generateId());\n\n  // Check if object already exists\n  const existing = await prisma.object.findUnique({\n    where: { apId: objectId },\n  });\n  if (existing) return;\n\n  // Insert object\n  const attachments = object.attachment ? JSON.stringify(object.attachment) : '[]';\n  await prisma.object.create({\n    data: {\n      apId: objectId,\n      type: 'Note',\n      attributedTo: actor,\n      content: object.content || '',\n      summary: object.summary || null,\n      attachmentsJson: attachments,\n      inReplyTo: object.inReplyTo || null,\n      visibility: object.to?.includes('https://www.w3.org/ns/activitystreams#Public') ? 'public' : 'unlisted',\n      communityApId: null,\n      published: object.published || new Date().toISOString(),\n      isLocal: 0,\n    },\n  });\n\n  // Increment post count for actor\n  await prisma.actor.update({\n    where: { apId: actor },\n    data: { postCount: { increment: 1 } },\n  });\n\n  // If it's a reply, update reply count and add to inbox\n  if (object.inReplyTo) {\n    await prisma.object.update({\n      where: { apId: object.inReplyTo },\n      data: { replyCount: { increment: 1 } },\n    });\n\n    // Add to inbox for reply notification (AP Native)\n    const parentObj = await prisma.object.findUnique({\n      where: { apId: object.inReplyTo },\n      select: { attributedTo: true },\n    });\n    if (parentObj && isLocal(parentObj.attributedTo, baseUrl)) {\n      const activityId = activity.id || activityApId(baseUrl, generateId());\n      const now = new Date().toISOString();\n\n      await prisma.activity.upsert({\n        where: { apId: activityId },\n        update: {},\n        create: {\n          apId: activityId,\n          type: 'Create',\n          actorApId: actor,\n          objectApId: objectId,\n          rawJson: JSON.stringify(activity),\n        },\n      });\n\n      await prisma.inbox.create({\n        data: {\n          actorApId: parentObj.attributedTo,\n          activityApId: activityId,\n          read: 0,\n          createdAt: now,\n        },\n      });\n    }\n  }\n}\n\n// Handle Create(Story) activity\nexport async function handleCreateStory(\n  c: ActivityContext,\n  activity: Activity,\n  actor: string,\n  baseUrl: string\n) {\n  const prisma = c.get('prisma');\n  const object = getActivityObject(activity);\n  if (!object) return;\n  const objectId = object.id || objectApId(baseUrl, generateId());\n\n  // Check if story already exists\n  const existing = await prisma.object.findUnique({\n    where: { apId: objectId },\n  });\n  if (existing) return;\n\n  // attachment validation (required)\n  if (!object.attachment) {\n    console.error('Remote story has no attachment:', objectId);\n    return; // Ignore stories without attachment\n  }\n\n  // Normalize attachment (handle array or single object)\n  const attachmentArray = Array.isArray(object.attachment)\n    ? object.attachment\n    : [object.attachment];\n  const attachment = attachmentArray[0] as { url?: string; mediaType?: string; width?: number; height?: number };\n\n  if (!attachment || !attachment.url) {\n    console.error('Remote story attachment has no URL:', objectId);\n    return;\n  }\n\n  // overlays validation (optional, validate if present)\n  let overlays: StoryOverlay[] | undefined = undefined;\n  if (object.overlays) {\n    if (!Array.isArray(object.overlays)) {\n      overlays = undefined; // Ignore invalid format\n    } else {\n      // Simple validation: position is required\n      const filtered = (object.overlays as StoryOverlay[]).filter((o: StoryOverlay) =>\n        o && o.position &&\n        typeof o.position.x === 'number' &&\n        typeof o.position.y === 'number'\n      );\n      overlays = filtered.length > 0 ? filtered : undefined;\n    }\n  }\n\n  // Build attachments_json\n  const attachmentData = {\n    attachment: {\n      r2_key: '', // Remote stories don't have local R2 key\n      content_type: attachment.mediaType || 'image/jpeg',\n      url: attachment.url,\n      width: attachment.width || 1080,\n      height: attachment.height || 1920,\n    },\n    displayDuration: (object as { displayDuration?: string }).displayDuration || 'PT5S',\n    overlays: overlays,\n  };\n\n  const now = new Date().toISOString();\n  const endTime = object.endTime || new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString();\n\n  // DB save\n  await prisma.object.create({\n    data: {\n      apId: objectId,\n      type: 'Story',\n      attributedTo: actor,\n      content: '',\n      attachmentsJson: JSON.stringify(attachmentData),\n      endTime,\n      published: object.published || now,\n      isLocal: 0,\n    },\n  });\n\n  // Increment post count for actor in cache (ignore errors if actor not in cache)\n  try {\n    await prisma.actorCache.update({\n      where: { apId: actor },\n      data: {\n        // ActorCache doesn't have postCount field, so this is a no-op\n        // In the original code, this was also likely ineffective\n      },\n    });\n  } catch {\n    // Ignore if actor cache doesn't exist\n  }\n}\n\n// Handle Delete activity\nexport async function handleDelete(c: ActivityContext, activity: Activity) {\n  const prisma = c.get('prisma');\n  const objectId = getActivityObjectId(activity);\n  if (!objectId) return;\n\n  // Get activity actor\n  const actorId = typeof activity.actor === 'string' ? activity.actor : null;\n  if (!actorId) {\n    console.warn(`[ActivityPub] Delete activity missing actor`);\n    return;\n  }\n\n  // Get object before deletion\n  const delObj = await prisma.object.findUnique({\n    where: { apId: objectId },\n    select: { attributedTo: true, type: true, replyCount: true },\n  });\n\n  if (!delObj) return;\n\n  // HIGH #10: Verify actor owns the object before deleting\n  if (delObj.attributedTo !== actorId) {\n    console.warn(`[ActivityPub] Delete rejected: actor ${actorId} does not own object ${objectId} (owned by ${delObj.attributedTo})`);\n    return;\n  }\n\n  // If it's a Story, also delete related votes and views\n  if (delObj.type === 'Story') {\n    await prisma.storyVote.deleteMany({\n      where: { storyApId: objectId },\n    });\n    await prisma.storyView.deleteMany({\n      where: { storyApId: objectId },\n    });\n    await prisma.like.deleteMany({\n      where: { objectApId: objectId },\n    });\n  }\n\n  // Delete object\n  await prisma.object.delete({\n    where: { apId: objectId },\n  });\n\n  // Update post count\n  await prisma.actor.update({\n    where: { apId: delObj.attributedTo },\n    data: { postCount: { decrement: 1 } },\n  });\n\n  // Delete associated likes and replies (for Notes)\n  if (delObj.type !== 'Story') {\n    await prisma.like.deleteMany({\n      where: { objectApId: objectId },\n    });\n  }\n}\n\n// Handle Announce activity (repost/boost)\nexport async function handleAnnounce(\n  c: ActivityContext,\n  activity: Activity,\n  _recipient: PrismaActor,\n  actor: string,\n  baseUrl: string\n) {\n  const prisma = c.get('prisma');\n  const objectId = getActivityObjectId(activity);\n  if (!objectId) return;\n\n  const activityId = activity.id || activityApId(baseUrl, generateId());\n\n  // Use upsert to atomically create or update announce record (prevents race condition)\n  const result = await prisma.announce.upsert({\n    where: {\n      actorApId_objectApId: {\n        actorApId: actor,\n        objectApId: objectId,\n      },\n    },\n    update: {}, // No update if already exists\n    create: {\n      actorApId: actor,\n      objectApId: objectId,\n      activityApId: activityId,\n    },\n  });\n\n  // Only proceed with count updates and notifications for new announces\n  const isNewAnnounce = result.activityApId === activityId;\n  if (!isNewAnnounce) return;\n\n  // Update announce count on object\n  await prisma.object.update({\n    where: { apId: objectId },\n    data: { announceCount: { increment: 1 } },\n  });\n\n  // Store activity and add to inbox (AP Native notification)\n  const announcedObj = await prisma.object.findUnique({\n    where: { apId: objectId },\n    select: { attributedTo: true },\n  });\n  if (announcedObj && isLocal(announcedObj.attributedTo, baseUrl)) {\n    const now = new Date().toISOString();\n    await prisma.activity.upsert({\n      where: { apId: activityId },\n      update: {},\n      create: {\n        apId: activityId,\n        type: 'Announce',\n        actorApId: actor,\n        objectApId: objectId,\n        rawJson: JSON.stringify(activity),\n      },\n    });\n\n    await prisma.inbox.create({\n      data: {\n        actorApId: announcedObj.attributedTo,\n        activityApId: activityId,\n        read: 0,\n        createdAt: now,\n      },\n    });\n  }\n}\n\n// Handle Update activity (edit posts)\nexport async function handleUpdate(c: ActivityContext, activity: Activity, actor: string) {\n  const prisma = c.get('prisma');\n  const object = getActivityObject(activity);\n  if (!object) return;\n\n  const objectId = object.id;\n  if (!objectId) return;\n\n  // Verify the actor owns this object\n  const existing = await prisma.object.findUnique({\n    where: { apId: objectId },\n    select: { apId: true, attributedTo: true },\n  });\n\n  if (!existing || existing.attributedTo !== actor) return;\n\n  // Update object content\n  if (object.type === 'Note') {\n    const attachments = object.attachment ? JSON.stringify(object.attachment) : undefined;\n    await prisma.object.update({\n      where: { apId: objectId },\n      data: {\n        content: object.content || undefined,\n        summary: object.summary || undefined,\n        attachmentsJson: attachments || undefined,\n        updated: new Date().toISOString(),\n      },\n    });\n  }\n}\n\n// Handle Reject activity (follow request rejection)\nexport async function handleReject(c: ActivityContext, activity: Activity) {\n  const prisma = c.get('prisma');\n  const followId = getActivityObjectId(activity);\n  if (!followId) return;\n\n  // Find the follow by activity_ap_id and update status\n  const follow = await prisma.follow.findFirst({\n    where: { activityApId: followId },\n  });\n\n  if (!follow) return;\n\n  // Delete the follow record since it was rejected\n  await prisma.follow.delete({\n    where: {\n      followerApId_followingApId: {\n        followerApId: follow.followerApId,\n        followingApId: follow.followingApId,\n      },\n    },\n  });\n}\n", "import { Hono } from 'hono';\r\nimport type { Env, Variables } from '../../types';\r\nimport { actorApId, objectApId } from '../../utils';\r\nimport { getInstanceActor } from './utils';\r\n\r\nconst ap = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\nap.get('/ap/actor/outbox', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const instanceActor = await getInstanceActor(c);\r\n  const page = c.req.query('page');\r\n  const pageNum = page ? parseInt(page, 10) : 1;\r\n  const limit = 20;\r\n  const offset = (pageNum - 1) * limit;\r\n\r\n  const activities = await prisma.activity.findMany({\r\n    where: {\r\n      actorApId: instanceActor.apId,\r\n      direction: 'outbound',\r\n    },\r\n    select: { rawJson: true },\r\n    orderBy: { createdAt: 'desc' },\r\n    take: limit,\r\n    skip: offset,\r\n  });\r\n\r\n  const totalCount = await prisma.activity.count({\r\n    where: {\r\n      actorApId: instanceActor.apId,\r\n      direction: 'outbound',\r\n    },\r\n  });\r\n\r\n  const outboxUrl = `${instanceActor.apId}/outbox`;\r\n\r\n  if (page) {\r\n    return c.json({\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: `${outboxUrl}?page=${pageNum}`,\r\n      type: 'OrderedCollectionPage',\r\n      partOf: outboxUrl,\r\n      orderedItems: activities.map((a) => JSON.parse(a.rawJson)),\r\n    });\r\n  }\r\n\r\n  return c.json({\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    id: outboxUrl,\r\n    type: 'OrderedCollection',\r\n    totalItems: totalCount,\r\n    first: `${outboxUrl}?page=1`,\r\n  });\r\n});\r\n\r\nap.get('/ap/actor/followers', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const instanceActor = await getInstanceActor(c);\r\n  const page = c.req.query('page');\r\n  const pageNum = page ? parseInt(page, 10) : 1;\r\n  const limit = 50;\r\n  const offset = (pageNum - 1) * limit;\r\n\r\n  const followers = await prisma.follow.findMany({\r\n    where: {\r\n      followingApId: instanceActor.apId,\r\n      status: 'accepted',\r\n    },\r\n    select: { followerApId: true },\r\n    orderBy: { acceptedAt: 'desc' },\r\n    take: limit,\r\n    skip: offset,\r\n  });\r\n\r\n  const totalCount = await prisma.follow.count({\r\n    where: {\r\n      followingApId: instanceActor.apId,\r\n      status: 'accepted',\r\n    },\r\n  });\r\n\r\n  const followersUrl = `${instanceActor.apId}/followers`;\r\n\r\n  if (page) {\r\n    return c.json({\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: `${followersUrl}?page=${pageNum}`,\r\n      type: 'OrderedCollectionPage',\r\n      partOf: followersUrl,\r\n      orderedItems: followers.map((f) => f.followerApId),\r\n    });\r\n  }\r\n\r\n  return c.json({\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    id: followersUrl,\r\n    type: 'OrderedCollection',\r\n    totalItems: totalCount,\r\n    first: `${followersUrl}?page=1`,\r\n  });\r\n});\r\n\r\nap.get('/ap/actor/following', async (c) => {\r\n  const instanceActor = await getInstanceActor(c);\r\n  const followingUrl = `${instanceActor.apId}/following`;\r\n  return c.json({\r\n    '@context': 'https://www.w3.org/ns/activitystreams',\r\n    id: followingUrl,\r\n    type: 'OrderedCollection',\r\n    totalItems: 0,\r\n    first: `${followingUrl}?page=1`,\r\n  });\r\n});\r\n\r\n// ============================================================\r\n\r\n// Outbox - Outgoing Activities Collection\r\n// ============================================================\r\n\r\nap.get('/ap/users/:username/outbox', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const username = c.req.param('username');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = actorApId(baseUrl, username);\r\n\r\n  const actor = await prisma.actor.findUnique({\r\n    where: { apId },\r\n    select: { apId: true },\r\n  });\r\n\r\n  if (!actor) return c.json({ error: 'Actor not found' }, 404);\r\n\r\n  // Paginate activities\r\n  const page = c.req.query('page');\r\n  const pageNum = page ? parseInt(page, 10) : 1;\r\n  const limit = 20;\r\n  const offset = (pageNum - 1) * limit;\r\n\r\n  const activities = await prisma.activity.findMany({\r\n    where: {\r\n      actorApId: apId,\r\n      direction: 'outbound',\r\n    },\r\n    select: { rawJson: true },\r\n    orderBy: { createdAt: 'desc' },\r\n    take: limit,\r\n    skip: offset,\r\n  });\r\n\r\n  const totalCount = await prisma.activity.count({\r\n    where: {\r\n      actorApId: apId,\r\n      direction: 'outbound',\r\n    },\r\n  });\r\n\r\n  const outboxUrl = `${apId}/outbox`;\r\n\r\n  if (page) {\r\n    // Return items for specific page\r\n    return c.json({\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: `${outboxUrl}?page=${pageNum}`,\r\n      type: 'OrderedCollectionPage',\r\n      partOf: outboxUrl,\r\n      orderedItems: activities.map((a) => JSON.parse(a.rawJson)),\r\n    });\r\n  } else {\r\n    // Return collection\r\n    return c.json({\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: outboxUrl,\r\n      type: 'OrderedCollection',\r\n      totalItems: totalCount,\r\n      first: `${outboxUrl}?page=1`,\r\n    });\r\n  }\r\n});\r\n\r\n// ============================================================\r\n// Followers Collection\r\n// ============================================================\r\n\r\nap.get('/ap/users/:username/followers', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const username = c.req.param('username');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = actorApId(baseUrl, username);\r\n\r\n  const actor = await prisma.actor.findUnique({\r\n    where: { apId },\r\n    select: { apId: true },\r\n  });\r\n\r\n  if (!actor) return c.json({ error: 'Actor not found' }, 404);\r\n\r\n  // Paginate followers\r\n  const page = c.req.query('page');\r\n  const pageNum = page ? parseInt(page, 10) : 1;\r\n  const limit = 50;\r\n  const offset = (pageNum - 1) * limit;\r\n\r\n  const followers = await prisma.follow.findMany({\r\n    where: {\r\n      followingApId: apId,\r\n      status: 'accepted',\r\n    },\r\n    select: { followerApId: true },\r\n    orderBy: { acceptedAt: 'desc' },\r\n    take: limit,\r\n    skip: offset,\r\n  });\r\n\r\n  const totalCount = await prisma.follow.count({\r\n    where: {\r\n      followingApId: apId,\r\n      status: 'accepted',\r\n    },\r\n  });\r\n\r\n  const followersUrl = `${apId}/followers`;\r\n\r\n  if (page) {\r\n    return c.json({\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: `${followersUrl}?page=${pageNum}`,\r\n      type: 'OrderedCollectionPage',\r\n      partOf: followersUrl,\r\n      orderedItems: followers.map((f) => f.followerApId),\r\n    });\r\n  } else {\r\n    return c.json({\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: followersUrl,\r\n      type: 'OrderedCollection',\r\n      totalItems: totalCount,\r\n      first: `${followersUrl}?page=1`,\r\n    });\r\n  }\r\n});\r\n\r\n// ============================================================\r\n// Following Collection\r\n// ============================================================\r\n\r\nap.get('/ap/users/:username/following', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const username = c.req.param('username');\r\n  const baseUrl = c.env.APP_URL;\r\n  const apId = actorApId(baseUrl, username);\r\n\r\n  const actor = await prisma.actor.findUnique({\r\n    where: { apId },\r\n    select: { apId: true },\r\n  });\r\n\r\n  if (!actor) return c.json({ error: 'Actor not found' }, 404);\r\n\r\n  // Paginate following\r\n  const page = c.req.query('page');\r\n  const pageNum = page ? parseInt(page, 10) : 1;\r\n  const limit = 50;\r\n  const offset = (pageNum - 1) * limit;\r\n\r\n  const following = await prisma.follow.findMany({\r\n    where: {\r\n      followerApId: apId,\r\n      status: 'accepted',\r\n    },\r\n    select: { followingApId: true },\r\n    orderBy: { acceptedAt: 'desc' },\r\n    take: limit,\r\n    skip: offset,\r\n  });\r\n\r\n  const totalCount = await prisma.follow.count({\r\n    where: {\r\n      followerApId: apId,\r\n      status: 'accepted',\r\n    },\r\n  });\r\n\r\n  const followingUrl = `${apId}/following`;\r\n\r\n  if (page) {\r\n    return c.json({\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: `${followingUrl}?page=${pageNum}`,\r\n      type: 'OrderedCollectionPage',\r\n      partOf: followingUrl,\r\n      orderedItems: following.map((f) => f.followingApId),\r\n    });\r\n  } else {\r\n    return c.json({\r\n      '@context': 'https://www.w3.org/ns/activitystreams',\r\n      id: followingUrl,\r\n      type: 'OrderedCollection',\r\n      totalItems: totalCount,\r\n      first: `${followingUrl}?page=1`,\r\n    });\r\n  }\r\n});\r\n\r\n// ============================================================\r\n// Object Endpoint - Note/Post\r\n// ============================================================\r\n\r\nap.get('/ap/objects/:id', async (c) => {\r\n  const prisma = c.get('prisma');\r\n  const id = c.req.param('id');\r\n  const baseUrl = c.env.APP_URL;\r\n  const objApId = objectApId(baseUrl, id);\r\n\r\n  const obj = await prisma.object.findUnique({\r\n    where: { apId: objApId },\r\n    select: {\r\n      apId: true,\r\n      type: true,\r\n      attributedTo: true,\r\n      content: true,\r\n      summary: true,\r\n      attachmentsJson: true,\r\n      inReplyTo: true,\r\n      visibility: true,\r\n      published: true,\r\n      likeCount: true,\r\n      replyCount: true,\r\n      announceCount: true,\r\n    },\r\n  });\r\n\r\n  if (!obj) return c.json({ error: 'Object not found' }, 404);\r\n\r\n  // Parse attachments\r\n  let attachments: unknown[] = [];\r\n  try {\r\n    attachments = JSON.parse(obj.attachmentsJson);\r\n  } catch {\r\n    attachments = [];\r\n  }\r\n\r\n  const objectResponse: Record<string, unknown> = {\r\n    '@context': [\r\n      'https://www.w3.org/ns/activitystreams',\r\n      'https://w3id.org/security/v1',\r\n    ],\r\n    id: obj.apId,\r\n    type: obj.type,\r\n    attributedTo: obj.attributedTo,\r\n    content: obj.content,\r\n    summary: obj.summary,\r\n    inReplyTo: obj.inReplyTo,\r\n    published: obj.published,\r\n    to: [\r\n      obj.visibility === 'public' ? 'https://www.w3.org/ns/activitystreams#Public' : undefined,\r\n      `${obj.attributedTo}/followers`,\r\n    ].filter(Boolean),\r\n    attachment: attachments.length > 0 ? attachments : undefined,\r\n    likes: {\r\n      id: `${obj.apId}/likes`,\r\n      type: 'Collection',\r\n      totalItems: obj.likeCount,\r\n    },\r\n    replies: {\r\n      id: `${obj.apId}/replies`,\r\n      type: 'Collection',\r\n      totalItems: obj.replyCount,\r\n    },\r\n  };\r\n\r\n  // Remove undefined fields\r\n  Object.keys(objectResponse).forEach((key) => {\r\n    if (objectResponse[key] === undefined) {\r\n      delete objectResponse[key];\r\n    }\r\n  });\r\n\r\n  c.header('Content-Type', 'application/activity+json');\r\n  return c.json(objectResponse);\r\n});\r\n\r\nexport default ap;\r\n", "/**\r\n * Takos API Proxy Routes\r\n *\r\n * takos\u3067\u30ED\u30B0\u30A4\u30F3\u3057\u305F\u5834\u5408\u3001\u30D5\u30ED\u30F3\u30C8\u30A8\u30F3\u30C9\u304B\u3089takos API\u306B\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u305F\u3081\u306E\u30D7\u30ED\u30AD\u30B7\r\n * \u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u306E\u305F\u3081\u3001\u30C8\u30FC\u30AF\u30F3\u306F\u30B5\u30FC\u30D0\u30FC\u30B5\u30A4\u30C9\u3067\u7BA1\u7406\r\n */\r\n\r\nimport { Hono } from 'hono';\r\nimport { getCookie } from 'hono/cookie';\r\nimport type { Env, Variables } from '../types';\r\nimport { getTakosClient, type TakosSession } from '../lib/takos-client';\r\n\r\nconst takosProxy = new Hono<{ Bindings: Env; Variables: Variables }>();\r\n\r\n// \u8A8D\u8A3C\u30DF\u30C9\u30EB\u30A6\u30A7\u30A2\r\ntakosProxy.use('*', async (c, next) => {\r\n  const actor = c.get('actor');\r\n  if (!actor) {\r\n    return c.json({ error: 'Unauthorized' }, 401);\r\n  }\r\n\r\n  const sessionId = getCookie(c, 'session');\r\n  if (!sessionId) {\r\n    return c.json({ error: 'No session' }, 401);\r\n  }\r\n\r\n  const prisma = c.get('prisma');\r\n  const session = await prisma.session.findUnique({\r\n    where: { id: sessionId },\r\n    select: {\r\n      id: true,\r\n      provider: true,\r\n      providerAccessToken: true,\r\n      providerRefreshToken: true,\r\n      providerTokenExpiresAt: true,\r\n    },\r\n  });\r\n\r\n  if (!session) {\r\n    return c.json({ error: 'Session not found' }, 401);\r\n  }\r\n\r\n  if (session.provider !== 'takos') {\r\n    return c.json({ error: 'Not logged in with Takos' }, 400);\r\n  }\r\n\r\n  const client = await getTakosClient(c.env, prisma, session);\r\n  if (!client) {\r\n    return c.json({ error: 'Failed to create Takos client' }, 500);\r\n  }\r\n\r\n  c.set('takosClient', client);\r\n  await next();\r\n});\r\n\r\n// \u30EF\u30FC\u30AF\u30B9\u30DA\u30FC\u30B9\u4E00\u89A7\r\ntakosProxy.get('/workspaces', async (c) => {\r\n  const client = c.get('takosClient');\r\n  if (!client) {\r\n    return c.json({ error: 'Takos client not available' }, 500);\r\n  }\r\n\r\n  try {\r\n    const data = await client.getWorkspaces();\r\n    return c.json(data);\r\n  } catch (err) {\r\n    console.error('Failed to get workspaces:', err);\r\n    return c.json({ error: 'Failed to get workspaces' }, 500);\r\n  }\r\n});\r\n\r\n// \u30EA\u30DD\u30B8\u30C8\u30EA\u4E00\u89A7\r\ntakosProxy.get('/repos', async (c) => {\r\n  const client = c.get('takosClient');\r\n  if (!client) {\r\n    return c.json({ error: 'Takos client not available' }, 500);\r\n  }\r\n\r\n  try {\r\n    const data = await client.getRepos();\r\n    return c.json(data);\r\n  } catch (err) {\r\n    console.error('Failed to get repos:', err);\r\n    return c.json({ error: 'Failed to get repos' }, 500);\r\n  }\r\n});\r\n\r\n// \u30E6\u30FC\u30B6\u30FC\u60C5\u5831\r\ntakosProxy.get('/user', async (c) => {\r\n  const client = c.get('takosClient');\r\n  if (!client) {\r\n    return c.json({ error: 'Takos client not available' }, 500);\r\n  }\r\n\r\n  try {\r\n    const data = await client.getUser();\r\n    return c.json(data);\r\n  } catch (err) {\r\n    console.error('Failed to get user:', err);\r\n    return c.json({ error: 'Failed to get user' }, 500);\r\n  }\r\n});\r\n\r\nexport default takosProxy;\r\n", "/**\r\n * Takos API Client\r\n *\r\n * takos\u3067\u30ED\u30B0\u30A4\u30F3\u3057\u305F\u5834\u5408\u3001\u4FDD\u5B58\u3055\u308C\u305F\u30A2\u30AF\u30BB\u30B9\u30C8\u30FC\u30AF\u30F3\u3067takos API\u306B\u30A2\u30AF\u30BB\u30B9\u53EF\u80FD\r\n */\r\n\r\nimport type { Env } from '../types';\r\nimport type { PrismaClient } from '../../generated/prisma';\r\nimport { decrypt, encrypt } from './crypto';\r\n\r\n// Token refresh lock to prevent race conditions\r\nconst refreshLocks = new Map<string, Promise<{ access_token: string; refresh_token?: string; expires_in?: number } | null>>();\r\n\r\nexport interface TakosSession {\r\n  id: string;\r\n  provider: string | null;\r\n  providerAccessToken: string | null;\r\n  providerRefreshToken: string | null;\r\n  providerTokenExpiresAt: string | null;\r\n}\r\n\r\nexport interface TakosClient {\r\n  fetch(path: string, options?: RequestInit): Promise<Response>;\r\n  getWorkspaces(): Promise<{ workspaces: TakosWorkspace[] }>;\r\n  getRepos(): Promise<{ repos: TakosRepo[] }>;\r\n  getUser(): Promise<{ user: TakosUser }>;\r\n}\r\n\r\nexport interface TakosWorkspace {\r\n  id: string;\r\n  name: string;\r\n  description: string | null;\r\n  created_at: string;\r\n}\r\n\r\nexport interface TakosRepo {\r\n  id: string;\r\n  name: string;\r\n  description: string | null;\r\n  visibility: string;\r\n  created_at: string;\r\n}\r\n\r\nexport interface TakosUser {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  picture: string | null;\r\n}\r\n\r\n/**\r\n * \u30BB\u30C3\u30B7\u30E7\u30F3\u304B\u3089Takos\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u3092\u53D6\u5F97\r\n */\r\nexport async function getTakosClient(\r\n  env: Env,\r\n  prisma: PrismaClient,\r\n  session: TakosSession\r\n): Promise<TakosClient | null> {\r\n  if (session.provider !== 'takos' || !session.providerAccessToken) {\r\n    return null;\r\n  }\r\n\r\n  // Decrypt the stored tokens\r\n  let accessToken = await decrypt(session.providerAccessToken, env.ENCRYPTION_KEY);\r\n  const refreshToken = session.providerRefreshToken\r\n    ? await decrypt(session.providerRefreshToken, env.ENCRYPTION_KEY)\r\n    : null;\r\n\r\n  // \u30C8\u30FC\u30AF\u30F3\u6709\u52B9\u671F\u9650\u30C1\u30A7\u30C3\u30AF\r\n  if (session.providerTokenExpiresAt) {\r\n    const expiresAt = new Date(session.providerTokenExpiresAt);\r\n    const now = new Date();\r\n\r\n    // 5\u5206\u524D\u306B\u30EA\u30D5\u30EC\u30C3\u30B7\u30E5\r\n    if (expiresAt.getTime() - now.getTime() < 5 * 60 * 1000) {\r\n      if (refreshToken) {\r\n        // Use lock to prevent concurrent refresh requests\r\n        const lockKey = session.id;\r\n        let refreshPromise = refreshLocks.get(lockKey);\r\n\r\n        if (!refreshPromise) {\r\n          // No refresh in progress, start one\r\n          refreshPromise = refreshTakosToken(env, refreshToken);\r\n          refreshLocks.set(lockKey, refreshPromise);\r\n\r\n          try {\r\n            const newTokens = await refreshPromise;\r\n            if (newTokens) {\r\n              await updateSessionTokens(prisma, session.id, newTokens, env.ENCRYPTION_KEY);\r\n              accessToken = newTokens.access_token;\r\n            } else {\r\n              return null;\r\n            }\r\n          } finally {\r\n            refreshLocks.delete(lockKey);\r\n          }\r\n        } else {\r\n          // Refresh in progress, wait for it\r\n          const newTokens = await refreshPromise;\r\n          if (newTokens) {\r\n            accessToken = newTokens.access_token;\r\n          } else {\r\n            return null;\r\n          }\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  const baseUrl = env.TAKOS_URL;\r\n  if (!baseUrl) return null;\r\n\r\n  const takosFetch = async (path: string, options: RequestInit = {}) => {\r\n    return fetch(`${baseUrl}${path}`, {\r\n      ...options,\r\n      headers: {\r\n        ...options.headers,\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n    });\r\n  };\r\n\r\n  return {\r\n    fetch: takosFetch,\r\n\r\n    async getWorkspaces() {\r\n      const res = await takosFetch('/workspaces');\r\n      if (!res.ok) throw new Error(`Failed to get workspaces: ${res.status}`);\r\n      return res.json();\r\n    },\r\n\r\n    async getRepos() {\r\n      const res = await takosFetch('/repos');\r\n      if (!res.ok) throw new Error(`Failed to get repos: ${res.status}`);\r\n      return res.json();\r\n    },\r\n\r\n    async getUser() {\r\n      const res = await takosFetch('/me');\r\n      if (!res.ok) throw new Error(`Failed to get user: ${res.status}`);\r\n      return res.json();\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Takos\u30C8\u30FC\u30AF\u30F3\u3092\u30EA\u30D5\u30EC\u30C3\u30B7\u30E5\r\n */\r\nasync function refreshTakosToken(\r\n  env: Env,\r\n  refreshToken: string\r\n): Promise<{ access_token: string; refresh_token?: string; expires_in?: number } | null> {\r\n  if (!env.TAKOS_URL || !env.TAKOS_CLIENT_ID || !env.TAKOS_CLIENT_SECRET) {\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const res = await fetch(`${env.TAKOS_URL}/oauth/token`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n      body: new URLSearchParams({\r\n        grant_type: 'refresh_token',\r\n        refresh_token: refreshToken,\r\n        client_id: env.TAKOS_CLIENT_ID,\r\n        client_secret: env.TAKOS_CLIENT_SECRET,\r\n      }),\r\n    });\r\n\r\n    if (!res.ok) {\r\n      console.error('Failed to refresh takos token:', await res.text());\r\n      return null;\r\n    }\r\n\r\n    return res.json();\r\n  } catch (err) {\r\n    console.error('Error refreshing takos token:', err);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * \u30BB\u30C3\u30B7\u30E7\u30F3\u306E\u30C8\u30FC\u30AF\u30F3\u3092\u66F4\u65B0\r\n */\r\nasync function updateSessionTokens(\r\n  prisma: PrismaClient,\r\n  sessionId: string,\r\n  tokens: { access_token: string; refresh_token?: string; expires_in?: number },\r\n  encryptionKey?: string\r\n): Promise<void> {\r\n  const tokenExpiresAt = tokens.expires_in\r\n    ? new Date(Date.now() + tokens.expires_in * 1000).toISOString()\r\n    : undefined;\r\n\r\n  // Encrypt tokens before storing\r\n  const encryptedAccessToken = await encrypt(tokens.access_token, encryptionKey);\r\n  const encryptedRefreshToken = tokens.refresh_token\r\n    ? await encrypt(tokens.refresh_token, encryptionKey)\r\n    : undefined;\r\n\r\n  await prisma.session.update({\r\n    where: { id: sessionId },\r\n    data: {\r\n      providerAccessToken: encryptedAccessToken,\r\n      ...(encryptedRefreshToken && { providerRefreshToken: encryptedRefreshToken }),\r\n      ...(tokenExpiresAt && { providerTokenExpiresAt: tokenExpiresAt }),\r\n    },\r\n  });\r\n}\r\n", "// Rate limiting middleware for Yurucommu backend\r\n// Uses in-memory Map for simple rate limiting (per-worker instance)\r\n// For distributed rate limiting, use KV or Durable Objects\r\n\r\nimport { Context, Next } from 'hono';\r\nimport type { Env, Variables } from '../types';\r\n\r\ninterface RateLimitEntry {\r\n  count: number;\r\n  resetAt: number;\r\n}\r\n\r\n// Store rate limit data in memory (per-worker instance)\r\n// For production scale, consider using Cloudflare KV or Durable Objects\r\nconst rateLimitStore = new Map<string, RateLimitEntry>();\r\n\r\n// Clean up expired entries periodically\r\nconst CLEANUP_INTERVAL = 60000; // 1 minute\r\nlet lastCleanup = Date.now();\r\n\r\nfunction cleanupExpired(): void {\r\n  const now = Date.now();\r\n  if (now - lastCleanup < CLEANUP_INTERVAL) return;\r\n\r\n  lastCleanup = now;\r\n  for (const [key, entry] of rateLimitStore.entries()) {\r\n    if (entry.resetAt < now) {\r\n      rateLimitStore.delete(key);\r\n    }\r\n  }\r\n}\r\n\r\ninterface RateLimitConfig {\r\n  windowMs: number;      // Time window in milliseconds\r\n  maxRequests: number;   // Max requests per window\r\n  keyPrefix?: string;    // Prefix for the key (to differentiate rate limit types)\r\n}\r\n\r\n// Default configurations for different endpoint types\r\nexport const RateLimitConfigs = {\r\n  // General API: 10,000 requests per minute\r\n  general: { windowMs: 60000, maxRequests: 10000 },\r\n  // Auth endpoints: 1,000 requests per minute (prevent brute force)\r\n  auth: { windowMs: 60000, maxRequests: 1000, keyPrefix: 'auth:' },\r\n  // Post creation: 3,000 per minute\r\n  postCreate: { windowMs: 60000, maxRequests: 3000, keyPrefix: 'post:' },\r\n  // Search: 3,000 per minute\r\n  search: { windowMs: 60000, maxRequests: 3000, keyPrefix: 'search:' },\r\n  // Media upload: 2,000 per minute\r\n  mediaUpload: { windowMs: 60000, maxRequests: 2000, keyPrefix: 'media:' },\r\n  // DM: 6,000 per minute\r\n  dm: { windowMs: 60000, maxRequests: 6000, keyPrefix: 'dm:' },\r\n  // Federation inbox: 20,000 per minute (need to accept activities from other servers)\r\n  inbox: { windowMs: 60000, maxRequests: 20000, keyPrefix: 'inbox:' },\r\n};\r\n\r\n/**\r\n * Extract client IP with proper validation\r\n * Priority: CF-Connecting-IP (Cloudflare) > X-Forwarded-For (first IP) > fallback\r\n */\r\nfunction getClientIP(c: Context<{ Bindings: Env; Variables: Variables }>): string {\r\n  // CF-Connecting-IP is the most reliable on Cloudflare (cannot be spoofed by client)\r\n  const cfIp = c.req.header('CF-Connecting-IP');\r\n  if (cfIp && isValidIP(cfIp)) {\r\n    return cfIp;\r\n  }\r\n\r\n  // X-Forwarded-For can be spoofed - only use the first IP (closest to client)\r\n  // and validate it's a valid IP format\r\n  const xff = c.req.header('X-Forwarded-For');\r\n  if (xff) {\r\n    const firstIp = xff.split(',')[0]?.trim();\r\n    if (firstIp && isValidIP(firstIp)) {\r\n      return firstIp;\r\n    }\r\n  }\r\n\r\n  // Fallback to X-Real-IP\r\n  const realIp = c.req.header('X-Real-IP');\r\n  if (realIp && isValidIP(realIp)) {\r\n    return realIp;\r\n  }\r\n\r\n  return 'unknown';\r\n}\r\n\r\n/**\r\n * Validate IP address format (basic check)\r\n */\r\nfunction isValidIP(ip: string): boolean {\r\n  // IPv4 pattern\r\n  const ipv4Pattern = /^(\\d{1,3}\\.){3}\\d{1,3}$/;\r\n  // IPv6 pattern (simplified)\r\n  const ipv6Pattern = /^[0-9a-fA-F:]+$/;\r\n\r\n  if (ipv4Pattern.test(ip)) {\r\n    const parts = ip.split('.').map(Number);\r\n    return parts.every(p => p >= 0 && p <= 255);\r\n  }\r\n\r\n  return ipv6Pattern.test(ip) && ip.includes(':');\r\n}\r\n\r\n/**\r\n * Create a rate limiting middleware\r\n */\r\nexport function rateLimit(config: RateLimitConfig) {\r\n  return async (c: Context<{ Bindings: Env; Variables: Variables }>, next: Next) => {\r\n    cleanupExpired();\r\n\r\n    // Get client identifier (IP or authenticated actor)\r\n    const actor = c.get('actor');\r\n    const ip = getClientIP(c);\r\n    const clientId = actor?.ap_id || ip;\r\n\r\n    const key = `${config.keyPrefix || ''}${clientId}`;\r\n    const now = Date.now();\r\n\r\n    let entry = rateLimitStore.get(key);\r\n\r\n    // If no entry or expired, create new one\r\n    if (!entry || entry.resetAt < now) {\r\n      entry = {\r\n        count: 1,\r\n        resetAt: now + config.windowMs,\r\n      };\r\n      rateLimitStore.set(key, entry);\r\n    } else {\r\n      entry.count++;\r\n    }\r\n\r\n    // Set rate limit headers\r\n    const remaining = Math.max(0, config.maxRequests - entry.count);\r\n    const resetAt = Math.ceil(entry.resetAt / 1000);\r\n\r\n    c.header('X-RateLimit-Limit', config.maxRequests.toString());\r\n    c.header('X-RateLimit-Remaining', remaining.toString());\r\n    c.header('X-RateLimit-Reset', resetAt.toString());\r\n\r\n    // Check if rate limited\r\n    if (entry.count > config.maxRequests) {\r\n      const retryAfter = Math.ceil((entry.resetAt - now) / 1000);\r\n      c.header('Retry-After', retryAfter.toString());\r\n\r\n      return c.json({\r\n        error: 'Too many requests',\r\n        retry_after: retryAfter,\r\n      }, 429);\r\n    }\r\n\r\n    await next();\r\n  };\r\n}\r\n\r\n/**\r\n * Get current rate limit status for a client (useful for debugging/monitoring)\r\n */\r\nexport function getRateLimitStatus(clientId: string, keyPrefix?: string): RateLimitEntry | null {\r\n  const key = `${keyPrefix || ''}${clientId}`;\r\n  return rateLimitStore.get(key) || null;\r\n}\r\n", "// CSRF protection middleware for Yurucommu backend\r\n// Uses Origin/Referer header validation for state-changing requests\r\n\r\nimport { Context, Next } from 'hono';\r\nimport type { Env, Variables } from '../types';\r\n\r\n/**\r\n * Extract the origin from a URL\r\n */\r\nfunction getOrigin(url: string | null): string | null {\r\n  if (!url) return null;\r\n  try {\r\n    const parsed = new URL(url);\r\n    return `${parsed.protocol}//${parsed.host}`;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * CSRF protection middleware\r\n * Validates Origin header for state-changing requests (POST, PUT, DELETE, PATCH)\r\n *\r\n * SameSite=Lax cookies provide primary protection, but this adds defense-in-depth\r\n */\r\nexport function csrfProtection() {\r\n  return async (c: Context<{ Bindings: Env; Variables: Variables }>, next: Next) => {\r\n    // Only check state-changing methods\r\n    const method = c.req.method.toUpperCase();\r\n    if (!['POST', 'PUT', 'DELETE', 'PATCH'].includes(method)) {\r\n      return next();\r\n    }\r\n\r\n    // Skip CSRF check for ActivityPub inbox endpoints (they use HTTP Signatures)\r\n    const path = c.req.path;\r\n    if (path.includes('/inbox') && path.includes('/ap/')) {\r\n      return next();\r\n    }\r\n\r\n    // Get the expected origin from APP_URL\r\n    const appUrl = c.env.APP_URL;\r\n    const expectedOrigin = getOrigin(appUrl);\r\n\r\n    // Get the request origin (prefer Origin header, fall back to Referer)\r\n    const originHeader = c.req.header('Origin');\r\n    const refererHeader = c.req.header('Referer');\r\n    const requestOrigin = originHeader || getOrigin(refererHeader ?? null);\r\n\r\n    // If no Origin/Referer header present\r\n    if (!requestOrigin) {\r\n      // Check for X-Requested-With header (commonly sent by JavaScript frameworks)\r\n      // This provides defense against simple CSRF attacks since cross-origin\r\n      // requests cannot set custom headers without CORS preflight\r\n      const xRequestedWith = c.req.header('X-Requested-With');\r\n      if (xRequestedWith) {\r\n        // Custom header present - this is likely a legitimate AJAX request\r\n        // Cross-origin requests cannot set custom headers without CORS approval\r\n        return next();\r\n      }\r\n\r\n      // Check Content-Type for JSON - browsers don't allow cross-origin JSON POSTs\r\n      // without CORS preflight\r\n      const contentType = c.req.header('Content-Type');\r\n      if (contentType && contentType.includes('application/json')) {\r\n        // JSON content type requires CORS preflight for cross-origin requests\r\n        return next();\r\n      }\r\n\r\n      // No Origin, no custom headers, and not JSON - reject for safety\r\n      // This blocks simple form-based CSRF attacks\r\n      console.warn('CSRF check failed: missing Origin header and no CSRF-safe indicators');\r\n      return c.json({ error: 'CSRF validation failed: missing Origin header' }, 403);\r\n    }\r\n\r\n    // Validate the origin\r\n    if (requestOrigin !== expectedOrigin) {\r\n      // Check if it's a development environment with different ports\r\n      const isDev = appUrl?.includes('localhost') || appUrl?.includes('127.0.0.1');\r\n      if (isDev && requestOrigin?.includes('localhost')) {\r\n        // Allow cross-port requests in development\r\n        return next();\r\n      }\r\n\r\n      console.warn(`CSRF check failed: expected ${expectedOrigin}, got ${requestOrigin}`);\r\n      return c.json({ error: 'CSRF validation failed' }, 403);\r\n    }\r\n\r\n    return next();\r\n  };\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBgC,SAAS,0BAA0BA,OAAM;AACxE,SAAO,IAAI,MAAM,WAAWA,+BAA8B;AAC3D;AACgC,SAAS,eAAeA,OAAM;AAC7D,QAAM,KAAK,6BAAM;AAChB,UAAM,0BAA0BA,KAAI;AAAA,EACrC,GAFW;AAGX,SAAO,OAAO,OAAO,IAAI,EAAE,WAAW,KAAK,CAAC;AAC7C;AAOgC,SAAS,oBAAoBA,OAAM;AAClE,SAAO,MAAM;AAAA,IACZ,YAAY;AAAA,IACZ,cAAc;AACb,YAAM,IAAI,MAAM,WAAWA,+BAA8B;AAAA,IAC1D;AAAA,EACD;AACD;AA1CA;AAAA;AAAA;AAAA;AAAA,IAAAC;AAoByC;AAGA;AAYA;AAAA;AAAA;;;ACnCzC,IACM,aACA,iBACA,YAsBO,kBAwBA,iBASA,oBAGA,2BAwBA,8BAYA,aAsFA,qBAgCA;AAvNb;AAAA;AAAA;AAAA;AAAA,IAAAC;AAAA;AACA,IAAM,cAAc,WAAW,aAAa,cAAc,KAAK,IAAI;AACnE,IAAM,kBAAkB,WAAW,aAAa,MAAM,WAAW,YAAY,IAAI,KAAK,WAAW,WAAW,IAAI,MAAM,KAAK,IAAI,IAAI;AACnI,IAAM,aAAa;AAAA,MAClB,MAAM;AAAA,MACN,WAAW;AAAA,MACX,WAAW;AAAA,MACX,UAAU;AAAA,MACV,WAAW;AAAA,MACX,SAAS;AAAA,MACT,mBAAmB;AAAA,MACnB,aAAa;AAAA,MACb,WAAW;AAAA,MACX,UAAU;AAAA,MACV,UAAU;AAAA,MACV,eAAe;AAAA,QACd,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,eAAe;AAAA,MAChB;AAAA,MACA,QAAQ;AAAA,MACR,SAAS;AACR,eAAO;AAAA,MACR;AAAA,IACD;AACO,IAAM,mBAAN,MAAuB;AAAA,MAC7B,YAAY;AAAA,MACZ;AAAA,MACA,YAAY;AAAA,MACZ;AAAA,MACA;AAAA,MACA,YAAYC,OAAM,SAAS;AAC1B,aAAK,OAAOA;AACZ,aAAK,YAAY,SAAS,aAAa,gBAAgB;AACvD,aAAK,SAAS,SAAS;AAAA,MACxB;AAAA,MACA,IAAI,WAAW;AACd,eAAO,gBAAgB,IAAI,KAAK;AAAA,MACjC;AAAA,MACA,SAAS;AACR,eAAO;AAAA,UACN,MAAM,KAAK;AAAA,UACX,WAAW,KAAK;AAAA,UAChB,WAAW,KAAK;AAAA,UAChB,UAAU,KAAK;AAAA,UACf,QAAQ,KAAK;AAAA,QACd;AAAA,MACD;AAAA,IACD;AAvBa;AAwBN,IAAM,kBAAkB,6BAAMC,yBAAwB,iBAAiB;AAAA,MAC7E,YAAY;AAAA,MACZ,cAAc;AACb,cAAM,GAAG,SAAS;AAAA,MACnB;AAAA,MACA,IAAI,WAAW;AACd,eAAO;AAAA,MACR;AAAA,IACD,GAR+B;AASxB,IAAM,qBAAN,cAAiC,iBAAiB;AAAA,MACxD,YAAY;AAAA,IACb;AAFa;AAGN,IAAM,4BAAN,cAAwC,iBAAiB;AAAA,MAC/D,YAAY;AAAA,MACZ,eAAe,CAAC;AAAA,MAChB,aAAa;AAAA,MACb,eAAe;AAAA,MACf,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAClB,oBAAoB;AAAA,MACpB,kBAAkB;AAAA,MAClB,aAAa;AAAA,MACb,gBAAgB;AAAA,MAChB,OAAO;AAAA,MACP,kBAAkB;AAAA,MAClB,cAAc;AAAA,MACd,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf,cAAc;AAAA,MACd,gBAAgB;AAAA,MAChB,wBAAwB;AAAA,MACxB,YAAY;AAAA,MACZ,eAAe;AAAA,MACf,cAAc;AAAA,MACd,iBAAiB;AAAA,IAClB;AAvBa;AAwBN,IAAM,+BAAN,MAAmC;AAAA,MACzC,YAAY;AAAA,MACZ,aAAa;AACZ,eAAO,CAAC;AAAA,MACT;AAAA,MACA,iBAAiB,OAAO,OAAO;AAC9B,eAAO,CAAC;AAAA,MACT;AAAA,MACA,iBAAiB,MAAM;AACtB,eAAO,CAAC;AAAA,MACT;AAAA,IACD;AAXa;AAYN,IAAM,cAAN,MAAkB;AAAA,MACxB,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,cAAc,oBAAI,IAAI;AAAA,MACtB,WAAW,CAAC;AAAA,MACZ,4BAA4B;AAAA,MAC5B,aAAa;AAAA,MACb,SAAS;AAAA,MACT,SAAS,KAAK,UAAU;AACvB,cAAM,0BAA0B,sBAAsB;AAAA,MACvD;AAAA,MACA,IAAI,aAAa;AAChB,eAAO;AAAA,MACR;AAAA,MACA,uBAAuB;AACtB,eAAO,CAAC;AAAA,MACT;AAAA,MACA,qBAAqB;AACpB,eAAO,IAAI,0BAA0B,EAAE;AAAA,MACxC;AAAA,MACA,6BAA6B;AAAA,MAC7B,MAAM;AACL,YAAI,KAAK,eAAe,aAAa;AACpC,iBAAO,gBAAgB;AAAA,QACxB;AACA,eAAO,KAAK,IAAI,IAAI,KAAK;AAAA,MAC1B;AAAA,MACA,WAAW,UAAU;AACpB,aAAK,WAAW,WAAW,KAAK,SAAS,OAAO,CAAC,MAAM,EAAE,SAAS,QAAQ,IAAI,KAAK,SAAS,OAAO,CAAC,MAAM,EAAE,cAAc,MAAM;AAAA,MACjI;AAAA,MACA,cAAc,aAAa;AAC1B,aAAK,WAAW,cAAc,KAAK,SAAS,OAAO,CAAC,MAAM,EAAE,SAAS,WAAW,IAAI,KAAK,SAAS,OAAO,CAAC,MAAM,EAAE,cAAc,SAAS;AAAA,MAC1I;AAAA,MACA,uBAAuB;AACtB,aAAK,WAAW,KAAK,SAAS,OAAO,CAAC,MAAM,EAAE,cAAc,cAAc,EAAE,cAAc,YAAY;AAAA,MACvG;AAAA,MACA,aAAa;AACZ,eAAO,KAAK;AAAA,MACb;AAAA,MACA,iBAAiBD,OAAM,MAAM;AAC5B,eAAO,KAAK,SAAS,OAAO,CAAC,MAAM,EAAE,SAASA,UAAS,CAAC,QAAQ,EAAE,cAAc,KAAK;AAAA,MACtF;AAAA,MACA,iBAAiB,MAAM;AACtB,eAAO,KAAK,SAAS,OAAO,CAAC,MAAM,EAAE,cAAc,IAAI;AAAA,MACxD;AAAA,MACA,KAAKA,OAAM,SAAS;AACnB,cAAM,QAAQ,IAAI,gBAAgBA,OAAM,OAAO;AAC/C,aAAK,SAAS,KAAK,KAAK;AACxB,eAAO;AAAA,MACR;AAAA,MACA,QAAQ,aAAa,uBAAuB,SAAS;AACpD,YAAI;AACJ,YAAI;AACJ,YAAI,OAAO,0BAA0B,UAAU;AAC9C,kBAAQ,KAAK,iBAAiB,uBAAuB,MAAM,EAAE,CAAC,GAAG;AACjE,gBAAM,KAAK,iBAAiB,SAAS,MAAM,EAAE,CAAC,GAAG;AAAA,QAClD,OAAO;AACN,kBAAQ,OAAO,WAAW,uBAAuB,KAAK,KAAK,KAAK,IAAI;AACpE,gBAAM,OAAO,WAAW,uBAAuB,GAAG,KAAK,KAAK,IAAI;AAAA,QACjE;AACA,cAAM,QAAQ,IAAI,mBAAmB,aAAa;AAAA,UACjD,WAAW;AAAA,UACX,QAAQ;AAAA,YACP;AAAA,YACA;AAAA,UACD;AAAA,QACD,CAAC;AACD,aAAK,SAAS,KAAK,KAAK;AACxB,eAAO;AAAA,MACR;AAAA,MACA,4BAA4B,SAAS;AACpC,aAAK,4BAA4B;AAAA,MAClC;AAAA,MACA,iBAAiB,MAAM,UAAU,SAAS;AACzC,cAAM,0BAA0B,8BAA8B;AAAA,MAC/D;AAAA,MACA,oBAAoB,MAAM,UAAU,SAAS;AAC5C,cAAM,0BAA0B,iCAAiC;AAAA,MAClE;AAAA,MACA,cAAc,OAAO;AACpB,cAAM,0BAA0B,2BAA2B;AAAA,MAC5D;AAAA,MACA,SAAS;AACR,eAAO;AAAA,MACR;AAAA,IACD;AArFa;AAsFN,IAAM,sBAAN,MAA0B;AAAA,MAChC,YAAY;AAAA,MAEZ,YAAY;AAAA,MACZ,YAAY,UAAU;AACrB,aAAK,YAAY;AAAA,MAClB;AAAA,MACA,cAAc;AACb,eAAO,CAAC;AAAA,MACT;AAAA,MACA,aAAa;AACZ,cAAM,0BAA0B,gCAAgC;AAAA,MACjE;AAAA,MACA,QAAQ,SAAS;AAChB,cAAM,0BAA0B,6BAA6B;AAAA,MAC9D;AAAA,MACA,KAAK,IAAI;AACR,eAAO;AAAA,MACR;AAAA,MACA,gBAAgB,IAAI,YAAY,MAAM;AACrC,eAAO,GAAG,KAAK,SAAS,GAAG,IAAI;AAAA,MAChC;AAAA,MACA,UAAU;AACT,eAAO;AAAA,MACR;AAAA,MACA,iBAAiB;AAChB,eAAO;AAAA,MACR;AAAA,MACA,cAAc;AACb,eAAO;AAAA,MACR;AAAA,IACD;AA/Ba;AAEZ,kBAFY,qBAEL,uBAAsB,CAAC;AA8BxB,IAAM,cAAc,WAAW,eAAe,sBAAsB,WAAW,cAAc,WAAW,cAAc,IAAI,YAAY;AAAA;AAAA;;;ACvN7I;AAAA;AAAA;AAAA;AAAA,IAAAE;AAEA;AAAA;AAAA;;;ACFA,IAAAC,oBAAA;AAAA;AAAA;AAUA,eAAW,cAAc;AACzB,eAAW,cAAc;AACzB,eAAW,mBAAmB;AAC9B,eAAW,kBAAkB;AAC7B,eAAW,qBAAqB;AAChC,eAAW,sBAAsB;AACjC,eAAW,+BAA+B;AAC1C,eAAW,4BAA4B;AAAA;AAAA;;;ACjBvC,IAAO;AAAP;AAAA;AAAA;AAAA;AAAA,IAAAC;AAAA,IAAO,eAAQ,OAAO,OAAO,MAAM;AAAA,IAAC,GAAG,EAAE,WAAW,KAAK,CAAC;AAAA;AAAA;;;ACA1D,SAAS,gBAAgB;AAAzB,IAGM,UACO,eACA,SACA,SACA,KACA,MACA,OACA,OACA,OACA,OACA,MACA,YAEA,OACA,OACA,YACA,KACA,QACA,OACA,UACA,gBACA,SACA,YACA,MACA,SACA,SACA,WACA,SACA,QAIA,qBACA;AApCb;AAAA;AAAA;AAAA;AAAA,IAAAC;AACA;AACA;AACA,IAAM,WAAW,WAAW;AACrB,IAAM,gBAAgB;AACtB,IAAM,UAAU,IAAI,SAAS;AAC7B,IAAM,UAAU,IAAI,SAAS;AAC7B,IAAM,MAAM,UAAU,OAAO;AAC7B,IAAM,OAAO,UAAU,QAAQ;AAC/B,IAAM,QAAQ,UAAU,SAAS;AACjC,IAAM,QAAQ,UAAU,SAAS;AACjC,IAAM,QAAQ,UAAU,SAAS;AACjC,IAAM,QAAQ,UAAU,SAAS;AACjC,IAAM,OAAO,UAAU,QAAQ;AAC/B,IAAM,aAAa,UAAU,cAA4B,+BAAe,oBAAoB;AAE5F,IAAM,QAAQ,UAAU,SAAS;AACjC,IAAM,QAAQ,UAAU,SAAS;AACjC,IAAM,aAAa,UAAU,cAAc;AAC3C,IAAM,MAAM,UAAU,OAAO;AAC7B,IAAM,SAAS,UAAU,UAAU;AACnC,IAAM,QAAQ,UAAU,SAAS;AACjC,IAAM,WAAW,UAAU,YAAY;AACvC,IAAM,iBAAiB,UAAU,kBAAkB;AACnD,IAAM,UAAU,UAAU,WAAW;AACrC,IAAM,aAAa,UAAU,cAAc;AAC3C,IAAM,OAAO,UAAU,QAAQ;AAC/B,IAAM,UAAU,UAAU,WAAW;AACrC,IAAM,UAAU,UAAU,WAAW;AACrC,IAAM,YAAY,UAAU,aAAa;AACzC,IAAM,UAAU,UAAU,WAAyB,oCAAoB,iBAAiB;AACxF,IAAM,SAAuB,oBAAI,IAAI;AAIrC,IAAM,sBAAsB;AAC5B,IAAM,sBAAsB;AAAA;AAAA;;;ACpCnC,IAkBM,gBAEJ,QACAC,QAEA,SACAC,QACAC,aAEAC,aACAC,QACAC,MACAC,SACAC,QACAC,QACAC,iBACAC,WACAC,OACAC,MACAC,UACAC,aACAC,QACAC,OACAC,UACAC,UACAC,YACAC,QACAC,OAWK;AAxDP,IAAAC,gBAAA;AAAA;AAAA;AAAA;AAAA,IAAAC;AAAA;AAkBA,IAAM,iBAAiB,WAAW,SAAS;AACpC,KAAM;AAAA,MACX;AAAA,MACA,OAAAvB;AAAA,MAEA;AAAA;AAAA;AAAA;AAAA,MACA,OAAAC;AAAA,MACA,YAAAC;AAAA,MAEA;AAAA;AAAA,QAAAC;AAAA;AAAA,MACA,OAAAC;AAAA,MACA,KAAAC;AAAA,MACA,QAAAC;AAAA,MACA,OAAAC;AAAA,MACA,OAAAC;AAAA,MACA,gBAAAC;AAAA,MACA,UAAAC;AAAA,MACA,MAAAC;AAAA,MACA,KAAAC;AAAA,MACA,SAAAC;AAAA,MACA,YAAAC;AAAA,MACA,OAAAC;AAAA,MACA,MAAAC;AAAA,MACA,SAAAC;AAAA,MACA,SAAAC;AAAA,MACA,WAAAC;AAAA,MACA,OAAAC;AAAA,MACA,MAAAC;AAAA,QACE;AACJ,WAAO,OAAO,gBAAgB;AAAA,MAC5B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AACD,IAAO,kBAAQ;AAAA;AAAA;;;ACxDf;AAAA;AAAA,IAAAG;AACA,eAAW,UAAU;AAAA;AAAA;;;ACDrB,IAAa;AAAb;AAAA;AAAA;AAAA;AAAA,IAAAC;AAAO,IAAM,SAAuB,uBAAO,OAAO,gCAASC,QAAO,WAAW;AAC5E,YAAM,MAAM,KAAK,IAAI;AACrB,YAAM,UAAU,KAAK,MAAM,MAAM,GAAG;AACpC,YAAM,QAAQ,MAAM,MAAM;AAC1B,UAAI,WAAW;AACd,YAAI,cAAc,UAAU,UAAU,CAAC;AACvC,YAAI,YAAY,QAAQ,UAAU,CAAC;AACnC,YAAI,YAAY,GAAG;AAClB,wBAAc,cAAc;AAC5B,sBAAY,MAAM;AAAA,QACnB;AACA,eAAO,CAAC,aAAa,SAAS;AAAA,MAC/B;AACA,aAAO,CAAC,SAAS,KAAK;AAAA,IACvB,GAdkD,WAc/C,EAAE,QAAQ,gCAAS,SAAS;AAC9B,aAAO,OAAO,KAAK,IAAI,IAAI,GAAG;AAAA,IAC/B,GAFa,UAEX,CAAC;AAAA;AAAA;;;AChBH,SAAS,cAAc;AAAvB,IACa;AADb;AAAA;AAAA;AAAA;AAAA,IAAAC;AACO,IAAM,aAAN,cAAyB,OAAO;AAAA,MACtC;AAAA,MACA,YAAY,IAAI;AACf,cAAM;AACN,aAAK,KAAK;AAAA,MACX;AAAA,MACA,QAAQ;AAAA,MACR,WAAW,MAAM;AAChB,aAAK,QAAQ;AACb,eAAO;AAAA,MACR;AAAA,MACA,QAAQ;AAAA,IACT;AAZa;AAAA;AAAA;;;ACDb,SAAS,UAAAC,eAAc;AAAvB,IACa;AADb;AAAA;AAAA;AAAA;AAAA,IAAAC;AACO,IAAM,cAAN,cAA0BD,QAAO;AAAA,MACvC;AAAA,MACA,YAAY,IAAI;AACf,cAAM;AACN,aAAK,KAAK;AAAA,MACX;AAAA,MACA,UAAUE,MAAK,UAAU;AACxB,oBAAY,SAAS;AACrB,eAAO;AAAA,MACR;AAAA,MACA,gBAAgB,UAAU;AACzB,oBAAY,SAAS;AACrB,eAAO;AAAA,MACR;AAAA,MACA,SAAS,GAAG,GAAG,UAAU;AACxB,oBAAY,OAAO,aAAa,cAAc,SAAS;AACvD,eAAO;AAAA,MACR;AAAA,MACA,WAAW,IAAI,IAAI,UAAU;AAC5B,oBAAY,SAAS;AACrB,eAAO;AAAA,MACR;AAAA,MACA,cAAcC,MAAK;AAClB,eAAO;AAAA,MACR;AAAA,MACA,UAAUC,QAAOD,MAAK;AACrB,eAAO;AAAA,MACR;AAAA,MACA,gBAAgB;AACf,eAAO,CAAC,KAAK,SAAS,KAAK,IAAI;AAAA,MAChC;AAAA,MACA,UAAU;AAAA,MACV,OAAO;AAAA,MACP,QAAQ;AAAA,IACT;AAlCa;AAAA;AAAA;;;ACDb;AAAA;AAAA;AAAA;AAAA,IAAAE;AAEA;AACA;AAAA;AAAA;;;ACHA,SAAS,oBAAoB;AAA7B,IAGa;AAHb;AAAA;AAAA;AAAA;AAAA,IAAAC;AACA;AACA;AACO,IAAM,UAAN,cAAsB,aAAa;AAAA,MACzC;AAAA,MACA;AAAA,MACA;AAAA,MACA,YAAY,MAAM;AACjB,cAAM;AACN,aAAK,MAAM,KAAK;AAChB,aAAK,SAAS,KAAK;AACnB,aAAK,WAAW,KAAK;AACrB,mBAAW,QAAQ,CAAC,GAAG,OAAO,oBAAoB,QAAQ,SAAS,GAAG,GAAG,OAAO,oBAAoB,aAAa,SAAS,CAAC,GAAG;AAC7H,gBAAM,QAAQ,KAAK,IAAI;AACvB,cAAI,OAAO,UAAU,YAAY;AAChC,iBAAK,IAAI,IAAI,MAAM,KAAK,IAAI;AAAA,UAC7B;AAAA,QACD;AAAA,MACD;AAAA,MACA,YAAY,SAAS,MAAM,MAAM;AAChC,gBAAQ,KAAK,GAAG,OAAO,IAAI,WAAW,KAAK,OAAO,GAAG,WAAW,KAAK,SAAS;AAAA,MAC/E;AAAA,MACA,QAAQ,MAAM;AACb,eAAO,MAAM,KAAK,GAAG,IAAI;AAAA,MAC1B;AAAA,MACA,UAAU,WAAW;AACpB,eAAO,MAAM,UAAU,SAAS;AAAA,MACjC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,IAAI,QAAQ;AACX,eAAO,KAAK,WAAW,IAAI,WAAW,CAAC;AAAA,MACxC;AAAA,MACA,IAAI,SAAS;AACZ,eAAO,KAAK,YAAY,IAAI,YAAY,CAAC;AAAA,MAC1C;AAAA,MACA,IAAI,SAAS;AACZ,eAAO,KAAK,YAAY,IAAI,YAAY,CAAC;AAAA,MAC1C;AAAA,MACA,OAAO;AAAA,MACP,MAAMC,MAAK;AACV,aAAK,OAAOA;AAAA,MACb;AAAA,MACA,MAAM;AACL,eAAO,KAAK;AAAA,MACb;AAAA,MACA,OAAO;AAAA,MACP,WAAW;AAAA,MACX,OAAO,CAAC;AAAA,MACR,QAAQ;AAAA,MACR,WAAW,CAAC;AAAA,MACZ,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,MACP,IAAI,UAAU;AACb,eAAO;AAAA,MACR;AAAA,MACA,IAAI,WAAW;AACd,eAAO,CAAC;AAAA,MACT;AAAA,MACA,IAAI,8BAA8B;AACjC,eAAO,oBAAI,IAAI;AAAA,MAChB;AAAA,MACA,IAAI,oBAAoB;AACvB,eAAO;AAAA,MACR;AAAA,MACA,IAAI,YAAY;AACf,eAAO;AAAA,MACR;AAAA,MACA,IAAI,mBAAmB;AACtB,eAAO;AAAA,MACR;AAAA,MACA,IAAI,mBAAmB;AACtB,eAAO;AAAA,MACR;AAAA,MACA,IAAI,WAAW;AACd,eAAO,CAAC;AAAA,MACT;AAAA,MACA,IAAI,UAAU;AACb,eAAO,CAAC;AAAA,MACT;AAAA,MACA,IAAI,YAAY;AACf,eAAO;AAAA,MACR;AAAA,MACA,IAAI,SAAS;AACZ,eAAO,CAAC;AAAA,MACT;AAAA,MACA,IAAI,iBAAiB;AACpB,eAAO,CAAC;AAAA,MACT;AAAA,MACA,oBAAoB;AACnB,eAAO;AAAA,MACR;AAAA,MACA,kBAAkB;AACjB,eAAO;AAAA,MACR;AAAA,MACA,SAAS;AACR,eAAO;AAAA,MACR;AAAA,MACA,gBAAgB;AACf,eAAO,CAAC;AAAA,MACT;AAAA,MACA,MAAM;AAAA,MAAC;AAAA,MACP,QAAQ;AAAA,MAAC;AAAA,MACT,QAAQ;AACP,cAAM,0BAA0B,eAAe;AAAA,MAChD;AAAA,MACA,mBAAmB;AAClB,eAAO;AAAA,MACR;AAAA,MACA,yBAAyB;AACxB,cAAM,0BAA0B,gCAAgC;AAAA,MACjE;AAAA,MACA,OAAO;AACN,cAAM,0BAA0B,cAAc;AAAA,MAC/C;AAAA,MACA,aAAa;AACZ,cAAM,0BAA0B,oBAAoB;AAAA,MACrD;AAAA,MACA,OAAO;AACN,cAAM,0BAA0B,cAAc;AAAA,MAC/C;AAAA,MACA,QAAQ;AACP,cAAM,0BAA0B,eAAe;AAAA,MAChD;AAAA,MACA,SAAS;AACR,cAAM,0BAA0B,gBAAgB;AAAA,MACjD;AAAA,MACA,uBAAuB;AACtB,cAAM,0BAA0B,8BAA8B;AAAA,MAC/D;AAAA,MACA,cAAc;AACb,cAAM,0BAA0B,qBAAqB;AAAA,MACtD;AAAA,MACA,aAAa;AACZ,cAAM,0BAA0B,oBAAoB;AAAA,MACrD;AAAA,MACA,WAAW;AACV,cAAM,0BAA0B,kBAAkB;AAAA,MACnD;AAAA,MACA,sCAAsC;AACrC,cAAM,0BAA0B,6CAA6C;AAAA,MAC9E;AAAA,MACA,sCAAsC;AACrC,cAAM,0BAA0B,6CAA6C;AAAA,MAC9E;AAAA,MACA,aAAa;AACZ,cAAM,0BAA0B,oBAAoB;AAAA,MACrD;AAAA,MACA,YAAY;AACX,cAAM,0BAA0B,mBAAmB;AAAA,MACpD;AAAA,MACA,SAAS;AACR,cAAM,0BAA0B,gBAAgB;AAAA,MACjD;AAAA,MACA,UAAU;AACT,cAAM,0BAA0B,iBAAiB;AAAA,MAClD;AAAA,MACA,aAAa,EAAE,KAAmB,+BAAe,wBAAwB,EAAE;AAAA,MAC3E,SAAS;AAAA,QACR,WAAW;AAAA,QACX,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,oBAAoB;AAAA,QACpB,gBAAgB;AAAA,QAChB,2BAA2B;AAAA,QAC3B,WAAyB,+BAAe,0BAA0B;AAAA,QAClE,aAA2B,+BAAe,4BAA4B;AAAA,MACvE;AAAA,MACA,eAAe;AAAA,QACd,UAAwB,+BAAe,+BAA+B;AAAA,QACtE,YAA0B,+BAAe,iCAAiC;AAAA,QAC1E,oBAAkC,+BAAe,yCAAyC;AAAA,MAC3F;AAAA,MACA,cAAc,OAAO,OAAO,OAAO;AAAA,QAClC,cAAc;AAAA,QACd,KAAK;AAAA,QACL,UAAU;AAAA,QACV,WAAW;AAAA,QACX,UAAU;AAAA,MACX,IAAI,EAAE,KAAK,MAAM,EAAE,CAAC;AAAA,MACpB,aAAa;AAAA,MACb,SAAS;AAAA,MACT,OAAO;AAAA,MACP,WAAW;AAAA,MACX,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,MACV,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,SAAS;AAAA,MACT,UAAU;AAAA,MACV,UAAU;AAAA,MACV,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,SAAS;AAAA,MACT,UAAU;AAAA,MACV,eAAe;AAAA,MACf,WAAW;AAAA,MACX,gBAAgB;AAAA,MAChB,YAAY;AAAA,MACZ,gBAAgB;AAAA,MAChB,kBAAkB;AAAA,MAClB,oBAAoB;AAAA,MACpB,qBAAqB;AAAA,MACrB,QAAQ;AAAA,MACR,mBAAmB;AAAA,MACnB,YAAY;AAAA,MACZ,6BAA6B;AAAA,MAC7B,4BAA4B;AAAA,MAC5B,gBAAgB;AAAA,MAChB,cAAc;AAAA,MACd,eAAe;AAAA,MACf,kBAAkB;AAAA,MAClB,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,iBAAiB;AAAA,IAClB;AAzNa;AAAA;AAAA;;;ACHb,IAEM,eACO,kBACE,MAAM,UAAU,UAGzB,cAMJ,OACA,aACA,6BACA,qCACA,qCACA,aACA,mBACA,MACA,MACA,OACA,OACA,QACA,WACA,mBACA,iBACA,UACA,KACA,WACA,QACA,YACA,MACA,aACA,KACA,YACA,UACA,UACA,cACA,UACA,wBACA,iBACAC,SACA,MACA,WACA,eACA,aACA,IACA,KACA,MACA,KACA,MACA,iBACA,qBACA,cACA,SACA,oBACA,gBACA,QACA,eACA,iBACA,sBACA,QACA,OACA,QACA,OACA,kBACA,kBACA,OACA,QACA,SACA,UACA,QACA,YACA,gBACA,YACA,WACAC,SACA,SACA,MACA,UACA,SACA,SACA,SACA,QACA,WACA,QACA,SACA,SACA,QACA,WACA,QACA,YACA,YACA,SACA,cACA,UACA,eACA,WACA,eACA,iBACA,mBACA,oBACA,OACA,kBACA,WACA,4BACA,2BACA,eACA,aACA,cACA,iBACA,UACA,OACA,gBAEI,UA8GC;AAnOP,IAAAC,gBAAA;AAAA;AAAA;AAAA;AAAA,IAAAC;AAAA;AACA;AACA,IAAM,gBAAgB,WAAW,SAAS;AACnC,IAAM,mBAAmB,cAAc;AACvC,KAAM,EAAE,MAAM,UAAU,aAAa;AAAA,MAC1C;AAAA,IACF;AACA,IAAM,eAAe,IAAI,QAAa;AAAA,MACpC,KAAK,cAAc;AAAA,MACnB;AAAA,MACA;AAAA,IACF,CAAC;AACM,KAAM;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,QAAAH;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,QAAAC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AACJ,IAAM,WAAW;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MA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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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",
  "names": ["name", "init_performance", "init_performance", "name", "PerformanceMark", "init_performance", "init_performance", "init_performance", "init_performance", "clear", "count", "countReset", "createTask", "debug", "dir", "dirxml", "error", "group", "groupCollapsed", "groupEnd", "info", "log", "profile", "profileEnd", "table", "time", "timeEnd", "timeLog", "timeStamp", "trace", "warn", "init_console", "init_performance", "init_console", "init_performance", "hrtime", "init_performance", "Socket", "init_performance", "dir", "env", "count", "init_performance", "init_performance", "cwd", "hrtime", "assert", "init_process", "init_performance", "init_process", "init_performance", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__hasOwnProp", "__export", "name", "__copyProps", "AnyNull", "DbNull", "Decimal", "JsonNull", "NullTypes", "ObjectEnumValue", "PrismaClientInitializationError", "PrismaClientKnownRequestError", "PrismaClientRustPanicError", "PrismaClientUnknownRequestError", "PrismaClientValidationError", "Sql", "empty", "isAnyNull", "isDbNull", "isJsonNull", "join", "raw", "log3", "error", "config", "Decimal2", "log", "log2", "init_performance", "$", "ap", "dm", "on", "init_performance", "$", "init_performance", "init_performance", "PrismaClientKnownRequestError", "PrismaClientUnknownRequestError", "PrismaClientRustPanicError", "PrismaClientInitializationError", "PrismaClientValidationError", "getPrismaClient", "sqltag", "empty", "join", "raw", "skip", "Decimal", "Debug", "DbNull", "JsonNull", "AnyNull", "NullTypes", "makeStrictEnum", "Extensions", "warnOnce", "defineDmmfProperty", "Public", "getRuntime", "createParam", "config", "PrismaClient", "init_performance", "log", "__defProp", "__export", "Debug", "init_performance", "name", "debug", "init_dist", "init_performance", "Debug", "init_performance", "init_performance", "init_performance", "init_performance", "init_performance", "onError", "context", "init_performance", "init_performance", "init_performance", "init_performance", "init_performance", "init_performance", "match", "name", "name", "raw", "init_performance", "raw", "context", "raw", "name", "init_performance", "init_performance", "app", "env", "context", "init_performance", "init_performance", "init_performance", "init_performance", "context", "name", "init_performance", "init_performance", "init_performance", "init_performance", "init", "init_performance", "init_performance", "init_performance", "Node", "_Node", "name", "Node", "Hono", "init_performance", "init_performance", "name", "name", "name", "name", "init_performance", "init_performance", "init_dist", "init_performance", "init_performance", "init_performance", "title", "init_performance", "init_performance", "init_performance", "init_performance", "init_performance", "error", "init_performance", "init", "init_performance", "init_performance", "ky", "error", "ky", "init_dist", "FORCE_COLOR", "NODE_DISABLE_COLORS", "NO_COLOR", "TERM", "isTTY", "$", "init", "reset", "bold", "dim", "italic", "underline", "inverse", "hidden", "strikethrough", "black", "red", "green", "yellow", "blue", "magenta", "cyan", "white", "gray", "grey", "bgBlack", "bgRed", "bgGreen", "bgYellow", "bgBlue", "bgMagenta", "bgCyan", "bgWhite", "error", "debug", "Debug", "release", "debug2", "self", "init_performance", "init_performance", "init_performance", "error", "error", "context", "init_performance", "name", "match", "domain", "timeout", "init_performance", "error", "init_performance", "env", "config", "init_performance", "generateId", "error", "Hono", "config", "generateId", "error", "env", "apId", "actorApId", "init_performance", "init_performance", "config", "etag", "headers", "Hono", "domain", "error", "posts", "name", "init_performance", "Hono", "follow", "init_performance", "Hono", "communityApId", "posts", "init_performance", "init_performance", "init_performance", "match", "init_performance", "delay", "error", "env", "Hono", "domain", "init_performance", "posts", "Hono", "posts", "Hono", "init_performance", "Hono", "actorApId", "error", "init_performance", "init_performance", "init_performance", "Hono", "count", "base_default", "init_performance", "stories", "Hono", "count", "interactions_default", "stories", "Hono", "base_default", "interactions_default", "init_performance", "Hono", "actors", "posts", "match", "domain", "count", "init_performance", "init_performance", "init_performance", "Hono", "c", "name", "error", "base_default", "init_performance", "init_performance", "init_performance", "communities", "init_performance", "communities", "init_performance", "communities", "init_performance", "communities", "communities", "Hono", "init_performance", "communities", "Hono", "objectApId", "communities", "Hono", "base_default", "init_performance", "init_performance", "init_performance", "ap2", "actorApId", "Hono", "c", "dm", "init_performance", "dm", "Hono", "messages_default", "dm", "Hono", "messages_default", "init_performance", "Hono", "error", "follow", "init_performance", "init_performance", "init_performance", "init_performance", "init_performance", "follow", "match", "init_performance", "follow", "match", "Hono", "init_performance", "ap", "Hono", "ap", "Hono", "domain", "match", "init_performance", "init_performance", "env", "Hono", "init_performance", "CLEANUP_INTERVAL", "lastCleanup", "config", "init_performance", "Hono"]
}
